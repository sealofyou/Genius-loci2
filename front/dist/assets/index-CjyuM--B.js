(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function s(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(d){if(d.ep)return;d.ep=!0;const f=s(d);fetch(d.href,f)}})();function dh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ud={exports:{}},ma={},cd={exports:{}},Oe={};var Np;function x_(){if(Np)return Oe;Np=1;var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),h=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.iterator;function E(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,T={};function b(O,X,_e){this.props=O,this.context=X,this.refs=T,this.updater=_e||N}b.prototype.isReactComponent={},b.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},b.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=b.prototype;function z(O,X,_e){this.props=O,this.context=X,this.refs=T,this.updater=_e||N}var U=z.prototype=new j;U.constructor=z,R(U,b.prototype),U.isPureReactComponent=!0;var G=Array.isArray,q=Object.prototype.hasOwnProperty,B={current:null},ie={key:!0,ref:!0,__self:!0,__source:!0};function re(O,X,_e){var ye,pe={},ue=null,je=null;if(X!=null)for(ye in X.ref!==void 0&&(je=X.ref),X.key!==void 0&&(ue=""+X.key),X)q.call(X,ye)&&!ie.hasOwnProperty(ye)&&(pe[ye]=X[ye]);var Ie=arguments.length-2;if(Ie===1)pe.children=_e;else if(1<Ie){for(var Ge=Array(Ie),xt=0;xt<Ie;xt++)Ge[xt]=arguments[xt+2];pe.children=Ge}if(O&&O.defaultProps)for(ye in Ie=O.defaultProps,Ie)pe[ye]===void 0&&(pe[ye]=Ie[ye]);return{$$typeof:r,type:O,key:ue,ref:je,props:pe,_owner:B.current}}function Ce(O,X){return{$$typeof:r,type:O.type,key:X,ref:O.ref,props:O.props,_owner:O._owner}}function Ae(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function le(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(_e){return X[_e]})}var Ve=/\/+/g;function ze(O,X){return typeof O=="object"&&O!==null&&O.key!=null?le(""+O.key):X.toString(36)}function be(O,X,_e,ye,pe){var ue=typeof O;(ue==="undefined"||ue==="boolean")&&(O=null);var je=!1;if(O===null)je=!0;else switch(ue){case"string":case"number":je=!0;break;case"object":switch(O.$$typeof){case r:case n:je=!0}}if(je)return je=O,pe=pe(je),O=ye===""?"."+ze(je,0):ye,G(pe)?(_e="",O!=null&&(_e=O.replace(Ve,"$&/")+"/"),be(pe,X,_e,"",function(xt){return xt})):pe!=null&&(Ae(pe)&&(pe=Ce(pe,_e+(!pe.key||je&&je.key===pe.key?"":(""+pe.key).replace(Ve,"$&/")+"/")+O)),X.push(pe)),1;if(je=0,ye=ye===""?".":ye+":",G(O))for(var Ie=0;Ie<O.length;Ie++){ue=O[Ie];var Ge=ye+ze(ue,Ie);je+=be(ue,X,_e,Ge,pe)}else if(Ge=E(O),typeof Ge=="function")for(O=Ge.call(O),Ie=0;!(ue=O.next()).done;)ue=ue.value,Ge=ye+ze(ue,Ie++),je+=be(ue,X,_e,Ge,pe);else if(ue==="object")throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return je}function Fe(O,X,_e){if(O==null)return O;var ye=[],pe=0;return be(O,ye,"","",function(ue){return X.call(_e,ue,pe++)}),ye}function Re(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(_e){(O._status===0||O._status===-1)&&(O._status=1,O._result=_e)},function(_e){(O._status===0||O._status===-1)&&(O._status=2,O._result=_e)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var ke={current:null},K={transition:null},ve={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:K,ReactCurrentOwner:B};function Y(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:Fe,forEach:function(O,X,_e){Fe(O,function(){X.apply(this,arguments)},_e)},count:function(O){var X=0;return Fe(O,function(){X++}),X},toArray:function(O){return Fe(O,function(X){return X})||[]},only:function(O){if(!Ae(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Oe.Component=b,Oe.Fragment=s,Oe.Profiler=d,Oe.PureComponent=z,Oe.StrictMode=l,Oe.Suspense=g,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Oe.act=Y,Oe.cloneElement=function(O,X,_e){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ye=R({},O.props),pe=O.key,ue=O.ref,je=O._owner;if(X!=null){if(X.ref!==void 0&&(ue=X.ref,je=B.current),X.key!==void 0&&(pe=""+X.key),O.type&&O.type.defaultProps)var Ie=O.type.defaultProps;for(Ge in X)q.call(X,Ge)&&!ie.hasOwnProperty(Ge)&&(ye[Ge]=X[Ge]===void 0&&Ie!==void 0?Ie[Ge]:X[Ge])}var Ge=arguments.length-2;if(Ge===1)ye.children=_e;else if(1<Ge){Ie=Array(Ge);for(var xt=0;xt<Ge;xt++)Ie[xt]=arguments[xt+2];ye.children=Ie}return{$$typeof:r,type:O.type,key:pe,ref:ue,props:ye,_owner:je}},Oe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:f,_context:O},O.Consumer=O},Oe.createElement=re,Oe.createFactory=function(O){var X=re.bind(null,O);return X.type=O,X},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(O){return{$$typeof:y,render:O}},Oe.isValidElement=Ae,Oe.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:Re}},Oe.memo=function(O,X){return{$$typeof:_,type:O,compare:X===void 0?null:X}},Oe.startTransition=function(O){var X=K.transition;K.transition={};try{O()}finally{K.transition=X}},Oe.unstable_act=Y,Oe.useCallback=function(O,X){return ke.current.useCallback(O,X)},Oe.useContext=function(O){return ke.current.useContext(O)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(O){return ke.current.useDeferredValue(O)},Oe.useEffect=function(O,X){return ke.current.useEffect(O,X)},Oe.useId=function(){return ke.current.useId()},Oe.useImperativeHandle=function(O,X,_e){return ke.current.useImperativeHandle(O,X,_e)},Oe.useInsertionEffect=function(O,X){return ke.current.useInsertionEffect(O,X)},Oe.useLayoutEffect=function(O,X){return ke.current.useLayoutEffect(O,X)},Oe.useMemo=function(O,X){return ke.current.useMemo(O,X)},Oe.useReducer=function(O,X,_e){return ke.current.useReducer(O,X,_e)},Oe.useRef=function(O){return ke.current.useRef(O)},Oe.useState=function(O){return ke.current.useState(O)},Oe.useSyncExternalStore=function(O,X,_e){return ke.current.useSyncExternalStore(O,X,_e)},Oe.useTransition=function(){return ke.current.useTransition()},Oe.version="18.3.1",Oe}var Rp;function Oa(){return Rp||(Rp=1,cd.exports=x_()),cd.exports}var Ap;function S_(){if(Ap)return ma;Ap=1;var r=Oa(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,d=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function h(y,g,_){var x,C={},E=null,N=null;_!==void 0&&(E=""+_),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(N=g.ref);for(x in g)l.call(g,x)&&!f.hasOwnProperty(x)&&(C[x]=g[x]);if(y&&y.defaultProps)for(x in g=y.defaultProps,g)C[x]===void 0&&(C[x]=g[x]);return{$$typeof:n,type:y,key:E,ref:N,props:C,_owner:d.current}}return ma.Fragment=s,ma.jsx=h,ma.jsxs=h,ma}var Ip;function C_(){return Ip||(Ip=1,ud.exports=S_()),ud.exports}var k=C_(),F=Oa();const Cu=dh(F);var uu={},dd={exports:{}},Gt={},hd={exports:{}},fd={};var Op;function P_(){return Op||(Op=1,(function(r){function n(K,ve){var Y=K.length;K.push(ve);e:for(;0<Y;){var O=Y-1>>>1,X=K[O];if(0<d(X,ve))K[O]=ve,K[Y]=X,Y=O;else break e}}function s(K){return K.length===0?null:K[0]}function l(K){if(K.length===0)return null;var ve=K[0],Y=K.pop();if(Y!==ve){K[0]=Y;e:for(var O=0,X=K.length,_e=X>>>1;O<_e;){var ye=2*(O+1)-1,pe=K[ye],ue=ye+1,je=K[ue];if(0>d(pe,Y))ue<X&&0>d(je,pe)?(K[O]=je,K[ue]=Y,O=ue):(K[O]=pe,K[ye]=Y,O=ye);else if(ue<X&&0>d(je,Y))K[O]=je,K[ue]=Y,O=ue;else break e}}return ve}function d(K,ve){var Y=K.sortIndex-ve.sortIndex;return Y!==0?Y:K.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var h=Date,y=h.now();r.unstable_now=function(){return h.now()-y}}var g=[],_=[],x=1,C=null,E=3,N=!1,R=!1,T=!1,b=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(K){for(var ve=s(_);ve!==null;){if(ve.callback===null)l(_);else if(ve.startTime<=K)l(_),ve.sortIndex=ve.expirationTime,n(g,ve);else break;ve=s(_)}}function G(K){if(T=!1,U(K),!R)if(s(g)!==null)R=!0,Re(q);else{var ve=s(_);ve!==null&&ke(G,ve.startTime-K)}}function q(K,ve){R=!1,T&&(T=!1,j(re),re=-1),N=!0;var Y=E;try{for(U(ve),C=s(g);C!==null&&(!(C.expirationTime>ve)||K&&!le());){var O=C.callback;if(typeof O=="function"){C.callback=null,E=C.priorityLevel;var X=O(C.expirationTime<=ve);ve=r.unstable_now(),typeof X=="function"?C.callback=X:C===s(g)&&l(g),U(ve)}else l(g);C=s(g)}if(C!==null)var _e=!0;else{var ye=s(_);ye!==null&&ke(G,ye.startTime-ve),_e=!1}return _e}finally{C=null,E=Y,N=!1}}var B=!1,ie=null,re=-1,Ce=5,Ae=-1;function le(){return!(r.unstable_now()-Ae<Ce)}function Ve(){if(ie!==null){var K=r.unstable_now();Ae=K;var ve=!0;try{ve=ie(!0,K)}finally{ve?ze():(B=!1,ie=null)}}else B=!1}var ze;if(typeof z=="function")ze=function(){z(Ve)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Fe=be.port2;be.port1.onmessage=Ve,ze=function(){Fe.postMessage(null)}}else ze=function(){b(Ve,0)};function Re(K){ie=K,B||(B=!0,ze())}function ke(K,ve){re=b(function(){K(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_continueExecution=function(){R||N||(R=!0,Re(q))},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ce=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_getFirstCallbackNode=function(){return s(g)},r.unstable_next=function(K){switch(E){case 1:case 2:case 3:var ve=3;break;default:ve=E}var Y=E;E=ve;try{return K()}finally{E=Y}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(K,ve){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Y=E;E=K;try{return ve()}finally{E=Y}},r.unstable_scheduleCallback=function(K,ve,Y){var O=r.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?O+Y:O):Y=O,K){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Y+X,K={id:x++,callback:ve,priorityLevel:K,startTime:Y,expirationTime:X,sortIndex:-1},Y>O?(K.sortIndex=Y,n(_,K),s(g)===null&&K===s(_)&&(T?(j(re),re=-1):T=!0,ke(G,Y-O))):(K.sortIndex=X,n(g,K),R||N||(R=!0,Re(q))),K},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(K){var ve=E;return function(){var Y=E;E=ve;try{return K.apply(this,arguments)}finally{E=Y}}}})(fd)),fd}var Dp;function E_(){return Dp||(Dp=1,hd.exports=P_()),hd.exports}var jp;function k_(){if(jp)return Gt;jp=1;var r=Oa(),n=E_();function s(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,d={};function f(e,i){h(e,i),h(e+"Capture",i)}function h(e,i){for(d[e]=i,e=0;e<i.length;e++)l.add(i[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},C={};function E(e){return g.call(C,e)?!0:g.call(x,e)?!1:_.test(e)?C[e]=!0:(x[e]=!0,!1)}function N(e,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R(e,i,a,c){if(i===null||typeof i>"u"||N(e,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function T(e,i,a,c,m,v,S){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=m,this.mustUseProperty=a,this.propertyName=e,this.type=i,this.sanitizeURL=v,this.removeEmptyString=S}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new T(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];b[i]=new T(i,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new T(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new T(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new T(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new T(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new T(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new T(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new T(e,5,!1,e.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function z(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(j,z);b[i]=new T(i,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(j,z);b[i]=new T(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(j,z);b[i]=new T(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new T(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new T(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,i,a,c){var m=b.hasOwnProperty(i)?b[i]:null;(m!==null?m.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(R(i,a,m,c)&&(a=null),c||m===null?E(i)&&(a===null?e.removeAttribute(i):e.setAttribute(i,""+a)):m.mustUseProperty?e[m.propertyName]=a===null?m.type===3?!1:"":a:(i=m.attributeName,c=m.attributeNamespace,a===null?e.removeAttribute(i):(m=m.type,a=m===3||m===4&&a===!0?"":""+a,c?e.setAttributeNS(c,i,a):e.setAttribute(i,a))))}var G=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),B=Symbol.for("react.portal"),ie=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),Ce=Symbol.for("react.profiler"),Ae=Symbol.for("react.provider"),le=Symbol.for("react.context"),Ve=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Fe=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),K=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,O;function X(e){if(O===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);O=i&&i[1]||""}return`
`+O+e}var _e=!1;function ye(e,i){if(!e||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(e,[],i)}else{try{i.call()}catch(W){c=W}e.call(i.prototype)}else{try{throw Error()}catch(W){c=W}e()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),v=c.stack.split(`
`),S=m.length-1,M=v.length-1;1<=S&&0<=M&&m[S]!==v[M];)M--;for(;1<=S&&0<=M;S--,M--)if(m[S]!==v[M]){if(S!==1||M!==1)do if(S--,M--,0>M||m[S]!==v[M]){var I=`
`+m[S].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=S&&0<=M);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?X(e):""}function pe(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ie:return"Fragment";case B:return"Portal";case Ce:return"Profiler";case re:return"StrictMode";case ze:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case le:return(e.displayName||"Context")+".Consumer";case Ae:return(e._context.displayName||"Context")+".Provider";case Ve:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fe:return i=e.displayName||null,i!==null?i:ue(e.type)||"Memo";case Re:i=e._payload,e=e._init;try{return ue(e(i))}catch{}}return null}function je(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(i);case 8:return i===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ie(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ge(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function xt(e){var i=Ge(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,v=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return m.call(this)},set:function(S){c=""+S,v.call(this,S)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ii(e){e._valueTracker||(e._valueTracker=xt(e))}function Oi(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return e&&(c=Ge(e)?e.checked?"true":"false":e.value),e=c,e!==a?(i.setValue(e),!0):!1}function Di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mo(e,i){var a=i.checked;return Y({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function go(e,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ie(i.value!=null?i.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function vo(e,i){i=i.checked,i!=null&&U(e,"checked",i,!1)}function kr(e,i){vo(e,i);var a=Ie(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?yo(e,i.type,a):i.hasOwnProperty("defaultValue")&&yo(e,i.type,Ie(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function Tr(e,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,a||i===e.value||(e.value=i),e.defaultValue=i}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function yo(e,i,a){(i!=="number"||Di(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var ji=Array.isArray;function Fn(e,i,a,c){if(e=e.options,i){i={};for(var m=0;m<a.length;m++)i["$"+a[m]]=!0;for(a=0;a<e.length;a++)m=i.hasOwnProperty("$"+e[a].value),e[a].selected!==m&&(e[a].selected=m),m&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Ie(a),i=null,m=0;m<e.length;m++){if(e[m].value===a){e[m].selected=!0,c&&(e[m].defaultSelected=!0);return}i!==null||e[m].disabled||(i=e[m])}i!==null&&(i.selected=!0)}}function cs(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(s(91));return Y({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _o(e,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(s(92));if(ji(a)){if(1<a.length)throw Error(s(93));a=a[0]}i=a}i==null&&(i=""),a=i}e._wrapperState={initialValue:Ie(a)}}function Fa(e,i){var a=Ie(i.value),c=Ie(i.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),i.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function Ua(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function ds(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hs(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?ds(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var br,$a=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,m){MSApp.execUnsafeLocalFunction(function(){return e(i,a,c,m)})}:e})(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=br.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function zi(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bu=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(e){Bu.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),Bi[i]=Bi[e]})});function wo(e,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Bi.hasOwnProperty(e)&&Bi[e]?(""+i).trim():i+"px"}function fs(e,i){e=e.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,m=wo(a,i[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,m):e[a]=m}}var Za=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(e,i){if(i){if(Za[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(s(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(s(61))}if(i.style!=null&&typeof i.style!="object")throw Error(s(62))}}function oi(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var So=null;function Co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,ai=null,li=null;function Ha(e){if(e=wi(e)){if(typeof ps!="function")throw Error(s(280));var i=e.stateNode;i&&(i=Fs(i),ps(e.stateNode,e.type,i))}}function Wa(e){ai?li?li.push(e):li=[e]:ai=e}function Ga(){if(ai){var e=ai,i=li;if(li=ai=null,Ha(e),i)for(e=0;e<i.length;e++)Ha(i[e])}}function Ka(e,i){return e(i)}function qa(){}var Po=!1;function ms(e,i,a){if(Po)return e(i,a);Po=!0;try{return Ka(e,i,a)}finally{Po=!1,(ai!==null||li!==null)&&(qa(),Ga())}}function Lr(e,i){var a=e.stateNode;if(a===null)return null;var c=Fs(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Eo=!1;if(y)try{var Mr={};Object.defineProperty(Mr,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Mr,Mr),window.removeEventListener("test",Mr,Mr)}catch{Eo=!1}function Vu(e,i,a,c,m,v,S,M,I){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(te){this.onError(te)}}var Et=!1,me=null,Nr=!1,gs=null,Ya={onError:function(e){Et=!0,me=e}};function Xa(e,i,a,c,m,v,S,M,I){Et=!1,me=null,Vu.apply(Ya,arguments)}function ko(e,i,a,c,m,v,S,M,I){if(Xa.apply(this,arguments),Et){if(Et){var W=me;Et=!1,me=null}else throw Error(s(198));Nr||(Nr=!0,gs=W)}}function Un(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function ui(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function To(e){if(Un(e)!==e)throw Error(s(188))}function Fu(e){var i=e.alternate;if(!i){if(i=Un(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,c=i;;){var m=a.return;if(m===null)break;var v=m.alternate;if(v===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===a)return To(m),e;if(v===c)return To(m),i;v=v.sibling}throw Error(s(188))}if(a.return!==c.return)a=m,c=v;else{for(var S=!1,M=m.child;M;){if(M===a){S=!0,a=m,c=v;break}if(M===c){S=!0,c=m,a=v;break}M=M.sibling}if(!S){for(M=v.child;M;){if(M===a){S=!0,a=v,c=m;break}if(M===c){S=!0,c=v,a=m;break}M=M.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==c)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function Qa(e){return e=Fu(e),e!==null?Ja(e):null}function Ja(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=Ja(e);if(i!==null)return i;e=e.sibling}return null}var el=n.unstable_scheduleCallback,bo=n.unstable_cancelCallback,Uu=n.unstable_shouldYield,vs=n.unstable_requestPaint,et=n.unstable_now,$u=n.unstable_getCurrentPriorityLevel,Lo=n.unstable_ImmediatePriority,tl=n.unstable_UserBlockingPriority,ys=n.unstable_NormalPriority,Mo=n.unstable_LowPriority,Vi=n.unstable_IdlePriority,Rr=null,qt=null;function Ar(e){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Rr,e,void 0,(e.current.flags&128)===128)}catch{}}var Me=Math.clz32?Math.clz32:Fi,Ye=Math.log,_s=Math.LN2;function Fi(e){return e>>>=0,e===0?32:31-(Ye(e)/_s|0)|0}var kn=64,Ui=4194304;function Le(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ke(e,i){var a=e.pendingLanes;if(a===0)return 0;var c=0,m=e.suspendedLanes,v=e.pingedLanes,S=a&268435455;if(S!==0){var M=S&~m;M!==0?c=Le(M):(v&=S,v!==0&&(c=Le(v)))}else S=a&~m,S!==0?c=Le(S):v!==0&&(c=Le(v));if(c===0)return 0;if(i!==0&&i!==c&&(i&m)===0&&(m=c&-c,v=i&-i,m>=v||m===16&&(v&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=c;0<i;)a=31-Me(i),m=1<<a,c|=e[a],i&=~m;return c}function No(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(e,i){for(var a=e.suspendedLanes,c=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes;0<v;){var S=31-Me(v),M=1<<S,I=m[S];I===-1?((M&a)===0||(M&c)!==0)&&(m[S]=No(M,i)):I<=i&&(e.expiredLanes|=M),v&=~M}}function kt(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nl(){var e=kn;return kn<<=1,(kn&4194240)===0&&(kn=64),e}function $i(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Yt(e,i,a){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-Me(i),e[i]=a}function st(e,i){var a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var m=31-Me(a),v=1<<m;i[m]=0,c[m]=-1,e[m]=-1,a&=~v}}function Tn(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var c=31-Me(a),m=1<<c;m&i|e[c]&i&&(e[c]|=i),a&=~m}}var Be=0;function Zi(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xs,ci,Ss,Cs,Ir,Or=!1,Hi=[],Xt=null,bn=null,dn=null,Dr=new Map,Ee=new Map,ft=[],He="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ro(e,i){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Dr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ee.delete(i.pointerId)}}function di(e,i,a,c,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:v,targetContainers:[m]},i!==null&&(i=wi(i),i!==null&&ci(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),e)}function Ao(e,i,a,c,m){switch(i){case"focusin":return Xt=di(Xt,e,i,a,c,m),!0;case"dragenter":return bn=di(bn,e,i,a,c,m),!0;case"mouseover":return dn=di(dn,e,i,a,c,m),!0;case"pointerover":var v=m.pointerId;return Dr.set(v,di(Dr.get(v)||null,e,i,a,c,m)),!0;case"gotpointercapture":return v=m.pointerId,Ee.set(v,di(Ee.get(v)||null,e,i,a,c,m)),!0}return!1}function Ps(e){var i=_i(e.target);if(i!==null){var a=Un(i);if(a!==null){if(i=a.tag,i===13){if(i=ui(a),i!==null){e.blockedOn=i,Ir(e.priority,function(){Ss(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hn(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Ts(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);So=c,a.target.dispatchEvent(c),So=null}else return i=wi(a),i!==null&&ci(i),e.blockedOn=a,!1;i.shift()}return!0}function Es(e,i,a){hn(e)&&a.delete(i)}function jr(){Or=!1,Xt!==null&&hn(Xt)&&(Xt=null),bn!==null&&hn(bn)&&(bn=null),dn!==null&&hn(dn)&&(dn=null),Dr.forEach(Es),Ee.forEach(Es)}function tt(e,i){e.blockedOn===i&&(e.blockedOn=null,Or||(Or=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jr)))}function Qt(e){function i(m){return tt(m,e)}if(0<Hi.length){tt(Hi[0],e);for(var a=1;a<Hi.length;a++){var c=Hi[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Xt!==null&&tt(Xt,e),bn!==null&&tt(bn,e),dn!==null&&tt(dn,e),Dr.forEach(i),Ee.forEach(i),a=0;a<ft.length;a++)c=ft[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<ft.length&&(a=ft[0],a.blockedOn===null);)Ps(a),a.blockedOn===null&&ft.shift()}var hi=G.ReactCurrentBatchConfig,zr=!0;function Zu(e,i,a,c){var m=Be,v=hi.transition;hi.transition=null;try{Be=1,Br(e,i,a,c)}finally{Be=m,hi.transition=v}}function il(e,i,a,c){var m=Be,v=hi.transition;hi.transition=null;try{Be=4,Br(e,i,a,c)}finally{Be=m,hi.transition=v}}function Br(e,i,a,c){if(zr){var m=Ts(e,i,a,c);if(m===null)t(e,i,c,ks,a),Ro(e,c);else if(Ao(m,e,i,a,c))c.stopPropagation();else if(Ro(e,c),i&4&&-1<He.indexOf(e)){for(;m!==null;){var v=wi(m);if(v!==null&&xs(v),v=Ts(e,i,a,c),v===null&&t(e,i,c,ks,a),v===m)break;m=v}m!==null&&c.stopPropagation()}else t(e,i,c,null,a)}}var ks=null;function Ts(e,i,a,c){if(ks=null,e=Co(c),e=_i(e),e!==null)if(i=Un(e),i===null)e=null;else if(a=i.tag,a===13){if(e=ui(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return ks=e,null}function De(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($u()){case Lo:return 1;case tl:return 4;case ys:case Mo:return 16;case Vi:return 536870912;default:return 16}default:return 16}}var $n=null,Ot=null,Zn=null;function Io(){if(Zn)return Zn;var e,i=Ot,a=i.length,c,m="value"in $n?$n.value:$n.textContent,v=m.length;for(e=0;e<a&&i[e]===m[e];e++);var S=a-e;for(c=1;c<=S&&i[a-c]===m[v-c];c++);return Zn=m.slice(e,1<c?1-c:void 0)}function bs(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function rl(){return!1}function Tt(e){function i(a,c,m,v,S){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(a=e[M],this[M]=a?a(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Wi:rl,this.isPropagationStopped=rl,this}return Y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=Tt(Gi),fi=Y({},Gi,{view:0,detail:0}),Hu=Tt(fi),Vt,Do,Ki,Jt=Y({},fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ki&&(Ki&&e.type==="mousemove"?(Vt=e.screenX-Ki.screenX,Do=e.screenY-Ki.screenY):Do=Vt=0,Ki=e),Vt)},movementY:function(e){return"movementY"in e?e.movementY:Do}}),jo=Tt(Jt),sl=Y({},Jt,{dataTransfer:0}),zo=Tt(sl),Wu=Y({},fi,{relatedTarget:0}),Ls=Tt(Wu),ol=Y({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Tt(ol),Ku=Y({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bo=Tt(Ku),qu=Y({},Gi,{data:0}),Vo=Tt(qu),al={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ms={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=pi[e])?!!i[e]:!1}function mi(){return Yu}var Ft=Y({},fi,{key:function(e){if(e.key){var i=al[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ms[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(e){return e.type==="keypress"?bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ll=Tt(Ft),ul=Y({},Jt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cl=Tt(ul),Fo=Y({},fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),Uo=Tt(Fo),Xu=Y({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Tt(Xu),dl=Y({},Jt,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ju=Tt(dl),en=[9,13,27,32],Hn=y&&"CompositionEvent"in window,Vr=null;y&&"documentMode"in document&&(Vr=document.documentMode);var Ln=y&&"TextEvent"in window&&!Vr,hl=y&&(!Hn||Vr&&8<Vr&&11>=Vr),gi=" ",fl=!1;function qi(e,i){switch(e){case"keyup":return en.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $o(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function ec(e,i){switch(e){case"compositionend":return $o(i);case"keypress":return i.which!==32?null:(fl=!0,gi);case"textInput":return e=i.data,e===gi&&fl?null:e;default:return null}}function Wn(e,i){if(Mn)return e==="compositionend"||!Hn&&qi(e,i)?(e=Io(),Zn=Ot=$n=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return hl&&i.locale!=="ko"?null:i.data;default:return null}}var Ns={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pl(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ns[e.type]:i==="textarea"}function Rs(e,i,a,c){Wa(c),i=u(i,"onChange"),0<i.length&&(a=new Oo("onChange","change",null,a,c),e.push({event:a,listeners:i}))}var Fr=null,Dt=null;function tc(e){Qo(e,0)}function Nn(e){var i=xi(e);if(Oi(i))return e}function nc(e,i){if(e==="change")return i}var fn=!1;if(y){var Yi;if(y){var As="oninput"in document;if(!As){var Is=document.createElement("div");Is.setAttribute("oninput","return;"),As=typeof Is.oninput=="function"}Yi=As}else Yi=!1;fn=Yi&&(!document.documentMode||9<document.documentMode)}function Ur(){Fr&&(Fr.detachEvent("onpropertychange",Os),Dt=Fr=null)}function Os(e){if(e.propertyName==="value"&&Nn(Dt)){var i=[];Rs(i,Dt,e,Co(e)),ms(tc,i)}}function Ds(e,i,a){e==="focusin"?(Ur(),Fr=i,Dt=a,Fr.attachEvent("onpropertychange",Os)):e==="focusout"&&Ur()}function Xi(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nn(Dt)}function js(e,i){if(e==="click")return Nn(i)}function Zo(e,i){if(e==="input"||e==="change")return Nn(i)}function ml(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var tn=typeof Object.is=="function"?Object.is:ml;function Gn(e,i){if(tn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!g.call(i,m)||!tn(e[m],i[m]))return!1}return!0}function gl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ho(e,i){var a=gl(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=i&&c>=i)return{node:a,offset:i-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gl(a)}}function vl(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?vl(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Wo(){for(var e=window,i=Di();i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Di(e.document)}return i}function Go(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function pn(e){var i=Wo(),a=e.focusedElem,c=e.selectionRange;if(i!==a&&a&&a.ownerDocument&&vl(a.ownerDocument.documentElement,a)){if(c!==null&&Go(a)){if(i=c.start,e=c.end,e===void 0&&(e=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(e,a.value.length);else if(e=(i=a.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var m=a.textContent.length,v=Math.min(c.start,m);c=c.end===void 0?v:Math.min(c.end,m),!e.extend&&v>c&&(m=c,c=v,v=m),m=Ho(a,v);var S=Ho(a,c);m&&S&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==S.node||e.focusOffset!==S.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),e.removeAllRanges(),v>c?(e.addRange(i),e.extend(S.node,S.offset)):(i.setEnd(S.node,S.offset),e.addRange(i)))}}for(i=[],e=a;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)e=i[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zs=y&&"documentMode"in document&&11>=document.documentMode,Qi=null,Ji=null,$r=null,Bs=!1;function yl(e,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bs||Qi==null||Qi!==Di(c)||(c=Qi,"selectionStart"in c&&Go(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),$r&&Gn($r,c)||($r=c,c=u(Ji,"onSelect"),0<c.length&&(i=new Oo("onSelect","select",null,i,a),e.push({event:i,listeners:c}),i.target=Qi)))}function Kn(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var er={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionend:Kn("Transition","TransitionEnd")},qn={},Ko={};y&&(Ko=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function Zr(e){if(qn[e])return qn[e];if(!er[e])return e;var i=er[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ko)return qn[e]=i[a];return e}var _l=Zr("animationend"),mn=Zr("animationiteration"),qo=Zr("animationstart"),Yo=Zr("transitionend"),tr=new Map,wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,i){tr.set(e,i),f(i,[e])}for(var vi=0;vi<wl.length;vi++){var Vs=wl[vi],xl=Vs.toLowerCase(),ic=Vs[0].toUpperCase()+Vs.slice(1);nn(xl,"on"+ic)}nn(_l,"onAnimationEnd"),nn(mn,"onAnimationIteration"),nn(qo,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(Yo,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sl=new Set("cancel close invalid load scroll toggle".split(" ").concat(nr));function Xo(e,i,a){var c=e.type||"unknown-event";e.currentTarget=a,ko(c,i,void 0,e),e.currentTarget=null}function Qo(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],m=c.event;c=c.listeners;e:{var v=void 0;if(i)for(var S=c.length-1;0<=S;S--){var M=c[S],I=M.instance,W=M.currentTarget;if(M=M.listener,I!==v&&m.isPropagationStopped())break e;Xo(m,M,W),v=I}else for(S=0;S<c.length;S++){if(M=c[S],I=M.instance,W=M.currentTarget,M=M.listener,I!==v&&m.isPropagationStopped())break e;Xo(m,M,W),v=I}}}if(Nr)throw e=gs,Nr=!1,gs=null,e}function We(e,i){var a=i[or];a===void 0&&(a=i[or]=new Set);var c=e+"__bubble";a.has(c)||(Cl(i,e,2,!1),a.add(c))}function Jo(e,i,a){var c=0;i&&(c|=4),Cl(a,e,c,i)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function ir(e){if(!e[Hr]){e[Hr]=!0,l.forEach(function(a){a!=="selectionchange"&&(Sl.has(a)||Jo(a,!1,e),Jo(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Hr]||(i[Hr]=!0,Jo("selectionchange",!1,i))}}function Cl(e,i,a,c){switch(De(i)){case 1:var m=Zu;break;case 4:m=il;break;default:m=Br}a=m.bind(null,i,a,e),m=void 0,!Eo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?e.addEventListener(i,a,{capture:!0,passive:m}):e.addEventListener(i,a,!0):m!==void 0?e.addEventListener(i,a,{passive:m}):e.addEventListener(i,a,!1)}function t(e,i,a,c,m){var v=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var M=c.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(S===4)for(S=c.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===m||I.nodeType===8&&I.parentNode===m))return;S=S.return}for(;M!==null;){if(S=_i(M),S===null)return;if(I=S.tag,I===5||I===6){c=v=S;continue e}M=M.parentNode}}c=c.return}ms(function(){var W=v,te=Co(a),ne=[];e:{var ee=tr.get(e);if(ee!==void 0){var ae=Oo,he=e;switch(e){case"keypress":if(bs(a)===0)break e;case"keydown":case"keyup":ae=ll;break;case"focusin":he="focus",ae=Ls;break;case"focusout":he="blur",ae=Ls;break;case"beforeblur":case"afterblur":ae=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=zo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Uo;break;case _l:case mn:case qo:ae=Gu;break;case Yo:ae=Qu;break;case"scroll":ae=Hu;break;case"wheel":ae=Ju;break;case"copy":case"cut":case"paste":ae=Bo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=cl}var fe=(i&4)!==0,lt=!fe&&e==="scroll",$=fe?ee!==null?ee+"Capture":null:ee;fe=[];for(var D=W,Z;D!==null;){Z=D;var se=Z.stateNode;if(Z.tag===5&&se!==null&&(Z=se,$!==null&&(se=Lr(D,$),se!=null&&fe.push(o(D,se,Z)))),lt)break;D=D.return}0<fe.length&&(ee=new ae(ee,he,null,a,te),ne.push({event:ee,listeners:fe}))}}if((i&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ee&&a!==So&&(he=a.relatedTarget||a.fromElement)&&(_i(he)||he[Ze]))break e;if((ae||ee)&&(ee=te.window===te?te:(ee=te.ownerDocument)?ee.defaultView||ee.parentWindow:window,ae?(he=a.relatedTarget||a.toElement,ae=W,he=he?_i(he):null,he!==null&&(lt=Un(he),he!==lt||he.tag!==5&&he.tag!==6)&&(he=null)):(ae=null,he=W),ae!==he)){if(fe=jo,se="onMouseLeave",$="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(fe=cl,se="onPointerLeave",$="onPointerEnter",D="pointer"),lt=ae==null?ee:xi(ae),Z=he==null?ee:xi(he),ee=new fe(se,D+"leave",ae,a,te),ee.target=lt,ee.relatedTarget=Z,se=null,_i(te)===W&&(fe=new fe($,D+"enter",he,a,te),fe.target=Z,fe.relatedTarget=lt,se=fe),lt=se,ae&&he)t:{for(fe=ae,$=he,D=0,Z=fe;Z;Z=p(Z))D++;for(Z=0,se=$;se;se=p(se))Z++;for(;0<D-Z;)fe=p(fe),D--;for(;0<Z-D;)$=p($),Z--;for(;D--;){if(fe===$||$!==null&&fe===$.alternate)break t;fe=p(fe),$=p($)}fe=null}else fe=null;ae!==null&&w(ne,ee,ae,fe,!1),he!==null&&lt!==null&&w(ne,lt,he,fe,!0)}}e:{if(ee=W?xi(W):window,ae=ee.nodeName&&ee.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ee.type==="file")var ge=nc;else if(pl(ee))if(fn)ge=Zo;else{ge=Xi;var xe=Ds}else(ae=ee.nodeName)&&ae.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(ge=js);if(ge&&(ge=ge(e,W))){Rs(ne,ge,a,te);break e}xe&&xe(e,ee,W),e==="focusout"&&(xe=ee._wrapperState)&&xe.controlled&&ee.type==="number"&&yo(ee,"number",ee.value)}switch(xe=W?xi(W):window,e){case"focusin":(pl(xe)||xe.contentEditable==="true")&&(Qi=xe,Ji=W,$r=null);break;case"focusout":$r=Ji=Qi=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,yl(ne,a,te);break;case"selectionchange":if(zs)break;case"keydown":case"keyup":yl(ne,a,te)}var Se;if(Hn)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Mn?qi(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(hl&&a.locale!=="ko"&&(Mn||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Mn&&(Se=Io()):($n=te,Ot="value"in $n?$n.value:$n.textContent,Mn=!0)),xe=u(W,Te),0<xe.length&&(Te=new Vo(Te,e,null,a,te),ne.push({event:Te,listeners:xe}),Se?Te.data=Se:(Se=$o(a),Se!==null&&(Te.data=Se)))),(Se=Ln?ec(e,a):Wn(e,a))&&(W=u(W,"onBeforeInput"),0<W.length&&(te=new Vo("onBeforeInput","beforeinput",null,a,te),ne.push({event:te,listeners:W}),te.data=Se))}Qo(ne,i)})}function o(e,i,a){return{instance:e,listener:i,currentTarget:a}}function u(e,i){for(var a=i+"Capture",c=[];e!==null;){var m=e,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Lr(e,a),v!=null&&c.unshift(o(e,v,m)),v=Lr(e,i),v!=null&&c.push(o(e,v,m))),e=e.return}return c}function p(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function w(e,i,a,c,m){for(var v=i._reactName,S=[];a!==null&&a!==c;){var M=a,I=M.alternate,W=M.stateNode;if(I!==null&&I===c)break;M.tag===5&&W!==null&&(M=W,m?(I=Lr(a,v),I!=null&&S.unshift(o(a,I,M))):m||(I=Lr(a,v),I!=null&&S.push(o(a,I,M)))),a=a.return}S.length!==0&&e.push({event:i,listeners:S})}var P=/\r\n?/g,A=/\u0000|\uFFFD/g;function V(e){return(typeof e=="string"?e:""+e).replace(P,`
`).replace(A,"")}function H(e,i,a){if(i=V(i),V(e)!==i&&a)throw Error(s(425))}function Q(){}var oe=null,we=null;function Ne(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pt=typeof setTimeout=="function"?setTimeout:void 0,ct=typeof clearTimeout=="function"?clearTimeout:void 0,jt=typeof Promise=="function"?Promise:void 0,bt=typeof queueMicrotask=="function"?queueMicrotask:typeof jt<"u"?function(e){return jt.resolve(null).then(e).catch(rr)}:pt;function rr(e){setTimeout(function(){throw e})}function ea(e,i){var a=i,c=0;do{var m=a.nextSibling;if(e.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(c===0){e.removeChild(m),Qt(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=m}while(a);Qt(i)}function Yn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Pl(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}var yi=Math.random().toString(36).slice(2),gn="__reactFiber$"+yi,sr="__reactProps$"+yi,Ze="__reactContainer$"+yi,or="__reactEvents$"+yi,rc="__reactListeners$"+yi,sc="__reactHandles$"+yi;function _i(e){var i=e[gn];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Ze]||a[gn]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Pl(e);e!==null;){if(a=e[gn])return a;e=Pl(e)}return i}e=a,a=e.parentNode}return null}function wi(e){return e=e[gn]||e[Ze],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Fs(e){return e[sr]||null}var oc=[],Us=-1;function ar(e){return{current:e}}function Xe(e){0>Us||(e.current=oc[Us],oc[Us]=null,Us--)}function qe(e,i){Us++,oc[Us]=e.current,e.current=i}var lr={},Lt=ar(lr),Ut=ar(!1),Wr=lr;function $s(e,i){var a=e.type.contextTypes;if(!a)return lr;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in a)m[v]=i[v];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=m),m}function $t(e){return e=e.childContextTypes,e!=null}function El(){Xe(Ut),Xe(Lt)}function Qh(e,i,a){if(Lt.current!==lr)throw Error(s(168));qe(Lt,i),qe(Ut,a)}function Jh(e,i,a){var c=e.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var m in c)if(!(m in i))throw Error(s(108,je(e)||"Unknown",m));return Y({},a,c)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,Wr=Lt.current,qe(Lt,e),qe(Ut,Ut.current),!0}function ef(e,i,a){var c=e.stateNode;if(!c)throw Error(s(169));a?(e=Jh(e,i,Wr),c.__reactInternalMemoizedMergedChildContext=e,Xe(Ut),Xe(Lt),qe(Lt,e)):Xe(Ut),qe(Ut,a)}var Si=null,Tl=!1,ac=!1;function tf(e){Si===null?Si=[e]:Si.push(e)}function Vy(e){Tl=!0,tf(e)}function ur(){if(!ac&&Si!==null){ac=!0;var e=0,i=Be;try{var a=Si;for(Be=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}Si=null,Tl=!1}catch(m){throw Si!==null&&(Si=Si.slice(e+1)),el(Lo,ur),m}finally{Be=i,ac=!1}}return null}var Zs=[],Hs=0,bl=null,Ll=0,vn=[],yn=0,Gr=null,Ci=1,Pi="";function Kr(e,i){Zs[Hs++]=Ll,Zs[Hs++]=bl,bl=e,Ll=i}function nf(e,i,a){vn[yn++]=Ci,vn[yn++]=Pi,vn[yn++]=Gr,Gr=e;var c=Ci;e=Pi;var m=32-Me(c)-1;c&=~(1<<m),a+=1;var v=32-Me(i)+m;if(30<v){var S=m-m%5;v=(c&(1<<S)-1).toString(32),c>>=S,m-=S,Ci=1<<32-Me(i)+m|a<<m|c,Pi=v+e}else Ci=1<<v|a<<m|c,Pi=e}function lc(e){e.return!==null&&(Kr(e,1),nf(e,1,0))}function uc(e){for(;e===bl;)bl=Zs[--Hs],Zs[Hs]=null,Ll=Zs[--Hs],Zs[Hs]=null;for(;e===Gr;)Gr=vn[--yn],vn[yn]=null,Pi=vn[--yn],vn[yn]=null,Ci=vn[--yn],vn[yn]=null}var rn=null,sn=null,Je=!1,Rn=null;function rf(e,i){var a=Sn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=e,i=e.deletions,i===null?(e.deletions=[a],e.flags|=16):i.push(a)}function sf(e,i){switch(e.tag){case 5:var a=e.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,rn=e,sn=Yn(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,rn=e,sn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Gr!==null?{id:Ci,overflow:Pi}:null,e.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Sn(18,null,null,0),a.stateNode=i,a.return=e,e.child=a,rn=e,sn=null,!0):!1;default:return!1}}function cc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dc(e){if(Je){var i=sn;if(i){var a=i;if(!sf(e,i)){if(cc(e))throw Error(s(418));i=Yn(a.nextSibling);var c=rn;i&&sf(e,i)?rf(c,a):(e.flags=e.flags&-4097|2,Je=!1,rn=e)}}else{if(cc(e))throw Error(s(418));e.flags=e.flags&-4097|2,Je=!1,rn=e}}}function of(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rn=e}function Ml(e){if(e!==rn)return!1;if(!Je)return of(e),Je=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Ne(e.type,e.memoizedProps)),i&&(i=sn)){if(cc(e))throw af(),Error(s(418));for(;i;)rf(e,i),i=Yn(i.nextSibling)}if(of(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(i===0){sn=Yn(e.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}e=e.nextSibling}sn=null}}else sn=rn?Yn(e.stateNode.nextSibling):null;return!0}function af(){for(var e=sn;e;)e=Yn(e.nextSibling)}function Ws(){sn=rn=null,Je=!1}function hc(e){Rn===null?Rn=[e]:Rn.push(e)}var Fy=G.ReactCurrentBatchConfig;function ta(e,i,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(s(309));var c=a.stateNode}if(!c)throw Error(s(147,e));var m=c,v=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===v?i.ref:(i=function(S){var M=m.refs;S===null?delete M[v]:M[v]=S},i._stringRef=v,i)}if(typeof e!="string")throw Error(s(284));if(!a._owner)throw Error(s(290,e))}return e}function Nl(e,i){throw e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function lf(e){var i=e._init;return i(e._payload)}function uf(e){function i($,D){if(e){var Z=$.deletions;Z===null?($.deletions=[D],$.flags|=16):Z.push(D)}}function a($,D){if(!e)return null;for(;D!==null;)i($,D),D=D.sibling;return null}function c($,D){for($=new Map;D!==null;)D.key!==null?$.set(D.key,D):$.set(D.index,D),D=D.sibling;return $}function m($,D){return $=vr($,D),$.index=0,$.sibling=null,$}function v($,D,Z){return $.index=Z,e?(Z=$.alternate,Z!==null?(Z=Z.index,Z<D?($.flags|=2,D):Z):($.flags|=2,D)):($.flags|=1048576,D)}function S($){return e&&$.alternate===null&&($.flags|=2),$}function M($,D,Z,se){return D===null||D.tag!==6?(D=id(Z,$.mode,se),D.return=$,D):(D=m(D,Z),D.return=$,D)}function I($,D,Z,se){var ge=Z.type;return ge===ie?te($,D,Z.props.children,se,Z.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Re&&lf(ge)===D.type)?(se=m(D,Z.props),se.ref=ta($,D,Z),se.return=$,se):(se=tu(Z.type,Z.key,Z.props,null,$.mode,se),se.ref=ta($,D,Z),se.return=$,se)}function W($,D,Z,se){return D===null||D.tag!==4||D.stateNode.containerInfo!==Z.containerInfo||D.stateNode.implementation!==Z.implementation?(D=rd(Z,$.mode,se),D.return=$,D):(D=m(D,Z.children||[]),D.return=$,D)}function te($,D,Z,se,ge){return D===null||D.tag!==7?(D=ns(Z,$.mode,se,ge),D.return=$,D):(D=m(D,Z),D.return=$,D)}function ne($,D,Z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=id(""+D,$.mode,Z),D.return=$,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return Z=tu(D.type,D.key,D.props,null,$.mode,Z),Z.ref=ta($,null,D),Z.return=$,Z;case B:return D=rd(D,$.mode,Z),D.return=$,D;case Re:var se=D._init;return ne($,se(D._payload),Z)}if(ji(D)||ve(D))return D=ns(D,$.mode,Z,null),D.return=$,D;Nl($,D)}return null}function ee($,D,Z,se){var ge=D!==null?D.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return ge!==null?null:M($,D,""+Z,se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:return Z.key===ge?I($,D,Z,se):null;case B:return Z.key===ge?W($,D,Z,se):null;case Re:return ge=Z._init,ee($,D,ge(Z._payload),se)}if(ji(Z)||ve(Z))return ge!==null?null:te($,D,Z,se,null);Nl($,Z)}return null}function ae($,D,Z,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return $=$.get(Z)||null,M(D,$,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case q:return $=$.get(se.key===null?Z:se.key)||null,I(D,$,se,ge);case B:return $=$.get(se.key===null?Z:se.key)||null,W(D,$,se,ge);case Re:var xe=se._init;return ae($,D,Z,xe(se._payload),ge)}if(ji(se)||ve(se))return $=$.get(Z)||null,te(D,$,se,ge,null);Nl(D,se)}return null}function he($,D,Z,se){for(var ge=null,xe=null,Se=D,Te=D=0,_t=null;Se!==null&&Te<Z.length;Te++){Se.index>Te?(_t=Se,Se=null):_t=Se.sibling;var $e=ee($,Se,Z[Te],se);if($e===null){Se===null&&(Se=_t);break}e&&Se&&$e.alternate===null&&i($,Se),D=v($e,D,Te),xe===null?ge=$e:xe.sibling=$e,xe=$e,Se=_t}if(Te===Z.length)return a($,Se),Je&&Kr($,Te),ge;if(Se===null){for(;Te<Z.length;Te++)Se=ne($,Z[Te],se),Se!==null&&(D=v(Se,D,Te),xe===null?ge=Se:xe.sibling=Se,xe=Se);return Je&&Kr($,Te),ge}for(Se=c($,Se);Te<Z.length;Te++)_t=ae(Se,$,Te,Z[Te],se),_t!==null&&(e&&_t.alternate!==null&&Se.delete(_t.key===null?Te:_t.key),D=v(_t,D,Te),xe===null?ge=_t:xe.sibling=_t,xe=_t);return e&&Se.forEach(function(yr){return i($,yr)}),Je&&Kr($,Te),ge}function fe($,D,Z,se){var ge=ve(Z);if(typeof ge!="function")throw Error(s(150));if(Z=ge.call(Z),Z==null)throw Error(s(151));for(var xe=ge=null,Se=D,Te=D=0,_t=null,$e=Z.next();Se!==null&&!$e.done;Te++,$e=Z.next()){Se.index>Te?(_t=Se,Se=null):_t=Se.sibling;var yr=ee($,Se,$e.value,se);if(yr===null){Se===null&&(Se=_t);break}e&&Se&&yr.alternate===null&&i($,Se),D=v(yr,D,Te),xe===null?ge=yr:xe.sibling=yr,xe=yr,Se=_t}if($e.done)return a($,Se),Je&&Kr($,Te),ge;if(Se===null){for(;!$e.done;Te++,$e=Z.next())$e=ne($,$e.value,se),$e!==null&&(D=v($e,D,Te),xe===null?ge=$e:xe.sibling=$e,xe=$e);return Je&&Kr($,Te),ge}for(Se=c($,Se);!$e.done;Te++,$e=Z.next())$e=ae(Se,$,Te,$e.value,se),$e!==null&&(e&&$e.alternate!==null&&Se.delete($e.key===null?Te:$e.key),D=v($e,D,Te),xe===null?ge=$e:xe.sibling=$e,xe=$e);return e&&Se.forEach(function(w_){return i($,w_)}),Je&&Kr($,Te),ge}function lt($,D,Z,se){if(typeof Z=="object"&&Z!==null&&Z.type===ie&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case q:e:{for(var ge=Z.key,xe=D;xe!==null;){if(xe.key===ge){if(ge=Z.type,ge===ie){if(xe.tag===7){a($,xe.sibling),D=m(xe,Z.props.children),D.return=$,$=D;break e}}else if(xe.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Re&&lf(ge)===xe.type){a($,xe.sibling),D=m(xe,Z.props),D.ref=ta($,xe,Z),D.return=$,$=D;break e}a($,xe);break}else i($,xe);xe=xe.sibling}Z.type===ie?(D=ns(Z.props.children,$.mode,se,Z.key),D.return=$,$=D):(se=tu(Z.type,Z.key,Z.props,null,$.mode,se),se.ref=ta($,D,Z),se.return=$,$=se)}return S($);case B:e:{for(xe=Z.key;D!==null;){if(D.key===xe)if(D.tag===4&&D.stateNode.containerInfo===Z.containerInfo&&D.stateNode.implementation===Z.implementation){a($,D.sibling),D=m(D,Z.children||[]),D.return=$,$=D;break e}else{a($,D);break}else i($,D);D=D.sibling}D=rd(Z,$.mode,se),D.return=$,$=D}return S($);case Re:return xe=Z._init,lt($,D,xe(Z._payload),se)}if(ji(Z))return he($,D,Z,se);if(ve(Z))return fe($,D,Z,se);Nl($,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,D!==null&&D.tag===6?(a($,D.sibling),D=m(D,Z),D.return=$,$=D):(a($,D),D=id(Z,$.mode,se),D.return=$,$=D),S($)):a($,D)}return lt}var Gs=uf(!0),cf=uf(!1),Rl=ar(null),Al=null,Ks=null,fc=null;function pc(){fc=Ks=Al=null}function mc(e){var i=Rl.current;Xe(Rl),e._currentValue=i}function gc(e,i,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===a)break;e=e.return}}function qs(e,i){Al=e,fc=Ks=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&i)!==0&&(Zt=!0),e.firstContext=null)}function _n(e){var i=e._currentValue;if(fc!==e)if(e={context:e,memoizedValue:i,next:null},Ks===null){if(Al===null)throw Error(s(308));Ks=e,Al.dependencies={lanes:0,firstContext:e}}else Ks=Ks.next=e;return i}var qr=null;function vc(e){qr===null?qr=[e]:qr.push(e)}function df(e,i,a,c){var m=i.interleaved;return m===null?(a.next=a,vc(i)):(a.next=m.next,m.next=a),i.interleaved=a,Ei(e,c)}function Ei(e,i){e.lanes|=i;var a=e.alternate;for(a!==null&&(a.lanes|=i),a=e,e=e.return;e!==null;)e.childLanes|=i,a=e.alternate,a!==null&&(a.childLanes|=i),a=e,e=e.return;return a.tag===3?a.stateNode:null}var cr=!1;function yc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ki(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function dr(e,i,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,Ei(e,a)}return m=c.interleaved,m===null?(i.next=i,vc(c)):(i.next=m.next,m.next=i),c.interleaved=i,Ei(e,a)}function Il(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,Tn(e,a)}}function ff(e,i){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};v===null?m=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?m=v=i:v=v.next=i}else m=v=i;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}function Ol(e,i,a,c){var m=e.updateQueue;cr=!1;var v=m.firstBaseUpdate,S=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var I=M,W=I.next;I.next=null,S===null?v=W:S.next=W,S=I;var te=e.alternate;te!==null&&(te=te.updateQueue,M=te.lastBaseUpdate,M!==S&&(M===null?te.firstBaseUpdate=W:M.next=W,te.lastBaseUpdate=I))}if(v!==null){var ne=m.baseState;S=0,te=W=I=null,M=v;do{var ee=M.lane,ae=M.eventTime;if((c&ee)===ee){te!==null&&(te=te.next={eventTime:ae,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var he=e,fe=M;switch(ee=i,ae=a,fe.tag){case 1:if(he=fe.payload,typeof he=="function"){ne=he.call(ae,ne,ee);break e}ne=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=fe.payload,ee=typeof he=="function"?he.call(ae,ne,ee):he,ee==null)break e;ne=Y({},ne,ee);break e;case 2:cr=!0}}M.callback!==null&&M.lane!==0&&(e.flags|=64,ee=m.effects,ee===null?m.effects=[M]:ee.push(M))}else ae={eventTime:ae,lane:ee,tag:M.tag,payload:M.payload,callback:M.callback,next:null},te===null?(W=te=ae,I=ne):te=te.next=ae,S|=ee;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;ee=M,M=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);if(te===null&&(I=ne),m.baseState=I,m.firstBaseUpdate=W,m.lastBaseUpdate=te,i=m.shared.interleaved,i!==null){m=i;do S|=m.lane,m=m.next;while(m!==i)}else v===null&&(m.shared.lanes=0);Qr|=S,e.lanes=S,e.memoizedState=ne}}function pf(e,i,a){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var c=e[i],m=c.callback;if(m!==null){if(c.callback=null,c=a,typeof m!="function")throw Error(s(191,m));m.call(c)}}}var na={},Xn=ar(na),ia=ar(na),ra=ar(na);function Yr(e){if(e===na)throw Error(s(174));return e}function _c(e,i){switch(qe(ra,i),qe(ia,e),qe(Xn,na),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:hs(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=hs(i,e)}Xe(Xn),qe(Xn,i)}function Ys(){Xe(Xn),Xe(ia),Xe(ra)}function mf(e){Yr(ra.current);var i=Yr(Xn.current),a=hs(i,e.type);i!==a&&(qe(ia,e),qe(Xn,a))}function wc(e){ia.current===e&&(Xe(Xn),Xe(ia))}var nt=ar(0);function Dl(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var xc=[];function Sc(){for(var e=0;e<xc.length;e++)xc[e]._workInProgressVersionPrimary=null;xc.length=0}var jl=G.ReactCurrentDispatcher,Cc=G.ReactCurrentBatchConfig,Xr=0,it=null,mt=null,vt=null,zl=!1,sa=!1,oa=0,Uy=0;function Mt(){throw Error(s(321))}function Pc(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!tn(e[a],i[a]))return!1;return!0}function Ec(e,i,a,c,m,v){if(Xr=v,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,jl.current=e===null||e.memoizedState===null?Wy:Gy,e=a(c,m),sa){v=0;do{if(sa=!1,oa=0,25<=v)throw Error(s(301));v+=1,vt=mt=null,i.updateQueue=null,jl.current=Ky,e=a(c,m)}while(sa)}if(jl.current=Fl,i=mt!==null&&mt.next!==null,Xr=0,vt=mt=it=null,zl=!1,i)throw Error(s(300));return e}function kc(){var e=oa!==0;return oa=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?it.memoizedState=vt=e:vt=vt.next=e,vt}function wn(){if(mt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var i=vt===null?it.memoizedState:vt.next;if(i!==null)vt=i,mt=e;else{if(e===null)throw Error(s(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},vt===null?it.memoizedState=vt=e:vt=vt.next=e}return vt}function aa(e,i){return typeof i=="function"?i(e):i}function Tc(e){var i=wn(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=mt,m=c.baseQueue,v=a.pending;if(v!==null){if(m!==null){var S=m.next;m.next=v.next,v.next=S}c.baseQueue=m=v,a.pending=null}if(m!==null){v=m.next,c=c.baseState;var M=S=null,I=null,W=v;do{var te=W.lane;if((Xr&te)===te)I!==null&&(I=I.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:e(c,W.action);else{var ne={lane:te,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};I===null?(M=I=ne,S=c):I=I.next=ne,it.lanes|=te,Qr|=te}W=W.next}while(W!==null&&W!==v);I===null?S=c:I.next=M,tn(c,i.memoizedState)||(Zt=!0),i.memoizedState=c,i.baseState=S,i.baseQueue=I,a.lastRenderedState=c}if(e=a.interleaved,e!==null){m=e;do v=m.lane,it.lanes|=v,Qr|=v,m=m.next;while(m!==e)}else m===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function bc(e){var i=wn(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var c=a.dispatch,m=a.pending,v=i.memoizedState;if(m!==null){a.pending=null;var S=m=m.next;do v=e(v,S.action),S=S.next;while(S!==m);tn(v,i.memoizedState)||(Zt=!0),i.memoizedState=v,i.baseQueue===null&&(i.baseState=v),a.lastRenderedState=v}return[v,c]}function gf(){}function vf(e,i){var a=it,c=wn(),m=i(),v=!tn(c.memoizedState,m);if(v&&(c.memoizedState=m,Zt=!0),c=c.queue,Lc(wf.bind(null,a,c,e),[e]),c.getSnapshot!==i||v||vt!==null&&vt.memoizedState.tag&1){if(a.flags|=2048,la(9,_f.bind(null,a,c,m,i),void 0,null),yt===null)throw Error(s(349));(Xr&30)!==0||yf(a,i,m)}return m}function yf(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function _f(e,i,a,c){i.value=a,i.getSnapshot=c,xf(i)&&Sf(e)}function wf(e,i,a){return a(function(){xf(i)&&Sf(e)})}function xf(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!tn(e,a)}catch{return!0}}function Sf(e){var i=Ei(e,1);i!==null&&Dn(i,e,1,-1)}function Cf(e){var i=Qn();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},i.queue=e,e=e.dispatch=Hy.bind(null,it,e),[i.memoizedState,e]}function la(e,i,a,c){return e={tag:e,create:i,destroy:a,deps:c,next:null},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.lastEffect=e.next=e):(a=i.lastEffect,a===null?i.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,i.lastEffect=e)),e}function Pf(){return wn().memoizedState}function Bl(e,i,a,c){var m=Qn();it.flags|=e,m.memoizedState=la(1|i,a,void 0,c===void 0?null:c)}function Vl(e,i,a,c){var m=wn();c=c===void 0?null:c;var v=void 0;if(mt!==null){var S=mt.memoizedState;if(v=S.destroy,c!==null&&Pc(c,S.deps)){m.memoizedState=la(i,a,v,c);return}}it.flags|=e,m.memoizedState=la(1|i,a,v,c)}function Ef(e,i){return Bl(8390656,8,e,i)}function Lc(e,i){return Vl(2048,8,e,i)}function kf(e,i){return Vl(4,2,e,i)}function Tf(e,i){return Vl(4,4,e,i)}function bf(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Lf(e,i,a){return a=a!=null?a.concat([e]):null,Vl(4,4,bf.bind(null,i,e),a)}function Mc(){}function Mf(e,i){var a=wn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Pc(i,c[1])?c[0]:(a.memoizedState=[e,i],e)}function Nf(e,i){var a=wn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Pc(i,c[1])?c[0]:(e=e(),a.memoizedState=[e,i],e)}function Rf(e,i,a){return(Xr&21)===0?(e.baseState&&(e.baseState=!1,Zt=!0),e.memoizedState=a):(tn(a,i)||(a=nl(),it.lanes|=a,Qr|=a,e.baseState=!0),i)}function $y(e,i){var a=Be;Be=a!==0&&4>a?a:4,e(!0);var c=Cc.transition;Cc.transition={};try{e(!1),i()}finally{Be=a,Cc.transition=c}}function Af(){return wn().memoizedState}function Zy(e,i,a){var c=mr(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},If(e))Of(i,a);else if(a=df(e,i,a,c),a!==null){var m=Bt();Dn(a,e,c,m),Df(a,i,c)}}function Hy(e,i,a){var c=mr(e),m={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(If(e))Of(i,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=i.lastRenderedReducer,v!==null))try{var S=i.lastRenderedState,M=v(S,a);if(m.hasEagerState=!0,m.eagerState=M,tn(M,S)){var I=i.interleaved;I===null?(m.next=m,vc(i)):(m.next=I.next,I.next=m),i.interleaved=m;return}}catch{}a=df(e,i,m,c),a!==null&&(m=Bt(),Dn(a,e,c,m),Df(a,i,c))}}function If(e){var i=e.alternate;return e===it||i!==null&&i===it}function Of(e,i){sa=zl=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Df(e,i,a){if((a&4194240)!==0){var c=i.lanes;c&=e.pendingLanes,a|=c,i.lanes=a,Tn(e,a)}}var Fl={readContext:_n,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},Wy={readContext:_n,useCallback:function(e,i){return Qn().memoizedState=[e,i===void 0?null:i],e},useContext:_n,useEffect:Ef,useImperativeHandle:function(e,i,a){return a=a!=null?a.concat([e]):null,Bl(4194308,4,bf.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Bl(4194308,4,e,i)},useInsertionEffect:function(e,i){return Bl(4,2,e,i)},useMemo:function(e,i){var a=Qn();return i=i===void 0?null:i,e=e(),a.memoizedState=[e,i],e},useReducer:function(e,i,a){var c=Qn();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},c.queue=e,e=e.dispatch=Zy.bind(null,it,e),[c.memoizedState,e]},useRef:function(e){var i=Qn();return e={current:e},i.memoizedState=e},useState:Cf,useDebugValue:Mc,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=Cf(!1),i=e[0];return e=$y.bind(null,e[1]),Qn().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,a){var c=it,m=Qn();if(Je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),yt===null)throw Error(s(349));(Xr&30)!==0||yf(c,i,a)}m.memoizedState=a;var v={value:a,getSnapshot:i};return m.queue=v,Ef(wf.bind(null,c,v,e),[e]),c.flags|=2048,la(9,_f.bind(null,c,v,a,i),void 0,null),a},useId:function(){var e=Qn(),i=yt.identifierPrefix;if(Je){var a=Pi,c=Ci;a=(c&~(1<<32-Me(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=oa++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=Uy++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Gy={readContext:_n,useCallback:Mf,useContext:_n,useEffect:Lc,useImperativeHandle:Lf,useInsertionEffect:kf,useLayoutEffect:Tf,useMemo:Nf,useReducer:Tc,useRef:Pf,useState:function(){return Tc(aa)},useDebugValue:Mc,useDeferredValue:function(e){var i=wn();return Rf(i,mt.memoizedState,e)},useTransition:function(){var e=Tc(aa)[0],i=wn().memoizedState;return[e,i]},useMutableSource:gf,useSyncExternalStore:vf,useId:Af,unstable_isNewReconciler:!1},Ky={readContext:_n,useCallback:Mf,useContext:_n,useEffect:Lc,useImperativeHandle:Lf,useInsertionEffect:kf,useLayoutEffect:Tf,useMemo:Nf,useReducer:bc,useRef:Pf,useState:function(){return bc(aa)},useDebugValue:Mc,useDeferredValue:function(e){var i=wn();return mt===null?i.memoizedState=e:Rf(i,mt.memoizedState,e)},useTransition:function(){var e=bc(aa)[0],i=wn().memoizedState;return[e,i]},useMutableSource:gf,useSyncExternalStore:vf,useId:Af,unstable_isNewReconciler:!1};function An(e,i){if(e&&e.defaultProps){i=Y({},i),e=e.defaultProps;for(var a in e)i[a]===void 0&&(i[a]=e[a]);return i}return i}function Nc(e,i,a,c){i=e.memoizedState,a=a(c,i),a=a==null?i:Y({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ul={isMounted:function(e){return(e=e._reactInternals)?Un(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var c=Bt(),m=mr(e),v=ki(c,m);v.payload=i,a!=null&&(v.callback=a),i=dr(e,v,m),i!==null&&(Dn(i,e,m,c),Il(i,e,m))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var c=Bt(),m=mr(e),v=ki(c,m);v.tag=1,v.payload=i,a!=null&&(v.callback=a),i=dr(e,v,m),i!==null&&(Dn(i,e,m,c),Il(i,e,m))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Bt(),c=mr(e),m=ki(a,c);m.tag=2,i!=null&&(m.callback=i),i=dr(e,m,c),i!==null&&(Dn(i,e,c,a),Il(i,e,c))}};function jf(e,i,a,c,m,v,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,v,S):i.prototype&&i.prototype.isPureReactComponent?!Gn(a,c)||!Gn(m,v):!0}function zf(e,i,a){var c=!1,m=lr,v=i.contextType;return typeof v=="object"&&v!==null?v=_n(v):(m=$t(i)?Wr:Lt.current,c=i.contextTypes,v=(c=c!=null)?$s(e,m):lr),i=new i(a,v),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ul,e.stateNode=i,i._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=v),i}function Bf(e,i,a,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==e&&Ul.enqueueReplaceState(i,i.state,null)}function Rc(e,i,a,c){var m=e.stateNode;m.props=a,m.state=e.memoizedState,m.refs={},yc(e);var v=i.contextType;typeof v=="object"&&v!==null?m.context=_n(v):(v=$t(i)?Wr:Lt.current,m.context=$s(e,v)),m.state=e.memoizedState,v=i.getDerivedStateFromProps,typeof v=="function"&&(Nc(e,i,v,a),m.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&Ul.enqueueReplaceState(m,m.state,null),Ol(e,a,m,c),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function Xs(e,i){try{var a="",c=i;do a+=pe(c),c=c.return;while(c);var m=a}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:i,stack:m,digest:null}}function Ac(e,i,a){return{value:e,source:null,stack:a??null,digest:i??null}}function Ic(e,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var qy=typeof WeakMap=="function"?WeakMap:Map;function Vf(e,i,a){a=ki(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){ql||(ql=!0,qc=c),Ic(e,i)},a}function Ff(e,i,a){a=ki(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var m=i.value;a.payload=function(){return c(m)},a.callback=function(){Ic(e,i)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(a.callback=function(){Ic(e,i),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var S=i.stack;this.componentDidCatch(i.value,{componentStack:S!==null?S:""})}),a}function Uf(e,i,a){var c=e.pingCache;if(c===null){c=e.pingCache=new qy;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(a)||(m.add(a),e=u_.bind(null,e,i,a),i.then(e,e))}function $f(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Zf(e,i,a,c,m){return(e.mode&1)===0?(e===i?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=ki(-1,1),i.tag=2,dr(a,i,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var Yy=G.ReactCurrentOwner,Zt=!1;function zt(e,i,a,c){i.child=e===null?cf(i,null,a,c):Gs(i,e.child,a,c)}function Hf(e,i,a,c,m){a=a.render;var v=i.ref;return qs(i,m),c=Ec(e,i,a,c,v,m),a=kc(),e!==null&&!Zt?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~m,Ti(e,i,m)):(Je&&a&&lc(i),i.flags|=1,zt(e,i,c,m),i.child)}function Wf(e,i,a,c,m){if(e===null){var v=a.type;return typeof v=="function"&&!nd(v)&&v.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=v,Gf(e,i,v,c,m)):(e=tu(a.type,null,c,i,i.mode,m),e.ref=i.ref,e.return=i,i.child=e)}if(v=e.child,(e.lanes&m)===0){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:Gn,a(S,c)&&e.ref===i.ref)return Ti(e,i,m)}return i.flags|=1,e=vr(v,c),e.ref=i.ref,e.return=i,i.child=e}function Gf(e,i,a,c,m){if(e!==null){var v=e.memoizedProps;if(Gn(v,c)&&e.ref===i.ref)if(Zt=!1,i.pendingProps=c=v,(e.lanes&m)!==0)(e.flags&131072)!==0&&(Zt=!0);else return i.lanes=e.lanes,Ti(e,i,m)}return Oc(e,i,a,c,m)}function Kf(e,i,a){var c=i.pendingProps,m=c.children,v=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Js,on),on|=a;else{if((a&1073741824)===0)return e=v!==null?v.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,qe(Js,on),on|=e,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=v!==null?v.baseLanes:a,qe(Js,on),on|=c}else v!==null?(c=v.baseLanes|a,i.memoizedState=null):c=a,qe(Js,on),on|=c;return zt(e,i,m,a),i.child}function qf(e,i){var a=i.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function Oc(e,i,a,c,m){var v=$t(a)?Wr:Lt.current;return v=$s(i,v),qs(i,m),a=Ec(e,i,a,c,v,m),c=kc(),e!==null&&!Zt?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~m,Ti(e,i,m)):(Je&&c&&lc(i),i.flags|=1,zt(e,i,a,m),i.child)}function Yf(e,i,a,c,m){if($t(a)){var v=!0;kl(i)}else v=!1;if(qs(i,m),i.stateNode===null)Zl(e,i),zf(i,a,c),Rc(i,a,c,m),c=!0;else if(e===null){var S=i.stateNode,M=i.memoizedProps;S.props=M;var I=S.context,W=a.contextType;typeof W=="object"&&W!==null?W=_n(W):(W=$t(a)?Wr:Lt.current,W=$s(i,W));var te=a.getDerivedStateFromProps,ne=typeof te=="function"||typeof S.getSnapshotBeforeUpdate=="function";ne||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==c||I!==W)&&Bf(i,S,c,W),cr=!1;var ee=i.memoizedState;S.state=ee,Ol(i,c,S,m),I=i.memoizedState,M!==c||ee!==I||Ut.current||cr?(typeof te=="function"&&(Nc(i,a,te,c),I=i.memoizedState),(M=cr||jf(i,a,M,c,ee,I,W))?(ne||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(i.flags|=4194308)):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=I),S.props=c,S.state=I,S.context=W,c=M):(typeof S.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{S=i.stateNode,hf(e,i),M=i.memoizedProps,W=i.type===i.elementType?M:An(i.type,M),S.props=W,ne=i.pendingProps,ee=S.context,I=a.contextType,typeof I=="object"&&I!==null?I=_n(I):(I=$t(a)?Wr:Lt.current,I=$s(i,I));var ae=a.getDerivedStateFromProps;(te=typeof ae=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==ne||ee!==I)&&Bf(i,S,c,I),cr=!1,ee=i.memoizedState,S.state=ee,Ol(i,c,S,m);var he=i.memoizedState;M!==ne||ee!==he||Ut.current||cr?(typeof ae=="function"&&(Nc(i,a,ae,c),he=i.memoizedState),(W=cr||jf(i,a,W,c,ee,he,I)||!1)?(te||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(c,he,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(c,he,I)),typeof S.componentDidUpdate=="function"&&(i.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===e.memoizedProps&&ee===e.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ee===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=he),S.props=c,S.state=he,S.context=I,c=W):(typeof S.componentDidUpdate!="function"||M===e.memoizedProps&&ee===e.memoizedState||(i.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===e.memoizedProps&&ee===e.memoizedState||(i.flags|=1024),c=!1)}return Dc(e,i,a,c,v,m)}function Dc(e,i,a,c,m,v){qf(e,i);var S=(i.flags&128)!==0;if(!c&&!S)return m&&ef(i,a,!1),Ti(e,i,v);c=i.stateNode,Yy.current=i;var M=S&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,e!==null&&S?(i.child=Gs(i,e.child,null,v),i.child=Gs(i,null,M,v)):zt(e,i,M,v),i.memoizedState=c.state,m&&ef(i,a,!0),i.child}function Xf(e){var i=e.stateNode;i.pendingContext?Qh(e,i.pendingContext,i.pendingContext!==i.context):i.context&&Qh(e,i.context,!1),_c(e,i.containerInfo)}function Qf(e,i,a,c,m){return Ws(),hc(m),i.flags|=256,zt(e,i,a,c),i.child}var jc={dehydrated:null,treeContext:null,retryLane:0};function zc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jf(e,i,a){var c=i.pendingProps,m=nt.current,v=!1,S=(i.flags&128)!==0,M;if((M=S)||(M=e!==null&&e.memoizedState===null?!1:(m&2)!==0),M?(v=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),qe(nt,m&1),e===null)return dc(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((i.mode&1)===0?i.lanes=1:e.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(S=c.children,e=c.fallback,v?(c=i.mode,v=i.child,S={mode:"hidden",children:S},(c&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=nu(S,c,0,null),e=ns(e,c,a,null),v.return=i,e.return=i,v.sibling=e,i.child=v,i.child.memoizedState=zc(a),i.memoizedState=jc,e):Bc(i,S));if(m=e.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return Xy(e,i,S,c,M,m,a);if(v){v=c.fallback,S=i.mode,m=e.child,M=m.sibling;var I={mode:"hidden",children:c.children};return(S&1)===0&&i.child!==m?(c=i.child,c.childLanes=0,c.pendingProps=I,i.deletions=null):(c=vr(m,I),c.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=vr(M,v):(v=ns(v,S,a,null),v.flags|=2),v.return=i,c.return=i,c.sibling=v,i.child=c,c=v,v=i.child,S=e.child.memoizedState,S=S===null?zc(a):{baseLanes:S.baseLanes|a,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=e.childLanes&~a,i.memoizedState=jc,c}return v=e.child,e=v.sibling,c=vr(v,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,e!==null&&(a=i.deletions,a===null?(i.deletions=[e],i.flags|=16):a.push(e)),i.child=c,i.memoizedState=null,c}function Bc(e,i){return i=nu({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function $l(e,i,a,c){return c!==null&&hc(c),Gs(i,e.child,null,a),e=Bc(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Xy(e,i,a,c,m,v,S){if(a)return i.flags&256?(i.flags&=-257,c=Ac(Error(s(422))),$l(e,i,S,c)):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(v=c.fallback,m=i.mode,c=nu({mode:"visible",children:c.children},m,0,null),v=ns(v,m,S,null),v.flags|=2,c.return=i,v.return=i,c.sibling=v,i.child=c,(i.mode&1)!==0&&Gs(i,e.child,null,S),i.child.memoizedState=zc(S),i.memoizedState=jc,v);if((i.mode&1)===0)return $l(e,i,S,null);if(m.data==="$!"){if(c=m.nextSibling&&m.nextSibling.dataset,c)var M=c.dgst;return c=M,v=Error(s(419)),c=Ac(v,c,void 0),$l(e,i,S,c)}if(M=(S&e.childLanes)!==0,Zt||M){if(c=yt,c!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(c.suspendedLanes|S))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Ei(e,m),Dn(c,e,m,-1))}return td(),c=Ac(Error(s(421))),$l(e,i,S,c)}return m.data==="$?"?(i.flags|=128,i.child=e.child,i=c_.bind(null,e),m._reactRetry=i,null):(e=v.treeContext,sn=Yn(m.nextSibling),rn=i,Je=!0,Rn=null,e!==null&&(vn[yn++]=Ci,vn[yn++]=Pi,vn[yn++]=Gr,Ci=e.id,Pi=e.overflow,Gr=i),i=Bc(i,c.children),i.flags|=4096,i)}function ep(e,i,a){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),gc(e.return,i,a)}function Vc(e,i,a,c,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=c,v.tail=a,v.tailMode=m)}function tp(e,i,a){var c=i.pendingProps,m=c.revealOrder,v=c.tail;if(zt(e,i,c.children,a),c=nt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ep(e,a,i);else if(e.tag===19)ep(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(qe(nt,c),(i.mode&1)===0)i.memoizedState=null;else switch(m){case"forwards":for(a=i.child,m=null;a!==null;)e=a.alternate,e!==null&&Dl(e)===null&&(m=a),a=a.sibling;a=m,a===null?(m=i.child,i.child=null):(m=a.sibling,a.sibling=null),Vc(i,!1,m,a,v);break;case"backwards":for(a=null,m=i.child,i.child=null;m!==null;){if(e=m.alternate,e!==null&&Dl(e)===null){i.child=m;break}e=m.sibling,m.sibling=a,a=m,m=e}Vc(i,!0,a,null,v);break;case"together":Vc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Zl(e,i){(i.mode&1)===0&&e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2)}function Ti(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Qr|=i.lanes,(a&i.childLanes)===0)return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=vr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=vr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Qy(e,i,a){switch(i.tag){case 3:Xf(i),Ws();break;case 5:mf(i);break;case 1:$t(i.type)&&kl(i);break;case 4:_c(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,m=i.memoizedProps.value;qe(Rl,c._currentValue),c._currentValue=m;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(qe(nt,nt.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Jf(e,i,a):(qe(nt,nt.current&1),e=Ti(e,i,a),e!==null?e.sibling:null);qe(nt,nt.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(e.flags&128)!==0){if(c)return tp(e,i,a);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),qe(nt,nt.current),c)break;return null;case 22:case 23:return i.lanes=0,Kf(e,i,a)}return Ti(e,i,a)}var np,Fc,ip,rp;np=function(e,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Fc=function(){},ip=function(e,i,a,c){var m=e.memoizedProps;if(m!==c){e=i.stateNode,Yr(Xn.current);var v=null;switch(a){case"input":m=mo(e,m),c=mo(e,c),v=[];break;case"select":m=Y({},m,{value:void 0}),c=Y({},c,{value:void 0}),v=[];break;case"textarea":m=cs(e,m),c=cs(e,c),v=[];break;default:typeof m.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Q)}xo(a,c);var S;a=null;for(W in m)if(!c.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var M=m[W];for(S in M)M.hasOwnProperty(S)&&(a||(a={}),a[S]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(d.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in c){var I=c[W];if(M=m?.[W],c.hasOwnProperty(W)&&I!==M&&(I!=null||M!=null))if(W==="style")if(M){for(S in M)!M.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(a||(a={}),a[S]="");for(S in I)I.hasOwnProperty(S)&&M[S]!==I[S]&&(a||(a={}),a[S]=I[S])}else a||(v||(v=[]),v.push(W,a)),a=I;else W==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,M=M?M.__html:void 0,I!=null&&M!==I&&(v=v||[]).push(W,I)):W==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(W,""+I):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(d.hasOwnProperty(W)?(I!=null&&W==="onScroll"&&We("scroll",e),v||M===I||(v=[])):(v=v||[]).push(W,I))}a&&(v=v||[]).push("style",a);var W=v;(i.updateQueue=W)&&(i.flags|=4)}},rp=function(e,i,a,c){a!==c&&(i.flags|=4)};function ua(e,i){if(!Je)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Nt(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(i)for(var m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&14680064,c|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=c,e.childLanes=a,i}function Jy(e,i,a){var c=i.pendingProps;switch(uc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(i),null;case 1:return $t(i.type)&&El(),Nt(i),null;case 3:return c=i.stateNode,Ys(),Xe(Ut),Xe(Lt),Sc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Ml(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rn!==null&&(Qc(Rn),Rn=null))),Fc(e,i),Nt(i),null;case 5:wc(i);var m=Yr(ra.current);if(a=i.type,e!==null&&i.stateNode!=null)ip(e,i,a,c,m),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Nt(i),null}if(e=Yr(Xn.current),Ml(i)){c=i.stateNode,a=i.type;var v=i.memoizedProps;switch(c[gn]=i,c[sr]=v,e=(i.mode&1)!==0,a){case"dialog":We("cancel",c),We("close",c);break;case"iframe":case"object":case"embed":We("load",c);break;case"video":case"audio":for(m=0;m<nr.length;m++)We(nr[m],c);break;case"source":We("error",c);break;case"img":case"image":case"link":We("error",c),We("load",c);break;case"details":We("toggle",c);break;case"input":go(c,v),We("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!v.multiple},We("invalid",c);break;case"textarea":_o(c,v),We("invalid",c)}xo(a,v),m=null;for(var S in v)if(v.hasOwnProperty(S)){var M=v[S];S==="children"?typeof M=="string"?c.textContent!==M&&(v.suppressHydrationWarning!==!0&&H(c.textContent,M,e),m=["children",M]):typeof M=="number"&&c.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&H(c.textContent,M,e),m=["children",""+M]):d.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&We("scroll",c)}switch(a){case"input":Ii(c),Tr(c,v,!0);break;case"textarea":Ii(c),Ua(c);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(c.onclick=Q)}c=m,i.updateQueue=c,c!==null&&(i.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ds(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=S.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=S.createElement(a,{is:c.is}):(e=S.createElement(a),a==="select"&&(S=e,c.multiple?S.multiple=!0:c.size&&(S.size=c.size))):e=S.createElementNS(e,a),e[gn]=i,e[sr]=c,np(e,i,!1,!1),i.stateNode=e;e:{switch(S=oi(a,c),a){case"dialog":We("cancel",e),We("close",e),m=c;break;case"iframe":case"object":case"embed":We("load",e),m=c;break;case"video":case"audio":for(m=0;m<nr.length;m++)We(nr[m],e);m=c;break;case"source":We("error",e),m=c;break;case"img":case"image":case"link":We("error",e),We("load",e),m=c;break;case"details":We("toggle",e),m=c;break;case"input":go(e,c),m=mo(e,c),We("invalid",e);break;case"option":m=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},m=Y({},c,{value:void 0}),We("invalid",e);break;case"textarea":_o(e,c),m=cs(e,c),We("invalid",e);break;default:m=c}xo(a,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var I=M[v];v==="style"?fs(e,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&$a(e,I)):v==="children"?typeof I=="string"?(a!=="textarea"||I!=="")&&zi(e,I):typeof I=="number"&&zi(e,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(d.hasOwnProperty(v)?I!=null&&v==="onScroll"&&We("scroll",e):I!=null&&U(e,v,I,S))}switch(a){case"input":Ii(e),Tr(e,c,!1);break;case"textarea":Ii(e),Ua(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Ie(c.value));break;case"select":e.multiple=!!c.multiple,v=c.value,v!=null?Fn(e,!!c.multiple,v,!1):c.defaultValue!=null&&Fn(e,!!c.multiple,c.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=Q)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Nt(i),null;case 6:if(e&&i.stateNode!=null)rp(e,i,e.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(a=Yr(ra.current),Yr(Xn.current),Ml(i)){if(c=i.stateNode,a=i.memoizedProps,c[gn]=i,(v=c.nodeValue!==a)&&(e=rn,e!==null))switch(e.tag){case 3:H(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&H(c.nodeValue,a,(e.mode&1)!==0)}v&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[gn]=i,i.stateNode=c}return Nt(i),null;case 13:if(Xe(nt),c=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&sn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)af(),Ws(),i.flags|=98560,v=!1;else if(v=Ml(i),c!==null&&c.dehydrated!==null){if(e===null){if(!v)throw Error(s(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[gn]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Nt(i),v=!1}else Rn!==null&&(Qc(Rn),Rn=null),v=!0;if(!v)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(e===null||(nt.current&1)!==0?gt===0&&(gt=3):td())),i.updateQueue!==null&&(i.flags|=4),Nt(i),null);case 4:return Ys(),Fc(e,i),e===null&&ir(i.stateNode.containerInfo),Nt(i),null;case 10:return mc(i.type._context),Nt(i),null;case 17:return $t(i.type)&&El(),Nt(i),null;case 19:if(Xe(nt),v=i.memoizedState,v===null)return Nt(i),null;if(c=(i.flags&128)!==0,S=v.rendering,S===null)if(c)ua(v,!1);else{if(gt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(S=Dl(e),S!==null){for(i.flags|=128,ua(v,!1),c=S.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)v=a,e=c,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,e=S.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return qe(nt,nt.current&1|2),i.child}e=e.sibling}v.tail!==null&&et()>eo&&(i.flags|=128,c=!0,ua(v,!1),i.lanes=4194304)}else{if(!c)if(e=Dl(S),e!==null){if(i.flags|=128,c=!0,a=e.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ua(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Je)return Nt(i),null}else 2*et()-v.renderingStartTime>eo&&a!==1073741824&&(i.flags|=128,c=!0,ua(v,!1),i.lanes=4194304);v.isBackwards?(S.sibling=i.child,i.child=S):(a=v.last,a!==null?a.sibling=S:i.child=S,v.last=S)}return v.tail!==null?(i=v.tail,v.rendering=i,v.tail=i.sibling,v.renderingStartTime=et(),i.sibling=null,a=nt.current,qe(nt,c?a&1|2:a&1),i):(Nt(i),null);case 22:case 23:return ed(),c=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(on&1073741824)!==0&&(Nt(i),i.subtreeFlags&6&&(i.flags|=8192)):Nt(i),null;case 24:return null;case 25:return null}throw Error(s(156,i.tag))}function e_(e,i){switch(uc(i),i.tag){case 1:return $t(i.type)&&El(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ys(),Xe(Ut),Xe(Lt),Sc(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 5:return wc(i),null;case 13:if(Xe(nt),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ws()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Xe(nt),null;case 4:return Ys(),null;case 10:return mc(i.type._context),null;case 22:case 23:return ed(),null;case 24:return null;default:return null}}var Hl=!1,Rt=!1,t_=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Qs(e,i){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ot(e,i,c)}else a.current=null}function Uc(e,i,a){try{a()}catch(c){ot(e,i,c)}}var sp=!1;function n_(e,i){if(oe=zr,e=Wo(),Go(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,v=c.focusNode;c=c.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var S=0,M=-1,I=-1,W=0,te=0,ne=e,ee=null;t:for(;;){for(var ae;ne!==a||m!==0&&ne.nodeType!==3||(M=S+m),ne!==v||c!==0&&ne.nodeType!==3||(I=S+c),ne.nodeType===3&&(S+=ne.nodeValue.length),(ae=ne.firstChild)!==null;)ee=ne,ne=ae;for(;;){if(ne===e)break t;if(ee===a&&++W===m&&(M=S),ee===v&&++te===c&&(I=S),(ae=ne.nextSibling)!==null)break;ne=ee,ee=ne.parentNode}ne=ae}a=M===-1||I===-1?null:{start:M,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(we={focusedElem:e,selectionRange:a},zr=!1,ce=i;ce!==null;)if(i=ce,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ce=e;else for(;ce!==null;){i=ce;try{var he=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var fe=he.memoizedProps,lt=he.memoizedState,$=i.stateNode,D=$.getSnapshotBeforeUpdate(i.elementType===i.type?fe:An(i.type,fe),lt);$.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var Z=i.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(se){ot(i,i.return,se)}if(e=i.sibling,e!==null){e.return=i.return,ce=e;break}ce=i.return}return he=sp,sp=!1,he}function ca(e,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&e)===e){var v=m.destroy;m.destroy=void 0,v!==void 0&&Uc(i,a,v)}m=m.next}while(m!==c)}}function Wl(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function $c(e){var i=e.ref;if(i!==null){var a=e.stateNode;e.tag,e=a,typeof i=="function"?i(e):i.current=e}}function op(e){var i=e.alternate;i!==null&&(e.alternate=null,op(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[gn],delete i[sr],delete i[or],delete i[rc],delete i[sc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ap(e){return e.tag===5||e.tag===3||e.tag===4}function lp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ap(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Q));else if(c!==4&&(e=e.child,e!==null))for(Zc(e,i,a),e=e.sibling;e!==null;)Zc(e,i,a),e=e.sibling}function Hc(e,i,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Hc(e,i,a),e=e.sibling;e!==null;)Hc(e,i,a),e=e.sibling}var St=null,In=!1;function hr(e,i,a){for(a=a.child;a!==null;)up(e,i,a),a=a.sibling}function up(e,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Rr,a)}catch{}switch(a.tag){case 5:Rt||Qs(a,i);case 6:var c=St,m=In;St=null,hr(e,i,a),St=c,In=m,St!==null&&(In?(e=St,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):St.removeChild(a.stateNode));break;case 18:St!==null&&(In?(e=St,a=a.stateNode,e.nodeType===8?ea(e.parentNode,a):e.nodeType===1&&ea(e,a),Qt(e)):ea(St,a.stateNode));break;case 4:c=St,m=In,St=a.stateNode.containerInfo,In=!0,hr(e,i,a),St=c,In=m;break;case 0:case 11:case 14:case 15:if(!Rt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){m=c=c.next;do{var v=m,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&Uc(a,i,S),m=m.next}while(m!==c)}hr(e,i,a);break;case 1:if(!Rt&&(Qs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(M){ot(a,i,M)}hr(e,i,a);break;case 21:hr(e,i,a);break;case 22:a.mode&1?(Rt=(c=Rt)||a.memoizedState!==null,hr(e,i,a),Rt=c):hr(e,i,a);break;default:hr(e,i,a)}}function cp(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new t_),i.forEach(function(c){var m=d_.bind(null,e,c);a.has(c)||(a.add(c),c.then(m,m))})}}function On(e,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c];try{var v=e,S=i,M=S;e:for(;M!==null;){switch(M.tag){case 5:St=M.stateNode,In=!1;break e;case 3:St=M.stateNode.containerInfo,In=!0;break e;case 4:St=M.stateNode.containerInfo,In=!0;break e}M=M.return}if(St===null)throw Error(s(160));up(v,S,m),St=null,In=!1;var I=m.alternate;I!==null&&(I.return=null),m.return=null}catch(W){ot(m,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)dp(i,e),i=i.sibling}function dp(e,i){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(On(i,e),Jn(e),c&4){try{ca(3,e,e.return),Wl(3,e)}catch(fe){ot(e,e.return,fe)}try{ca(5,e,e.return)}catch(fe){ot(e,e.return,fe)}}break;case 1:On(i,e),Jn(e),c&512&&a!==null&&Qs(a,a.return);break;case 5:if(On(i,e),Jn(e),c&512&&a!==null&&Qs(a,a.return),e.flags&32){var m=e.stateNode;try{zi(m,"")}catch(fe){ot(e,e.return,fe)}}if(c&4&&(m=e.stateNode,m!=null)){var v=e.memoizedProps,S=a!==null?a.memoizedProps:v,M=e.type,I=e.updateQueue;if(e.updateQueue=null,I!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&vo(m,v),oi(M,S);var W=oi(M,v);for(S=0;S<I.length;S+=2){var te=I[S],ne=I[S+1];te==="style"?fs(m,ne):te==="dangerouslySetInnerHTML"?$a(m,ne):te==="children"?zi(m,ne):U(m,te,ne,W)}switch(M){case"input":kr(m,v);break;case"textarea":Fa(m,v);break;case"select":var ee=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ae=v.value;ae!=null?Fn(m,!!v.multiple,ae,!1):ee!==!!v.multiple&&(v.defaultValue!=null?Fn(m,!!v.multiple,v.defaultValue,!0):Fn(m,!!v.multiple,v.multiple?[]:"",!1))}m[sr]=v}catch(fe){ot(e,e.return,fe)}}break;case 6:if(On(i,e),Jn(e),c&4){if(e.stateNode===null)throw Error(s(162));m=e.stateNode,v=e.memoizedProps;try{m.nodeValue=v}catch(fe){ot(e,e.return,fe)}}break;case 3:if(On(i,e),Jn(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Qt(i.containerInfo)}catch(fe){ot(e,e.return,fe)}break;case 4:On(i,e),Jn(e);break;case 13:On(i,e),Jn(e),m=e.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Kc=et())),c&4&&cp(e);break;case 22:if(te=a!==null&&a.memoizedState!==null,e.mode&1?(Rt=(W=Rt)||te,On(i,e),Rt=W):On(i,e),Jn(e),c&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!te&&(e.mode&1)!==0)for(ce=e,te=e.child;te!==null;){for(ne=ce=te;ce!==null;){switch(ee=ce,ae=ee.child,ee.tag){case 0:case 11:case 14:case 15:ca(4,ee,ee.return);break;case 1:Qs(ee,ee.return);var he=ee.stateNode;if(typeof he.componentWillUnmount=="function"){c=ee,a=ee.return;try{i=c,he.props=i.memoizedProps,he.state=i.memoizedState,he.componentWillUnmount()}catch(fe){ot(c,a,fe)}}break;case 5:Qs(ee,ee.return);break;case 22:if(ee.memoizedState!==null){pp(ne);continue}}ae!==null?(ae.return=ee,ce=ae):pp(ne)}te=te.sibling}e:for(te=null,ne=e;;){if(ne.tag===5){if(te===null){te=ne;try{m=ne.stateNode,W?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=ne.stateNode,I=ne.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,M.style.display=wo("display",S))}catch(fe){ot(e,e.return,fe)}}}else if(ne.tag===6){if(te===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(fe){ot(e,e.return,fe)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===e)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===e)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===e)break e;te===ne&&(te=null),ne=ne.return}te===ne&&(te=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:On(i,e),Jn(e),c&4&&cp(e);break;case 21:break;default:On(i,e),Jn(e)}}function Jn(e){var i=e.flags;if(i&2){try{e:{for(var a=e.return;a!==null;){if(ap(a)){var c=a;break e}a=a.return}throw Error(s(160))}switch(c.tag){case 5:var m=c.stateNode;c.flags&32&&(zi(m,""),c.flags&=-33);var v=lp(e);Hc(e,v,m);break;case 3:case 4:var S=c.stateNode.containerInfo,M=lp(e);Zc(e,M,S);break;default:throw Error(s(161))}}catch(I){ot(e,e.return,I)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function i_(e,i,a){ce=e,hp(e)}function hp(e,i,a){for(var c=(e.mode&1)!==0;ce!==null;){var m=ce,v=m.child;if(m.tag===22&&c){var S=m.memoizedState!==null||Hl;if(!S){var M=m.alternate,I=M!==null&&M.memoizedState!==null||Rt;M=Hl;var W=Rt;if(Hl=S,(Rt=I)&&!W)for(ce=m;ce!==null;)S=ce,I=S.child,S.tag===22&&S.memoizedState!==null?mp(m):I!==null?(I.return=S,ce=I):mp(m);for(;v!==null;)ce=v,hp(v),v=v.sibling;ce=m,Hl=M,Rt=W}fp(e)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,ce=v):fp(e)}}function fp(e){for(;ce!==null;){var i=ce;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Rt||Wl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Rt)if(a===null)c.componentDidMount();else{var m=i.elementType===i.type?a.memoizedProps:An(i.type,a.memoizedProps);c.componentDidUpdate(m,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var v=i.updateQueue;v!==null&&pf(i,v,c);break;case 3:var S=i.updateQueue;if(S!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}pf(i,S,a)}break;case 5:var M=i.stateNode;if(a===null&&i.flags&4){a=M;var I=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&a.focus();break;case"img":I.src&&(a.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var te=W.memoizedState;if(te!==null){var ne=te.dehydrated;ne!==null&&Qt(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Rt||i.flags&512&&$c(i)}catch(ee){ot(i,i.return,ee)}}if(i===e){ce=null;break}if(a=i.sibling,a!==null){a.return=i.return,ce=a;break}ce=i.return}}function pp(e){for(;ce!==null;){var i=ce;if(i===e){ce=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ce=a;break}ce=i.return}}function mp(e){for(;ce!==null;){var i=ce;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Wl(4,i)}catch(I){ot(i,a,I)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var m=i.return;try{c.componentDidMount()}catch(I){ot(i,m,I)}}var v=i.return;try{$c(i)}catch(I){ot(i,v,I)}break;case 5:var S=i.return;try{$c(i)}catch(I){ot(i,S,I)}}}catch(I){ot(i,i.return,I)}if(i===e){ce=null;break}var M=i.sibling;if(M!==null){M.return=i.return,ce=M;break}ce=i.return}}var r_=Math.ceil,Gl=G.ReactCurrentDispatcher,Wc=G.ReactCurrentOwner,xn=G.ReactCurrentBatchConfig,Ue=0,yt=null,dt=null,Ct=0,on=0,Js=ar(0),gt=0,da=null,Qr=0,Kl=0,Gc=0,ha=null,Ht=null,Kc=0,eo=1/0,bi=null,ql=!1,qc=null,fr=null,Yl=!1,pr=null,Xl=0,fa=0,Yc=null,Ql=-1,Jl=0;function Bt(){return(Ue&6)!==0?et():Ql!==-1?Ql:Ql=et()}function mr(e){return(e.mode&1)===0?1:(Ue&2)!==0&&Ct!==0?Ct&-Ct:Fy.transition!==null?(Jl===0&&(Jl=nl()),Jl):(e=Be,e!==0||(e=window.event,e=e===void 0?16:De(e.type)),e)}function Dn(e,i,a,c){if(50<fa)throw fa=0,Yc=null,Error(s(185));Yt(e,a,c),((Ue&2)===0||e!==yt)&&(e===yt&&((Ue&2)===0&&(Kl|=a),gt===4&&gr(e,Ct)),Wt(e,c),a===1&&Ue===0&&(i.mode&1)===0&&(eo=et()+500,Tl&&ur()))}function Wt(e,i){var a=e.callbackNode;ws(e,i);var c=Ke(e,e===yt?Ct:0);if(c===0)a!==null&&bo(a),e.callbackNode=null,e.callbackPriority=0;else if(i=c&-c,e.callbackPriority!==i){if(a!=null&&bo(a),i===1)e.tag===0?Vy(vp.bind(null,e)):tf(vp.bind(null,e)),bt(function(){(Ue&6)===0&&ur()}),a=null;else{switch(Zi(c)){case 1:a=Lo;break;case 4:a=tl;break;case 16:a=ys;break;case 536870912:a=Vi;break;default:a=ys}a=Ep(a,gp.bind(null,e))}e.callbackPriority=i,e.callbackNode=a}}function gp(e,i){if(Ql=-1,Jl=0,(Ue&6)!==0)throw Error(s(327));var a=e.callbackNode;if(to()&&e.callbackNode!==a)return null;var c=Ke(e,e===yt?Ct:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||i)i=eu(e,c);else{i=c;var m=Ue;Ue|=2;var v=_p();(yt!==e||Ct!==i)&&(bi=null,eo=et()+500,es(e,i));do try{a_();break}catch(M){yp(e,M)}while(!0);pc(),Gl.current=v,Ue=m,dt!==null?i=0:(yt=null,Ct=0,i=gt)}if(i!==0){if(i===2&&(m=kt(e),m!==0&&(c=m,i=Xc(e,m))),i===1)throw a=da,es(e,0),gr(e,c),Wt(e,et()),a;if(i===6)gr(e,c);else{if(m=e.current.alternate,(c&30)===0&&!s_(m)&&(i=eu(e,c),i===2&&(v=kt(e),v!==0&&(c=v,i=Xc(e,v))),i===1))throw a=da,es(e,0),gr(e,c),Wt(e,et()),a;switch(e.finishedWork=m,e.finishedLanes=c,i){case 0:case 1:throw Error(s(345));case 2:ts(e,Ht,bi);break;case 3:if(gr(e,c),(c&130023424)===c&&(i=Kc+500-et(),10<i)){if(Ke(e,0)!==0)break;if(m=e.suspendedLanes,(m&c)!==c){Bt(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=pt(ts.bind(null,e,Ht,bi),i);break}ts(e,Ht,bi);break;case 4:if(gr(e,c),(c&4194240)===c)break;for(i=e.eventTimes,m=-1;0<c;){var S=31-Me(c);v=1<<S,S=i[S],S>m&&(m=S),c&=~v}if(c=m,c=et()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*r_(c/1960))-c,10<c){e.timeoutHandle=pt(ts.bind(null,e,Ht,bi),c);break}ts(e,Ht,bi);break;case 5:ts(e,Ht,bi);break;default:throw Error(s(329))}}}return Wt(e,et()),e.callbackNode===a?gp.bind(null,e):null}function Xc(e,i){var a=ha;return e.current.memoizedState.isDehydrated&&(es(e,i).flags|=256),e=eu(e,i),e!==2&&(i=Ht,Ht=a,i!==null&&Qc(i)),e}function Qc(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function s_(e){for(var i=e;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var m=a[c],v=m.getSnapshot;m=m.value;try{if(!tn(v(),m))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function gr(e,i){for(i&=~Gc,i&=~Kl,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var a=31-Me(i),c=1<<a;e[a]=-1,i&=~c}}function vp(e){if((Ue&6)!==0)throw Error(s(327));to();var i=Ke(e,0);if((i&1)===0)return Wt(e,et()),null;var a=eu(e,i);if(e.tag!==0&&a===2){var c=kt(e);c!==0&&(i=c,a=Xc(e,c))}if(a===1)throw a=da,es(e,0),gr(e,i),Wt(e,et()),a;if(a===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,ts(e,Ht,bi),Wt(e,et()),null}function Jc(e,i){var a=Ue;Ue|=1;try{return e(i)}finally{Ue=a,Ue===0&&(eo=et()+500,Tl&&ur())}}function Jr(e){pr!==null&&pr.tag===0&&(Ue&6)===0&&to();var i=Ue;Ue|=1;var a=xn.transition,c=Be;try{if(xn.transition=null,Be=1,e)return e()}finally{Be=c,xn.transition=a,Ue=i,(Ue&6)===0&&ur()}}function ed(){on=Js.current,Xe(Js)}function es(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,ct(a)),dt!==null)for(a=dt.return;a!==null;){var c=a;switch(uc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&El();break;case 3:Ys(),Xe(Ut),Xe(Lt),Sc();break;case 5:wc(c);break;case 4:Ys();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:mc(c.type._context);break;case 22:case 23:ed()}a=a.return}if(yt=e,dt=e=vr(e.current,null),Ct=on=i,gt=0,da=null,Gc=Kl=Qr=0,Ht=ha=null,qr!==null){for(i=0;i<qr.length;i++)if(a=qr[i],c=a.interleaved,c!==null){a.interleaved=null;var m=c.next,v=a.pending;if(v!==null){var S=v.next;v.next=m,c.next=S}a.pending=c}qr=null}return e}function yp(e,i){do{var a=dt;try{if(pc(),jl.current=Fl,zl){for(var c=it.memoizedState;c!==null;){var m=c.queue;m!==null&&(m.pending=null),c=c.next}zl=!1}if(Xr=0,vt=mt=it=null,sa=!1,oa=0,Wc.current=null,a===null||a.return===null){gt=1,da=i,dt=null;break}e:{var v=e,S=a.return,M=a,I=i;if(i=Ct,M.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var W=I,te=M,ne=te.tag;if((te.mode&1)===0&&(ne===0||ne===11||ne===15)){var ee=te.alternate;ee?(te.updateQueue=ee.updateQueue,te.memoizedState=ee.memoizedState,te.lanes=ee.lanes):(te.updateQueue=null,te.memoizedState=null)}var ae=$f(S);if(ae!==null){ae.flags&=-257,Zf(ae,S,M,v,i),ae.mode&1&&Uf(v,W,i),i=ae,I=W;var he=i.updateQueue;if(he===null){var fe=new Set;fe.add(I),i.updateQueue=fe}else he.add(I);break e}else{if((i&1)===0){Uf(v,W,i),td();break e}I=Error(s(426))}}else if(Je&&M.mode&1){var lt=$f(S);if(lt!==null){(lt.flags&65536)===0&&(lt.flags|=256),Zf(lt,S,M,v,i),hc(Xs(I,M));break e}}v=I=Xs(I,M),gt!==4&&(gt=2),ha===null?ha=[v]:ha.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,i&=-i,v.lanes|=i;var $=Vf(v,I,i);ff(v,$);break e;case 1:M=I;var D=v.type,Z=v.stateNode;if((v.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(fr===null||!fr.has(Z)))){v.flags|=65536,i&=-i,v.lanes|=i;var se=Ff(v,M,i);ff(v,se);break e}}v=v.return}while(v!==null)}xp(a)}catch(ge){i=ge,dt===a&&a!==null&&(dt=a=a.return);continue}break}while(!0)}function _p(){var e=Gl.current;return Gl.current=Fl,e===null?Fl:e}function td(){(gt===0||gt===3||gt===2)&&(gt=4),yt===null||(Qr&268435455)===0&&(Kl&268435455)===0||gr(yt,Ct)}function eu(e,i){var a=Ue;Ue|=2;var c=_p();(yt!==e||Ct!==i)&&(bi=null,es(e,i));do try{o_();break}catch(m){yp(e,m)}while(!0);if(pc(),Ue=a,Gl.current=c,dt!==null)throw Error(s(261));return yt=null,Ct=0,gt}function o_(){for(;dt!==null;)wp(dt)}function a_(){for(;dt!==null&&!Uu();)wp(dt)}function wp(e){var i=Pp(e.alternate,e,on);e.memoizedProps=e.pendingProps,i===null?xp(e):dt=i,Wc.current=null}function xp(e){var i=e;do{var a=i.alternate;if(e=i.return,(i.flags&32768)===0){if(a=Jy(a,i,on),a!==null){dt=a;return}}else{if(a=e_(a,i),a!==null){a.flags&=32767,dt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{gt=6,dt=null;return}}if(i=i.sibling,i!==null){dt=i;return}dt=i=e}while(i!==null);gt===0&&(gt=5)}function ts(e,i,a){var c=Be,m=xn.transition;try{xn.transition=null,Be=1,l_(e,i,a,c)}finally{xn.transition=m,Be=c}return null}function l_(e,i,a,c){do to();while(pr!==null);if((Ue&6)!==0)throw Error(s(327));a=e.finishedWork;var m=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var v=a.lanes|a.childLanes;if(st(e,v),e===yt&&(dt=yt=null,Ct=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Yl||(Yl=!0,Ep(ys,function(){return to(),null})),v=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||v){v=xn.transition,xn.transition=null;var S=Be;Be=1;var M=Ue;Ue|=4,Wc.current=null,n_(e,a),dp(a,e),pn(we),zr=!!oe,we=oe=null,e.current=a,i_(a),vs(),Ue=M,Be=S,xn.transition=v}else e.current=a;if(Yl&&(Yl=!1,pr=e,Xl=m),v=e.pendingLanes,v===0&&(fr=null),Ar(a.stateNode),Wt(e,et()),i!==null)for(c=e.onRecoverableError,a=0;a<i.length;a++)m=i[a],c(m.value,{componentStack:m.stack,digest:m.digest});if(ql)throw ql=!1,e=qc,qc=null,e;return(Xl&1)!==0&&e.tag!==0&&to(),v=e.pendingLanes,(v&1)!==0?e===Yc?fa++:(fa=0,Yc=e):fa=0,ur(),null}function to(){if(pr!==null){var e=Zi(Xl),i=xn.transition,a=Be;try{if(xn.transition=null,Be=16>e?16:e,pr===null)var c=!1;else{if(e=pr,pr=null,Xl=0,(Ue&6)!==0)throw Error(s(331));var m=Ue;for(Ue|=4,ce=e.current;ce!==null;){var v=ce,S=v.child;if((ce.flags&16)!==0){var M=v.deletions;if(M!==null){for(var I=0;I<M.length;I++){var W=M[I];for(ce=W;ce!==null;){var te=ce;switch(te.tag){case 0:case 11:case 15:ca(8,te,v)}var ne=te.child;if(ne!==null)ne.return=te,ce=ne;else for(;ce!==null;){te=ce;var ee=te.sibling,ae=te.return;if(op(te),te===W){ce=null;break}if(ee!==null){ee.return=ae,ce=ee;break}ce=ae}}}var he=v.alternate;if(he!==null){var fe=he.child;if(fe!==null){he.child=null;do{var lt=fe.sibling;fe.sibling=null,fe=lt}while(fe!==null)}}ce=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,ce=S;else e:for(;ce!==null;){if(v=ce,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ca(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,ce=$;break e}ce=v.return}}var D=e.current;for(ce=D;ce!==null;){S=ce;var Z=S.child;if((S.subtreeFlags&2064)!==0&&Z!==null)Z.return=S,ce=Z;else e:for(S=D;ce!==null;){if(M=ce,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:Wl(9,M)}}catch(ge){ot(M,M.return,ge)}if(M===S){ce=null;break e}var se=M.sibling;if(se!==null){se.return=M.return,ce=se;break e}ce=M.return}}if(Ue=m,ur(),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Rr,e)}catch{}c=!0}return c}finally{Be=a,xn.transition=i}}return!1}function Sp(e,i,a){i=Xs(a,i),i=Vf(e,i,1),e=dr(e,i,1),i=Bt(),e!==null&&(Yt(e,1,i),Wt(e,i))}function ot(e,i,a){if(e.tag===3)Sp(e,e,a);else for(;i!==null;){if(i.tag===3){Sp(i,e,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(fr===null||!fr.has(c))){e=Xs(a,e),e=Ff(i,e,1),i=dr(i,e,1),e=Bt(),i!==null&&(Yt(i,1,e),Wt(i,e));break}}i=i.return}}function u_(e,i,a){var c=e.pingCache;c!==null&&c.delete(i),i=Bt(),e.pingedLanes|=e.suspendedLanes&a,yt===e&&(Ct&a)===a&&(gt===4||gt===3&&(Ct&130023424)===Ct&&500>et()-Kc?es(e,0):Gc|=a),Wt(e,i)}function Cp(e,i){i===0&&((e.mode&1)===0?i=1:(i=Ui,Ui<<=1,(Ui&130023424)===0&&(Ui=4194304)));var a=Bt();e=Ei(e,i),e!==null&&(Yt(e,i,a),Wt(e,a))}function c_(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Cp(e,a)}function d_(e,i){var a=0;switch(e.tag){case 13:var c=e.stateNode,m=e.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(s(314))}c!==null&&c.delete(i),Cp(e,a)}var Pp;Pp=function(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps||Ut.current)Zt=!0;else{if((e.lanes&a)===0&&(i.flags&128)===0)return Zt=!1,Qy(e,i,a);Zt=(e.flags&131072)!==0}else Zt=!1,Je&&(i.flags&1048576)!==0&&nf(i,Ll,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Zl(e,i),e=i.pendingProps;var m=$s(i,Lt.current);qs(i,a),m=Ec(null,i,c,e,m,a);var v=kc();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,$t(c)?(v=!0,kl(i)):v=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,yc(i),m.updater=Ul,i.stateNode=m,m._reactInternals=i,Rc(i,c,e,a),i=Dc(null,i,c,!0,v,a)):(i.tag=0,Je&&v&&lc(i),zt(null,i,m,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Zl(e,i),e=i.pendingProps,m=c._init,c=m(c._payload),i.type=c,m=i.tag=f_(c),e=An(c,e),m){case 0:i=Oc(null,i,c,e,a);break e;case 1:i=Yf(null,i,c,e,a);break e;case 11:i=Hf(null,i,c,e,a);break e;case 14:i=Wf(null,i,c,An(c.type,e),a);break e}throw Error(s(306,c,""))}return i;case 0:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:An(c,m),Oc(e,i,c,m,a);case 1:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:An(c,m),Yf(e,i,c,m,a);case 3:e:{if(Xf(i),e===null)throw Error(s(387));c=i.pendingProps,v=i.memoizedState,m=v.element,hf(e,i),Ol(i,c,null,a);var S=i.memoizedState;if(c=S.element,v.isDehydrated)if(v={element:c,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},i.updateQueue.baseState=v,i.memoizedState=v,i.flags&256){m=Xs(Error(s(423)),i),i=Qf(e,i,c,a,m);break e}else if(c!==m){m=Xs(Error(s(424)),i),i=Qf(e,i,c,a,m);break e}else for(sn=Yn(i.stateNode.containerInfo.firstChild),rn=i,Je=!0,Rn=null,a=cf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ws(),c===m){i=Ti(e,i,a);break e}zt(e,i,c,a)}i=i.child}return i;case 5:return mf(i),e===null&&dc(i),c=i.type,m=i.pendingProps,v=e!==null?e.memoizedProps:null,S=m.children,Ne(c,m)?S=null:v!==null&&Ne(c,v)&&(i.flags|=32),qf(e,i),zt(e,i,S,a),i.child;case 6:return e===null&&dc(i),null;case 13:return Jf(e,i,a);case 4:return _c(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=Gs(i,null,c,a):zt(e,i,c,a),i.child;case 11:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:An(c,m),Hf(e,i,c,m,a);case 7:return zt(e,i,i.pendingProps,a),i.child;case 8:return zt(e,i,i.pendingProps.children,a),i.child;case 12:return zt(e,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,m=i.pendingProps,v=i.memoizedProps,S=m.value,qe(Rl,c._currentValue),c._currentValue=S,v!==null)if(tn(v.value,S)){if(v.children===m.children&&!Ut.current){i=Ti(e,i,a);break e}}else for(v=i.child,v!==null&&(v.return=i);v!==null;){var M=v.dependencies;if(M!==null){S=v.child;for(var I=M.firstContext;I!==null;){if(I.context===c){if(v.tag===1){I=ki(-1,a&-a),I.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var te=W.pending;te===null?I.next=I:(I.next=te.next,te.next=I),W.pending=I}}v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),gc(v.return,a,i),M.lanes|=a;break}I=I.next}}else if(v.tag===10)S=v.type===i.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(s(341));S.lanes|=a,M=S.alternate,M!==null&&(M.lanes|=a),gc(S,a,i),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===i){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}zt(e,i,m.children,a),i=i.child}return i;case 9:return m=i.type,c=i.pendingProps.children,qs(i,a),m=_n(m),c=c(m),i.flags|=1,zt(e,i,c,a),i.child;case 14:return c=i.type,m=An(c,i.pendingProps),m=An(c.type,m),Wf(e,i,c,m,a);case 15:return Gf(e,i,i.type,i.pendingProps,a);case 17:return c=i.type,m=i.pendingProps,m=i.elementType===c?m:An(c,m),Zl(e,i),i.tag=1,$t(c)?(e=!0,kl(i)):e=!1,qs(i,a),zf(i,c,m),Rc(i,c,m,a),Dc(null,i,c,!0,e,a);case 19:return tp(e,i,a);case 22:return Kf(e,i,a)}throw Error(s(156,i.tag))};function Ep(e,i){return el(e,i)}function h_(e,i,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,i,a,c){return new h_(e,i,a,c)}function nd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f_(e){if(typeof e=="function")return nd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ve)return 11;if(e===Fe)return 14}return 2}function vr(e,i){var a=e.alternate;return a===null?(a=Sn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function tu(e,i,a,c,m,v){var S=2;if(c=e,typeof e=="function")nd(e)&&(S=1);else if(typeof e=="string")S=5;else e:switch(e){case ie:return ns(a.children,m,v,i);case re:S=8,m|=8;break;case Ce:return e=Sn(12,a,i,m|2),e.elementType=Ce,e.lanes=v,e;case ze:return e=Sn(13,a,i,m),e.elementType=ze,e.lanes=v,e;case be:return e=Sn(19,a,i,m),e.elementType=be,e.lanes=v,e;case ke:return nu(a,m,v,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ae:S=10;break e;case le:S=9;break e;case Ve:S=11;break e;case Fe:S=14;break e;case Re:S=16,c=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return i=Sn(S,a,i,m),i.elementType=e,i.type=c,i.lanes=v,i}function ns(e,i,a,c){return e=Sn(7,e,c,i),e.lanes=a,e}function nu(e,i,a,c){return e=Sn(22,e,c,i),e.elementType=ke,e.lanes=a,e.stateNode={isHidden:!1},e}function id(e,i,a){return e=Sn(6,e,null,i),e.lanes=a,e}function rd(e,i,a){return i=Sn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function p_(e,i,a,c,m){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=c,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function sd(e,i,a,c,m,v,S,M,I){return e=new p_(e,i,a,M,I),i===1?(i=1,v===!0&&(i|=8)):i=0,v=Sn(3,null,null,i),e.current=v,v.stateNode=e,v.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(v),e}function m_(e,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:c==null?null:""+c,children:e,containerInfo:i,implementation:a}}function kp(e){if(!e)return lr;e=e._reactInternals;e:{if(Un(e)!==e||e.tag!==1)throw Error(s(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if($t(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(s(171))}if(e.tag===1){var a=e.type;if($t(a))return Jh(e,a,i)}return i}function Tp(e,i,a,c,m,v,S,M,I){return e=sd(a,c,!0,e,m,v,S,M,I),e.context=kp(null),a=e.current,c=Bt(),m=mr(a),v=ki(c,m),v.callback=i??null,dr(a,v,m),e.current.lanes=m,Yt(e,m,c),Wt(e,c),e}function iu(e,i,a,c){var m=i.current,v=Bt(),S=mr(m);return a=kp(a),i.context===null?i.context=a:i.pendingContext=a,i=ki(v,S),i.payload={element:e},c=c===void 0?null:c,c!==null&&(i.callback=c),e=dr(m,i,S),e!==null&&(Dn(e,m,S,v),Il(e,m,S)),S}function ru(e){return e=e.current,e.child?(e.child.tag===5,e.child.stateNode):null}function bp(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function od(e,i){bp(e,i),(e=e.alternate)&&bp(e,i)}function g_(){return null}var Lp=typeof reportError=="function"?reportError:function(e){console.error(e)};function ad(e){this._internalRoot=e}su.prototype.render=ad.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));iu(e,i,null,null)},su.prototype.unmount=ad.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Jr(function(){iu(null,e,null,null)}),i[Ze]=null}};function su(e){this._internalRoot=e}su.prototype.unstable_scheduleHydration=function(e){if(e){var i=Cs();e={blockedOn:null,target:e,priority:i};for(var a=0;a<ft.length&&i!==0&&i<ft[a].priority;a++);ft.splice(a,0,e),a===0&&Ps(e)}};function ld(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mp(){}function v_(e,i,a,c,m){if(m){if(typeof c=="function"){var v=c;c=function(){var W=ru(S);v.call(W)}}var S=Tp(i,c,e,0,null,!1,!1,"",Mp);return e._reactRootContainer=S,e[Ze]=S.current,ir(e.nodeType===8?e.parentNode:e),Jr(),S}for(;m=e.lastChild;)e.removeChild(m);if(typeof c=="function"){var M=c;c=function(){var W=ru(I);M.call(W)}}var I=sd(e,0,!1,null,null,!1,!1,"",Mp);return e._reactRootContainer=I,e[Ze]=I.current,ir(e.nodeType===8?e.parentNode:e),Jr(function(){iu(i,I,a,c)}),I}function au(e,i,a,c,m){var v=a._reactRootContainer;if(v){var S=v;if(typeof m=="function"){var M=m;m=function(){var I=ru(S);M.call(I)}}iu(i,S,e,m)}else S=v_(a,i,e,m,c);return ru(S)}xs=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var a=Le(i.pendingLanes);a!==0&&(Tn(i,a|1),Wt(i,et()),(Ue&6)===0&&(eo=et()+500,ur()))}break;case 13:Jr(function(){var c=Ei(e,1);if(c!==null){var m=Bt();Dn(c,e,1,m)}}),od(e,1)}},ci=function(e){if(e.tag===13){var i=Ei(e,134217728);if(i!==null){var a=Bt();Dn(i,e,134217728,a)}od(e,134217728)}},Ss=function(e){if(e.tag===13){var i=mr(e),a=Ei(e,i);if(a!==null){var c=Bt();Dn(a,e,i,c)}od(e,i)}},Cs=function(){return Be},Ir=function(e,i){var a=Be;try{return Be=e,i()}finally{Be=a}},ps=function(e,i,a){switch(i){case"input":if(kr(e,a),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==e&&c.form===e.form){var m=Fs(c);if(!m)throw Error(s(90));Oi(c),kr(c,m)}}}break;case"textarea":Fa(e,a);break;case"select":i=a.value,i!=null&&Fn(e,!!a.multiple,i,!1)}},Ka=Jc,qa=Jr;var y_={usingClientEntryPoint:!1,Events:[wi,xi,Fs,Wa,Ga,Jc]},pa={findFiberByHostInstance:_i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},__={bundleType:pa.bundleType,version:pa.version,rendererPackageName:pa.rendererPackageName,rendererConfig:pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qa(e),e===null?null:e.stateNode},findFiberByHostInstance:pa.findFiberByHostInstance||g_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Rr=lu.inject(__),qt=lu}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y_,Gt.createPortal=function(e,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ld(i))throw Error(s(200));return m_(e,i,null,a)},Gt.createRoot=function(e,i){if(!ld(e))throw Error(s(299));var a=!1,c="",m=Lp;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=sd(e,1,!1,null,null,a,!1,c,m),e[Ze]=i.current,ir(e.nodeType===8?e.parentNode:e),new ad(i)},Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Qa(i),e=e===null?null:e.stateNode,e},Gt.flushSync=function(e){return Jr(e)},Gt.hydrate=function(e,i,a){if(!ou(i))throw Error(s(200));return au(null,e,i,!0,a)},Gt.hydrateRoot=function(e,i,a){if(!ld(e))throw Error(s(405));var c=a!=null&&a.hydratedSources||null,m=!1,v="",S=Lp;if(a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),i=Tp(i,null,e,1,a??null,m,!1,v,S),e[Ze]=i.current,ir(e),c)for(e=0;e<c.length;e++)a=c[e],m=a._getVersion,m=m(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,m]:i.mutableSourceEagerHydrationData.push(a,m);return new su(i)},Gt.render=function(e,i,a){if(!ou(i))throw Error(s(200));return au(null,e,i,!1,a)},Gt.unmountComponentAtNode=function(e){if(!ou(e))throw Error(s(40));return e._reactRootContainer?(Jr(function(){au(null,null,e,!1,function(){e._reactRootContainer=null,e[Ze]=null})}),!0):!1},Gt.unstable_batchedUpdates=Jc,Gt.unstable_renderSubtreeIntoContainer=function(e,i,a,c){if(!ou(a))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return au(e,i,a,!1,c)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var zp;function zg(){if(zp)return dd.exports;zp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),dd.exports=k_(),dd.exports}var Bp;function T_(){if(Bp)return uu;Bp=1;var r=zg();return uu.createRoot=r.createRoot,uu.hydrateRoot=r.hydrateRoot,uu}var b_=T_();const hh=F.createContext({});function Nu(r){const n=F.useRef(null);return n.current===null&&(n.current=r()),n.current}const Ru=F.createContext(null),fh=F.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"});class L_ extends F.Component{getSnapshotBeforeUpdate(n){const s=this.props.childRef.current;if(s&&n.isPresent&&!this.props.isPresent){const l=this.props.sizeRef.current;l.height=s.offsetHeight||0,l.width=s.offsetWidth||0,l.top=s.offsetTop,l.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function M_({children:r,isPresent:n}){const s=F.useId(),l=F.useRef(null),d=F.useRef({width:0,height:0,top:0,left:0}),{nonce:f}=F.useContext(fh);return F.useInsertionEffect(()=>{const{width:h,height:y,top:g,left:_}=d.current;if(n||!l.current||!h||!y)return;l.current.dataset.motionPopId=s;const x=document.createElement("style");return f&&(x.nonce=f),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${y}px !important;
            top: ${g}px !important;
            left: ${_}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[n]),k.jsx(L_,{isPresent:n,childRef:l,sizeRef:d,children:F.cloneElement(r,{ref:l})})}const N_=({children:r,initial:n,isPresent:s,onExitComplete:l,custom:d,presenceAffectsLayout:f,mode:h})=>{const y=Nu(R_),g=F.useId(),_=F.useCallback(C=>{y.set(C,!0);for(const E of y.values())if(!E)return;l&&l()},[y,l]),x=F.useMemo(()=>({id:g,initial:n,isPresent:s,custom:d,onExitComplete:_,register:C=>(y.set(C,!1),()=>y.delete(C))}),f?[Math.random(),_]:[s,_]);return F.useMemo(()=>{y.forEach((C,E)=>y.set(E,!1))},[s]),F.useEffect(()=>{!s&&!y.size&&l&&l()},[s]),h==="popLayout"&&(r=k.jsx(M_,{isPresent:s,children:r})),k.jsx(Ru.Provider,{value:x,children:r})};function R_(){return new Map}function Bg(r=!0){const n=F.useContext(Ru);if(n===null)return[!0,null];const{isPresent:s,onExitComplete:l,register:d}=n,f=F.useId();F.useEffect(()=>{r&&d(f)},[r]);const h=F.useCallback(()=>r&&l&&l(f),[f,l,r]);return!s&&l?[!1,h]:[!0]}const cu=r=>r.key||"";function Vp(r){const n=[];return F.Children.forEach(r,s=>{F.isValidElement(s)&&n.push(s)}),n}const ph=typeof window<"u",mh=ph?F.useLayoutEffect:F.useEffect,si=({children:r,custom:n,initial:s=!0,onExitComplete:l,presenceAffectsLayout:d=!0,mode:f="sync",propagate:h=!1})=>{const[y,g]=Bg(h),_=F.useMemo(()=>Vp(r),[r]),x=h&&!y?[]:_.map(cu),C=F.useRef(!0),E=F.useRef(_),N=Nu(()=>new Map),[R,T]=F.useState(_),[b,j]=F.useState(_);mh(()=>{C.current=!1,E.current=_;for(let G=0;G<b.length;G++){const q=cu(b[G]);x.includes(q)?N.delete(q):N.get(q)!==!0&&N.set(q,!1)}},[b,x.length,x.join("-")]);const z=[];if(_!==R){let G=[..._];for(let q=0;q<b.length;q++){const B=b[q],ie=cu(B);x.includes(ie)||(G.splice(q,0,B),z.push(B))}f==="wait"&&z.length&&(G=z),j(Vp(G)),T(_);return}const{forceRender:U}=F.useContext(hh);return k.jsx(k.Fragment,{children:b.map(G=>{const q=cu(G),B=h&&!y?!1:_===b||x.includes(q),ie=()=>{if(N.has(q))N.set(q,!0);else return;let re=!0;N.forEach(Ce=>{Ce||(re=!1)}),re&&(U?.(),j(E.current),h&&g?.(),l&&l())};return k.jsx(N_,{isPresent:B,initial:!C.current||s?void 0:!1,custom:B?void 0:n,presenceAffectsLayout:d,mode:f,onExitComplete:B?void 0:ie,children:G},q)})})},ln=r=>r;let Vg=ln;function gh(r){let n;return()=>(n===void 0&&(n=r()),n)}const lo=(r,n,s)=>{const l=n-r;return l===0?1:(s-r)/l},Ni=r=>r*1e3,Ri=r=>r/1e3,A_={useManualTiming:!1};function I_(r){let n=new Set,s=new Set,l=!1,d=!1;const f=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function y(_){f.has(_)&&(g.schedule(_),r()),_(h)}const g={schedule:(_,x=!1,C=!1)=>{const N=C&&l?n:s;return x&&f.add(_),N.has(_)||N.add(_),_},cancel:_=>{s.delete(_),f.delete(_)},process:_=>{if(h=_,l){d=!0;return}l=!0,[n,s]=[s,n],n.forEach(y),n.clear(),l=!1,d&&(d=!1,g.process(_))}};return g}const du=["read","resolveKeyframes","update","preRender","render","postRender"],O_=40;function Fg(r,n){let s=!1,l=!0;const d={delta:0,timestamp:0,isProcessing:!1},f=()=>s=!0,h=du.reduce((j,z)=>(j[z]=I_(f),j),{}),{read:y,resolveKeyframes:g,update:_,preRender:x,render:C,postRender:E}=h,N=()=>{const j=performance.now();s=!1,d.delta=l?1e3/60:Math.max(Math.min(j-d.timestamp,O_),1),d.timestamp=j,d.isProcessing=!0,y.process(d),g.process(d),_.process(d),x.process(d),C.process(d),E.process(d),d.isProcessing=!1,s&&n&&(l=!1,r(N))},R=()=>{s=!0,l=!0,d.isProcessing||r(N)};return{schedule:du.reduce((j,z)=>{const U=h[z];return j[z]=(G,q=!1,B=!1)=>(s||R(),U.schedule(G,q,B)),j},{}),cancel:j=>{for(let z=0;z<du.length;z++)h[du[z]].cancel(j)},state:d,steps:h}}const{schedule:Qe,cancel:Cr,state:Pt,steps:pd}=Fg(typeof requestAnimationFrame<"u"?requestAnimationFrame:ln,!0),Ug=F.createContext({strict:!1}),Fp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},uo={};for(const r in Fp)uo[r]={isEnabled:n=>Fp[r].some(s=>!!n[s])};function D_(r){for(const n in r)uo[n]={...uo[n],...r[n]}}const j_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pu(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||j_.has(r)}let $g=r=>!Pu(r);function z_(r){r&&($g=n=>n.startsWith("on")?!Pu(n):r(n))}try{z_(require("@emotion/is-prop-valid").default)}catch{}function B_(r,n,s){const l={};for(const d in r)d==="values"&&typeof r.values=="object"||($g(d)||s===!0&&Pu(d)||!n&&!Pu(d)||r.draggable&&d.startsWith("onDrag"))&&(l[d]=r[d]);return l}function V_(r){if(typeof Proxy>"u")return r;const n=new Map,s=(...l)=>r(...l);return new Proxy(s,{get:(l,d)=>d==="create"?r:(n.has(d)||n.set(d,r(d)),n.get(d))})}const Au=F.createContext({});function La(r){return typeof r=="string"||Array.isArray(r)}function Iu(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const vh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yh=["initial",...vh];function Ou(r){return Iu(r.animate)||yh.some(n=>La(r[n]))}function Zg(r){return!!(Ou(r)||r.variants)}function F_(r,n){if(Ou(r)){const{initial:s,animate:l}=r;return{initial:s===!1||La(s)?s:void 0,animate:La(l)?l:void 0}}return r.inherit!==!1?n:{}}function U_(r){const{initial:n,animate:s}=F_(r,F.useContext(Au));return F.useMemo(()=>({initial:n,animate:s}),[Up(n),Up(s)])}function Up(r){return Array.isArray(r)?r.join(" "):r}const $_=Symbol.for("motionComponentSymbol");function io(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}function Z_(r,n,s){return F.useCallback(l=>{l&&r.onMount&&r.onMount(l),n&&(l?n.mount(l):n.unmount()),s&&(typeof s=="function"?s(l):io(s)&&(s.current=l))},[n])}const _h=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),H_="framerAppearId",Hg="data-"+_h(H_),{schedule:wh}=Fg(queueMicrotask,!1),Wg=F.createContext({});function W_(r,n,s,l,d){var f,h;const{visualElement:y}=F.useContext(Au),g=F.useContext(Ug),_=F.useContext(Ru),x=F.useContext(fh).reducedMotion,C=F.useRef(null);l=l||g.renderer,!C.current&&l&&(C.current=l(r,{visualState:n,parent:y,props:s,presenceContext:_,blockInitialAnimation:_?_.initial===!1:!1,reducedMotionConfig:x}));const E=C.current,N=F.useContext(Wg);E&&!E.projection&&d&&(E.type==="html"||E.type==="svg")&&G_(C.current,s,d,N);const R=F.useRef(!1);F.useInsertionEffect(()=>{E&&R.current&&E.update(s,_)});const T=s[Hg],b=F.useRef(!!T&&!(!((f=window.MotionHandoffIsComplete)===null||f===void 0)&&f.call(window,T))&&((h=window.MotionHasOptimisedAnimation)===null||h===void 0?void 0:h.call(window,T)));return mh(()=>{E&&(R.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),wh.render(E.render),b.current&&E.animationState&&E.animationState.animateChanges())}),F.useEffect(()=>{E&&(!b.current&&E.animationState&&E.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,T)}),b.current=!1))}),E}function G_(r,n,s,l){const{layoutId:d,layout:f,drag:h,dragConstraints:y,layoutScroll:g,layoutRoot:_}=n;r.projection=new s(r.latestValues,n["data-framer-portal-id"]?void 0:Gg(r.parent)),r.projection.setOptions({layoutId:d,layout:f,alwaysMeasureLayout:!!h||y&&io(y),visualElement:r,animationType:typeof f=="string"?f:"both",initialPromotionConfig:l,layoutScroll:g,layoutRoot:_})}function Gg(r){if(r)return r.options.allowProjection!==!1?r.projection:Gg(r.parent)}function K_({preloadedFeatures:r,createVisualElement:n,useRender:s,useVisualState:l,Component:d}){var f,h;r&&D_(r);function y(_,x){let C;const E={...F.useContext(fh),..._,layoutId:q_(_)},{isStatic:N}=E,R=U_(_),T=l(_,N);if(!N&&ph){Y_();const b=X_(E);C=b.MeasureLayout,R.visualElement=W_(d,T,E,n,b.ProjectionNode)}return k.jsxs(Au.Provider,{value:R,children:[C&&R.visualElement?k.jsx(C,{visualElement:R.visualElement,...E}):null,s(d,_,Z_(T,R.visualElement,x),T,N,R.visualElement)]})}y.displayName=`motion.${typeof d=="string"?d:`create(${(h=(f=d.displayName)!==null&&f!==void 0?f:d.name)!==null&&h!==void 0?h:""})`}`;const g=F.forwardRef(y);return g[$_]=d,g}function q_({layoutId:r}){const n=F.useContext(hh).id;return n&&r!==void 0?n+"-"+r:r}function Y_(r,n){F.useContext(Ug).strict}function X_(r){const{drag:n,layout:s}=uo;if(!n&&!s)return{};const l={...n,...s};return{MeasureLayout:n?.isEnabled(r)||s?.isEnabled(r)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}const Q_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xh(r){return typeof r!="string"||r.includes("-")?!1:!!(Q_.indexOf(r)>-1||/[A-Z]/u.test(r))}function $p(r){const n=[{},{}];return r?.values.forEach((s,l)=>{n[0][l]=s.get(),n[1][l]=s.getVelocity()}),n}function Sh(r,n,s,l){if(typeof n=="function"){const[d,f]=$p(l);n=n(s!==void 0?s:r.custom,d,f)}if(typeof n=="string"&&(n=r.variants&&r.variants[n]),typeof n=="function"){const[d,f]=$p(l);n=n(s!==void 0?s:r.custom,d,f)}return n}const zd=r=>Array.isArray(r),J_=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),e0=r=>zd(r)?r[r.length-1]||0:r,It=r=>!!(r&&r.getVelocity);function yu(r){const n=It(r)?r.get():r;return J_(n)?n.toValue():n}function t0({scrapeMotionValuesFromProps:r,createRenderState:n,onUpdate:s},l,d,f){const h={latestValues:n0(l,d,f,r),renderState:n()};return s&&(h.onMount=y=>s({props:l,current:y,...h}),h.onUpdate=y=>s(y)),h}const Kg=r=>(n,s)=>{const l=F.useContext(Au),d=F.useContext(Ru),f=()=>t0(r,n,l,d);return s?f():Nu(f)};function n0(r,n,s,l){const d={},f=l(r,{});for(const E in f)d[E]=yu(f[E]);let{initial:h,animate:y}=r;const g=Ou(r),_=Zg(r);n&&_&&!g&&r.inherit!==!1&&(h===void 0&&(h=n.initial),y===void 0&&(y=n.animate));let x=s?s.initial===!1:!1;x=x||h===!1;const C=x?y:h;if(C&&typeof C!="boolean"&&!Iu(C)){const E=Array.isArray(C)?C:[C];for(let N=0;N<E.length;N++){const R=Sh(r,E[N]);if(R){const{transitionEnd:T,transition:b,...j}=R;for(const z in j){let U=j[z];if(Array.isArray(U)){const G=x?U.length-1:0;U=U[G]}U!==null&&(d[z]=U)}for(const z in T)d[z]=T[z]}}}return d}const ho=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],us=new Set(ho),qg=r=>n=>typeof n=="string"&&n.startsWith(r),Yg=qg("--"),i0=qg("var(--"),Ch=r=>i0(r)?r0.test(r.split("/*")[0].trim()):!1,r0=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xg=(r,n)=>n&&typeof r=="number"?n.transform(r):r,Ai=(r,n,s)=>s>n?n:s<r?r:s,fo={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Ma={...fo,transform:r=>Ai(0,1,r)},hu={...fo,default:1},Da=r=>({test:n=>typeof n=="string"&&n.endsWith(r)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${r}`}),xr=Da("deg"),ii=Da("%"),Pe=Da("px"),s0=Da("vh"),o0=Da("vw"),Zp={...ii,parse:r=>ii.parse(r)/100,transform:r=>ii.transform(r*100)},a0={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe},l0={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:hu,scaleX:hu,scaleY:hu,scaleZ:hu,skew:xr,skewX:xr,skewY:xr,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Ma,originX:Zp,originY:Zp,originZ:Pe},Hp={...fo,transform:Math.round},Ph={...a0,...l0,zIndex:Hp,size:Pe,fillOpacity:Ma,strokeOpacity:Ma,numOctaves:Hp},u0={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},c0=ho.length;function d0(r,n,s){let l="",d=!0;for(let f=0;f<c0;f++){const h=ho[f],y=r[h];if(y===void 0)continue;let g=!0;if(typeof y=="number"?g=y===(h.startsWith("scale")?1:0):g=parseFloat(y)===0,!g||s){const _=Xg(y,Ph[h]);if(!g){d=!1;const x=u0[h]||h;l+=`${x}(${_}) `}s&&(n[h]=_)}}return l=l.trim(),s?l=s(n,d?"":l):d&&(l="none"),l}function Eh(r,n,s){const{style:l,vars:d,transformOrigin:f}=r;let h=!1,y=!1;for(const g in n){const _=n[g];if(us.has(g)){h=!0;continue}else if(Yg(g)){d[g]=_;continue}else{const x=Xg(_,Ph[g]);g.startsWith("origin")?(y=!0,f[g]=x):l[g]=x}}if(n.transform||(h||s?l.transform=d0(n,r.transform,s):l.transform&&(l.transform="none")),y){const{originX:g="50%",originY:_="50%",originZ:x=0}=f;l.transformOrigin=`${g} ${_} ${x}`}}const h0={offset:"stroke-dashoffset",array:"stroke-dasharray"},f0={offset:"strokeDashoffset",array:"strokeDasharray"};function p0(r,n,s=1,l=0,d=!0){r.pathLength=1;const f=d?h0:f0;r[f.offset]=Pe.transform(-l);const h=Pe.transform(n),y=Pe.transform(s);r[f.array]=`${h} ${y}`}function Wp(r,n,s){return typeof r=="string"?r:Pe.transform(n+s*r)}function m0(r,n,s){const l=Wp(n,r.x,r.width),d=Wp(s,r.y,r.height);return`${l} ${d}`}function kh(r,{attrX:n,attrY:s,attrScale:l,originX:d,originY:f,pathLength:h,pathSpacing:y=1,pathOffset:g=0,..._},x,C){if(Eh(r,_,C),x){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:E,style:N,dimensions:R}=r;E.transform&&(R&&(N.transform=E.transform),delete E.transform),R&&(d!==void 0||f!==void 0||N.transform)&&(N.transformOrigin=m0(R,d!==void 0?d:.5,f!==void 0?f:.5)),n!==void 0&&(E.x=n),s!==void 0&&(E.y=s),l!==void 0&&(E.scale=l),h!==void 0&&p0(E,h,y,g,!1)}const Th=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Qg=()=>({...Th(),attrs:{}}),bh=r=>typeof r=="string"&&r.toLowerCase()==="svg";function Jg(r,{style:n,vars:s},l,d){Object.assign(r.style,n,d&&d.getProjectionStyles(l));for(const f in s)r.style.setProperty(f,s[f])}const ev=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tv(r,n,s,l){Jg(r,n,void 0,l);for(const d in n.attrs)r.setAttribute(ev.has(d)?d:_h(d),n.attrs[d])}const Eu={};function g0(r){Object.assign(Eu,r)}function nv(r,{layout:n,layoutId:s}){return us.has(r)||r.startsWith("origin")||(n||s!==void 0)&&(!!Eu[r]||r==="opacity")}function Lh(r,n,s){var l;const{style:d}=r,f={};for(const h in d)(It(d[h])||n.style&&It(n.style[h])||nv(h,r)||((l=s?.getValue(h))===null||l===void 0?void 0:l.liveStyle)!==void 0)&&(f[h]=d[h]);return f}function iv(r,n,s){const l=Lh(r,n,s);for(const d in r)if(It(r[d])||It(n[d])){const f=ho.indexOf(d)!==-1?"attr"+d.charAt(0).toUpperCase()+d.substring(1):d;l[f]=r[d]}return l}function v0(r,n){try{n.dimensions=typeof r.getBBox=="function"?r.getBBox():r.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}const Gp=["x","y","width","height","cx","cy","r"],y0={useVisualState:Kg({scrapeMotionValuesFromProps:iv,createRenderState:Qg,onUpdate:({props:r,prevProps:n,current:s,renderState:l,latestValues:d})=>{if(!s)return;let f=!!r.drag;if(!f){for(const y in d)if(us.has(y)){f=!0;break}}if(!f)return;let h=!n;if(n)for(let y=0;y<Gp.length;y++){const g=Gp[y];r[g]!==n[g]&&(h=!0)}h&&Qe.read(()=>{v0(s,l),Qe.render(()=>{kh(l,d,bh(s.tagName),r.transformTemplate),tv(s,l)})})}})},_0={useVisualState:Kg({scrapeMotionValuesFromProps:Lh,createRenderState:Th})};function rv(r,n,s){for(const l in n)!It(n[l])&&!nv(l,s)&&(r[l]=n[l])}function w0({transformTemplate:r},n){return F.useMemo(()=>{const s=Th();return Eh(s,n,r),Object.assign({},s.vars,s.style)},[n])}function x0(r,n){const s=r.style||{},l={};return rv(l,s,r),Object.assign(l,w0(r,n)),l}function S0(r,n){const s={},l=x0(r,n);return r.drag&&r.dragListener!==!1&&(s.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(s.tabIndex=0),s.style=l,s}function C0(r,n,s,l){const d=F.useMemo(()=>{const f=Qg();return kh(f,n,bh(l),r.transformTemplate),{...f.attrs,style:{...f.style}}},[n]);if(r.style){const f={};rv(f,r.style,r),d.style={...f,...d.style}}return d}function P0(r=!1){return(s,l,d,{latestValues:f},h)=>{const g=(xh(s)?C0:S0)(l,f,h,s),_=B_(l,typeof s=="string",r),x=s!==F.Fragment?{..._,...g,ref:d}:{},{children:C}=l,E=F.useMemo(()=>It(C)?C.get():C,[C]);return F.createElement(s,{...x,children:E})}}function E0(r,n){return function(l,{forwardMotionProps:d}={forwardMotionProps:!1}){const h={...xh(l)?y0:_0,preloadedFeatures:r,useRender:P0(d),createVisualElement:n,Component:l};return K_(h)}}function sv(r,n){if(!Array.isArray(n))return!1;const s=n.length;if(s!==r.length)return!1;for(let l=0;l<s;l++)if(n[l]!==r[l])return!1;return!0}function Du(r,n,s){const l=r.getProps();return Sh(l,n,s!==void 0?s:l.custom,r)}const k0=gh(()=>window.ScrollTimeline!==void 0);class T0{constructor(n){this.stop=()=>this.runAll("stop"),this.animations=n.filter(Boolean)}get finished(){return Promise.all(this.animations.map(n=>"finished"in n?n.finished:n))}getAll(n){return this.animations[0][n]}setAll(n,s){for(let l=0;l<this.animations.length;l++)this.animations[l][n]=s}attachTimeline(n,s){const l=this.animations.map(d=>{if(k0()&&d.attachTimeline)return d.attachTimeline(n);if(typeof s=="function")return s(d)});return()=>{l.forEach((d,f)=>{d&&d(),this.animations[f].stop()})}}get time(){return this.getAll("time")}set time(n){this.setAll("time",n)}get speed(){return this.getAll("speed")}set speed(n){this.setAll("speed",n)}get startTime(){return this.getAll("startTime")}get duration(){let n=0;for(let s=0;s<this.animations.length;s++)n=Math.max(n,this.animations[s].duration);return n}runAll(n){this.animations.forEach(s=>s[n]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class b0 extends T0{then(n,s){return Promise.all(this.animations).then(n).catch(s)}}function Mh(r,n){return r?r[n]||r.default||r:void 0}const Bd=2e4;function ov(r){let n=0;const s=50;let l=r.next(n);for(;!l.done&&n<Bd;)n+=s,l=r.next(n);return n>=Bd?1/0:n}function Nh(r){return typeof r=="function"}function Kp(r,n){r.timeline=n,r.onfinish=null}const Rh=r=>Array.isArray(r)&&typeof r[0]=="number",L0={linearEasing:void 0};function M0(r,n){const s=gh(r);return()=>{var l;return(l=L0[n])!==null&&l!==void 0?l:s()}}const ku=M0(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),av=(r,n,s=10)=>{let l="";const d=Math.max(Math.round(n/s),2);for(let f=0;f<d;f++)l+=r(lo(0,d-1,f))+", ";return`linear(${l.substring(0,l.length-2)})`};function lv(r){return!!(typeof r=="function"&&ku()||!r||typeof r=="string"&&(r in Vd||ku())||Rh(r)||Array.isArray(r)&&r.every(lv))}const wa=([r,n,s,l])=>`cubic-bezier(${r}, ${n}, ${s}, ${l})`,Vd={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wa([0,.65,.55,1]),circOut:wa([.55,0,1,.45]),backIn:wa([.31,.01,.66,-.59]),backOut:wa([.33,1.53,.69,.99])};function uv(r,n){if(r)return typeof r=="function"&&ku()?av(r,n):Rh(r)?wa(r):Array.isArray(r)?r.map(s=>uv(s,n)||Vd.easeOut):Vd[r]}const Bn={x:!1,y:!1};function cv(){return Bn.x||Bn.y}function N0(r,n,s){var l;if(r instanceof Element)return[r];if(typeof r=="string"){let d=document;const f=(l=void 0)!==null&&l!==void 0?l:d.querySelectorAll(r);return f?Array.from(f):[]}return Array.from(r)}function dv(r,n){const s=N0(r),l=new AbortController,d={passive:!0,...n,signal:l.signal};return[s,d,()=>l.abort()]}function qp(r){return n=>{n.pointerType==="touch"||cv()||r(n)}}function R0(r,n,s={}){const[l,d,f]=dv(r,s),h=qp(y=>{const{target:g}=y,_=n(y);if(typeof _!="function"||!g)return;const x=qp(C=>{_(C),g.removeEventListener("pointerleave",x)});g.addEventListener("pointerleave",x,d)});return l.forEach(y=>{y.addEventListener("pointerenter",h,d)}),f}const hv=(r,n)=>n?r===n?!0:hv(r,n.parentElement):!1,Ah=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1,A0=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function I0(r){return A0.has(r.tagName)||r.tabIndex!==-1}const xa=new WeakSet;function Yp(r){return n=>{n.key==="Enter"&&r(n)}}function md(r,n){r.dispatchEvent(new PointerEvent("pointer"+n,{isPrimary:!0,bubbles:!0}))}const O0=(r,n)=>{const s=r.currentTarget;if(!s)return;const l=Yp(()=>{if(xa.has(s))return;md(s,"down");const d=Yp(()=>{md(s,"up")}),f=()=>md(s,"cancel");s.addEventListener("keyup",d,n),s.addEventListener("blur",f,n)});s.addEventListener("keydown",l,n),s.addEventListener("blur",()=>s.removeEventListener("keydown",l),n)};function Xp(r){return Ah(r)&&!cv()}function D0(r,n,s={}){const[l,d,f]=dv(r,s),h=y=>{const g=y.currentTarget;if(!Xp(y)||xa.has(g))return;xa.add(g);const _=n(y),x=(N,R)=>{window.removeEventListener("pointerup",C),window.removeEventListener("pointercancel",E),!(!Xp(N)||!xa.has(g))&&(xa.delete(g),typeof _=="function"&&_(N,{success:R}))},C=N=>{x(N,s.useGlobalTarget||hv(g,N.target))},E=N=>{x(N,!1)};window.addEventListener("pointerup",C,d),window.addEventListener("pointercancel",E,d)};return l.forEach(y=>{!I0(y)&&y.getAttribute("tabindex")===null&&(y.tabIndex=0),(s.useGlobalTarget?window:y).addEventListener("pointerdown",h,d),y.addEventListener("focus",_=>O0(_,d),d)}),f}function j0(r){return r==="x"||r==="y"?Bn[r]?null:(Bn[r]=!0,()=>{Bn[r]=!1}):Bn.x||Bn.y?null:(Bn.x=Bn.y=!0,()=>{Bn.x=Bn.y=!1})}const fv=new Set(["width","height","top","left","right","bottom",...ho]);let _u;function z0(){_u=void 0}const ri={now:()=>(_u===void 0&&ri.set(Pt.isProcessing||A_.useManualTiming?Pt.timestamp:performance.now()),_u),set:r=>{_u=r,queueMicrotask(z0)}};function Ih(r,n){r.indexOf(n)===-1&&r.push(n)}function Oh(r,n){const s=r.indexOf(n);s>-1&&r.splice(s,1)}class Dh{constructor(){this.subscriptions=[]}add(n){return Ih(this.subscriptions,n),()=>Oh(this.subscriptions,n)}notify(n,s,l){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](n,s,l);else for(let f=0;f<d;f++){const h=this.subscriptions[f];h&&h(n,s,l)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pv(r,n){return n?r*(1e3/n):0}const Qp=30,B0=r=>!isNaN(parseFloat(r));class V0{constructor(n,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(l,d=!0)=>{const f=ri.now();this.updatedAt!==f&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(l),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),d&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(n),this.owner=s.owner}setCurrent(n){this.current=n,this.updatedAt=ri.now(),this.canTrackVelocity===null&&n!==void 0&&(this.canTrackVelocity=B0(this.current))}setPrevFrameValue(n=this.current){this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt}onChange(n){return this.on("change",n)}on(n,s){this.events[n]||(this.events[n]=new Dh);const l=this.events[n].add(s);return n==="change"?()=>{l(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:l}clearListeners(){for(const n in this.events)this.events[n].clear()}attach(n,s){this.passiveEffect=n,this.stopPassiveEffect=s}set(n,s=!0){!s||!this.passiveEffect?this.updateAndNotify(n,s):this.passiveEffect(n,this.updateAndNotify)}setWithVelocity(n,s,l){this.set(s),this.prev=void 0,this.prevFrameValue=n,this.prevUpdatedAt=this.updatedAt-l}jump(n,s=!0){this.updateAndNotify(n),this.prev=n,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const n=ri.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||n-this.updatedAt>Qp)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Qp);return pv(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(n){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=n(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Na(r,n){return new V0(r,n)}function F0(r,n,s){r.hasValue(n)?r.getValue(n).set(s):r.addValue(n,Na(s))}function jh(r,n){const s=Du(r,n);let{transitionEnd:l={},transition:d={},...f}=s||{};f={...f,...l};for(const h in f){const y=e0(f[h]);F0(r,h,y)}}function U0(r){return!!(It(r)&&r.add)}function Fd(r,n){const s=r.getValue("willChange");if(U0(s))return s.add(n)}function mv(r){return r.props[Hg]}const gv=(r,n,s)=>(((1-3*s+3*n)*r+(3*s-6*n))*r+3*n)*r,$0=1e-7,Z0=12;function H0(r,n,s,l,d){let f,h,y=0;do h=n+(s-n)/2,f=gv(h,l,d)-r,f>0?s=h:n=h;while(Math.abs(f)>$0&&++y<Z0);return h}function ja(r,n,s,l){if(r===n&&s===l)return ln;const d=f=>H0(f,0,1,r,s);return f=>f===0||f===1?f:gv(d(f),n,l)}const vv=r=>n=>n<=.5?r(2*n)/2:(2-r(2*(1-n)))/2,yv=r=>n=>1-r(1-n),_v=ja(.33,1.53,.69,.99),zh=yv(_v),wv=vv(zh),xv=r=>(r*=2)<1?.5*zh(r):.5*(2-Math.pow(2,-10*(r-1))),Bh=r=>1-Math.sin(Math.acos(r)),Sv=yv(Bh),Cv=vv(Bh),Pv=r=>/^0[^.\s]+$/u.test(r);function W0(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Pv(r):!0}const Ea=r=>Math.round(r*1e5)/1e5,Vh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function G0(r){return r==null}const K0=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fh=(r,n)=>s=>!!(typeof s=="string"&&K0.test(s)&&s.startsWith(r)||n&&!G0(s)&&Object.prototype.hasOwnProperty.call(s,n)),Ev=(r,n,s)=>l=>{if(typeof l!="string")return l;const[d,f,h,y]=l.match(Vh);return{[r]:parseFloat(d),[n]:parseFloat(f),[s]:parseFloat(h),alpha:y!==void 0?parseFloat(y):1}},q0=r=>Ai(0,255,r),gd={...fo,transform:r=>Math.round(q0(r))},os={test:Fh("rgb","red"),parse:Ev("red","green","blue"),transform:({red:r,green:n,blue:s,alpha:l=1})=>"rgba("+gd.transform(r)+", "+gd.transform(n)+", "+gd.transform(s)+", "+Ea(Ma.transform(l))+")"};function Y0(r){let n="",s="",l="",d="";return r.length>5?(n=r.substring(1,3),s=r.substring(3,5),l=r.substring(5,7),d=r.substring(7,9)):(n=r.substring(1,2),s=r.substring(2,3),l=r.substring(3,4),d=r.substring(4,5),n+=n,s+=s,l+=l,d+=d),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(l,16),alpha:d?parseInt(d,16)/255:1}}const Ud={test:Fh("#"),parse:Y0,transform:os.transform},ro={test:Fh("hsl","hue"),parse:Ev("hue","saturation","lightness"),transform:({hue:r,saturation:n,lightness:s,alpha:l=1})=>"hsla("+Math.round(r)+", "+ii.transform(Ea(n))+", "+ii.transform(Ea(s))+", "+Ea(Ma.transform(l))+")"},At={test:r=>os.test(r)||Ud.test(r)||ro.test(r),parse:r=>os.test(r)?os.parse(r):ro.test(r)?ro.parse(r):Ud.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?os.transform(r):ro.transform(r)},X0=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Q0(r){var n,s;return isNaN(r)&&typeof r=="string"&&(((n=r.match(Vh))===null||n===void 0?void 0:n.length)||0)+(((s=r.match(X0))===null||s===void 0?void 0:s.length)||0)>0}const kv="number",Tv="color",J0="var",ew="var(",Jp="${}",tw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ra(r){const n=r.toString(),s=[],l={color:[],number:[],var:[]},d=[];let f=0;const y=n.replace(tw,g=>(At.test(g)?(l.color.push(f),d.push(Tv),s.push(At.parse(g))):g.startsWith(ew)?(l.var.push(f),d.push(J0),s.push(g)):(l.number.push(f),d.push(kv),s.push(parseFloat(g))),++f,Jp)).split(Jp);return{values:s,split:y,indexes:l,types:d}}function bv(r){return Ra(r).values}function Lv(r){const{split:n,types:s}=Ra(r),l=n.length;return d=>{let f="";for(let h=0;h<l;h++)if(f+=n[h],d[h]!==void 0){const y=s[h];y===kv?f+=Ea(d[h]):y===Tv?f+=At.transform(d[h]):f+=d[h]}return f}}const nw=r=>typeof r=="number"?0:r;function iw(r){const n=bv(r);return Lv(r)(n.map(nw))}const Pr={test:Q0,parse:bv,createTransformer:Lv,getAnimatableNone:iw},rw=new Set(["brightness","contrast","saturate","opacity"]);function sw(r){const[n,s]=r.slice(0,-1).split("(");if(n==="drop-shadow")return r;const[l]=s.match(Vh)||[];if(!l)return r;const d=s.replace(l,"");let f=rw.has(n)?1:0;return l!==s&&(f*=100),n+"("+f+d+")"}const ow=/\b([a-z-]*)\(.*?\)/gu,$d={...Pr,getAnimatableNone:r=>{const n=r.match(ow);return n?n.map(sw).join(" "):r}},aw={...Ph,color:At,backgroundColor:At,outlineColor:At,fill:At,stroke:At,borderColor:At,borderTopColor:At,borderRightColor:At,borderBottomColor:At,borderLeftColor:At,filter:$d,WebkitFilter:$d},Uh=r=>aw[r];function Mv(r,n){let s=Uh(r);return s!==$d&&(s=Pr),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const lw=new Set(["auto","none","0"]);function uw(r,n,s){let l=0,d;for(;l<r.length&&!d;){const f=r[l];typeof f=="string"&&!lw.has(f)&&Ra(f).values.length&&(d=r[l]),l++}if(d&&s)for(const f of n)r[f]=Mv(s,d)}const em=r=>r===fo||r===Pe,tm=(r,n)=>parseFloat(r.split(", ")[n]),nm=(r,n)=>(s,{transform:l})=>{if(l==="none"||!l)return 0;const d=l.match(/^matrix3d\((.+)\)$/u);if(d)return tm(d[1],n);{const f=l.match(/^matrix\((.+)\)$/u);return f?tm(f[1],r):0}},cw=new Set(["x","y","z"]),dw=ho.filter(r=>!cw.has(r));function hw(r){const n=[];return dw.forEach(s=>{const l=r.getValue(s);l!==void 0&&(n.push([s,l.get()]),l.set(s.startsWith("scale")?1:0))}),n}const co={width:({x:r},{paddingLeft:n="0",paddingRight:s="0"})=>r.max-r.min-parseFloat(n)-parseFloat(s),height:({y:r},{paddingTop:n="0",paddingBottom:s="0"})=>r.max-r.min-parseFloat(n)-parseFloat(s),top:(r,{top:n})=>parseFloat(n),left:(r,{left:n})=>parseFloat(n),bottom:({y:r},{top:n})=>parseFloat(n)+(r.max-r.min),right:({x:r},{left:n})=>parseFloat(n)+(r.max-r.min),x:nm(4,13),y:nm(5,14)};co.translateX=co.x;co.translateY=co.y;const as=new Set;let Zd=!1,Hd=!1;function Nv(){if(Hd){const r=Array.from(as).filter(l=>l.needsMeasurement),n=new Set(r.map(l=>l.element)),s=new Map;n.forEach(l=>{const d=hw(l);d.length&&(s.set(l,d),l.render())}),r.forEach(l=>l.measureInitialState()),n.forEach(l=>{l.render();const d=s.get(l);d&&d.forEach(([f,h])=>{var y;(y=l.getValue(f))===null||y===void 0||y.set(h)})}),r.forEach(l=>l.measureEndState()),r.forEach(l=>{l.suspendedScrollY!==void 0&&window.scrollTo(0,l.suspendedScrollY)})}Hd=!1,Zd=!1,as.forEach(r=>r.complete()),as.clear()}function Rv(){as.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(Hd=!0)})}function fw(){Rv(),Nv()}class $h{constructor(n,s,l,d,f,h=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...n],this.onComplete=s,this.name=l,this.motionValue=d,this.element=f,this.isAsync=h}scheduleResolve(){this.isScheduled=!0,this.isAsync?(as.add(this),Zd||(Zd=!0,Qe.read(Rv),Qe.resolveKeyframes(Nv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:n,name:s,element:l,motionValue:d}=this;for(let f=0;f<n.length;f++)if(n[f]===null)if(f===0){const h=d?.get(),y=n[n.length-1];if(h!==void 0)n[0]=h;else if(l&&s){const g=l.readValue(s,y);g!=null&&(n[0]=g)}n[0]===void 0&&(n[0]=y),d&&h===void 0&&d.set(n[0])}else n[f]=n[f-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),as.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,as.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Av=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),pw=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mw(r){const n=pw.exec(r);if(!n)return[,];const[,s,l,d]=n;return[`--${s??l}`,d]}function Iv(r,n,s=1){const[l,d]=mw(r);if(!l)return;const f=window.getComputedStyle(n).getPropertyValue(l);if(f){const h=f.trim();return Av(h)?parseFloat(h):h}return Ch(d)?Iv(d,n,s+1):d}const Ov=r=>n=>n.test(r),gw={test:r=>r==="auto",parse:r=>r},Dv=[fo,Pe,ii,xr,o0,s0,gw],im=r=>Dv.find(Ov(r));class jv extends $h{constructor(n,s,l,d,f){super(n,s,l,d,f,!0)}readKeyframes(){const{unresolvedKeyframes:n,element:s,name:l}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<n.length;g++){let _=n[g];if(typeof _=="string"&&(_=_.trim(),Ch(_))){const x=Iv(_,s.current);x!==void 0&&(n[g]=x),g===n.length-1&&(this.finalKeyframe=_)}}if(this.resolveNoneKeyframes(),!fv.has(l)||n.length!==2)return;const[d,f]=n,h=im(d),y=im(f);if(h!==y)if(em(h)&&em(y))for(let g=0;g<n.length;g++){const _=n[g];typeof _=="string"&&(n[g]=parseFloat(_))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:n,name:s}=this,l=[];for(let d=0;d<n.length;d++)W0(n[d])&&l.push(d);l.length&&uw(n,l,s)}measureInitialState(){const{element:n,unresolvedKeyframes:s,name:l}=this;if(!n||!n.current)return;l==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=co[l](n.measureViewportBox(),window.getComputedStyle(n.current)),s[0]=this.measuredOrigin;const d=s[s.length-1];d!==void 0&&n.getValue(l,d).jump(d,!1)}measureEndState(){var n;const{element:s,name:l,unresolvedKeyframes:d}=this;if(!s||!s.current)return;const f=s.getValue(l);f&&f.jump(this.measuredOrigin,!1);const h=d.length-1,y=d[h];d[h]=co[l](s.measureViewportBox(),window.getComputedStyle(s.current)),y!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=y),!((n=this.removedTransforms)===null||n===void 0)&&n.length&&this.removedTransforms.forEach(([g,_])=>{s.getValue(g).set(_)}),this.resolveNoneKeyframes()}}const rm=(r,n)=>n==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(Pr.test(r)||r==="0")&&!r.startsWith("url("));function vw(r){const n=r[0];if(r.length===1)return!0;for(let s=0;s<r.length;s++)if(r[s]!==n)return!0}function yw(r,n,s,l){const d=r[0];if(d===null)return!1;if(n==="display"||n==="visibility")return!0;const f=r[r.length-1],h=rm(d,n),y=rm(f,n);return!h||!y?!1:vw(r)||(s==="spring"||Nh(s))&&l}const _w=r=>r!==null;function ju(r,{repeat:n,repeatType:s="loop"},l){const d=r.filter(_w),f=n&&s!=="loop"&&n%2===1?0:d.length-1;return!f||l===void 0?d[f]:l}const ww=40;class zv{constructor({autoplay:n=!0,delay:s=0,type:l="keyframes",repeat:d=0,repeatDelay:f=0,repeatType:h="loop",...y}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ri.now(),this.options={autoplay:n,delay:s,type:l,repeat:d,repeatDelay:f,repeatType:h,...y},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ww?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&fw(),this._resolved}onKeyframesResolved(n,s){this.resolvedAt=ri.now(),this.hasAttemptedResolve=!0;const{name:l,type:d,velocity:f,delay:h,onComplete:y,onUpdate:g,isGenerator:_}=this.options;if(!_&&!yw(n,l,d,f))if(h)this.options.duration=0;else{g&&g(ju(n,this.options,s)),y&&y(),this.resolveFinishedPromise();return}const x=this.initPlayback(n,s);x!==!1&&(this._resolved={keyframes:n,finalKeyframe:s,...x},this.onPostResolved())}onPostResolved(){}then(n,s){return this.currentFinishedPromise.then(n,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(n=>{this.resolveFinishedPromise=n})}}const rt=(r,n,s)=>r+(n-r)*s;function vd(r,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+(n-r)*6*s:s<1/2?n:s<2/3?r+(n-r)*(2/3-s)*6:r}function xw({hue:r,saturation:n,lightness:s,alpha:l}){r/=360,n/=100,s/=100;let d=0,f=0,h=0;if(!n)d=f=h=s;else{const y=s<.5?s*(1+n):s+n-s*n,g=2*s-y;d=vd(g,y,r+1/3),f=vd(g,y,r),h=vd(g,y,r-1/3)}return{red:Math.round(d*255),green:Math.round(f*255),blue:Math.round(h*255),alpha:l}}function Tu(r,n){return s=>s>0?n:r}const yd=(r,n,s)=>{const l=r*r,d=s*(n*n-l)+l;return d<0?0:Math.sqrt(d)},Sw=[Ud,os,ro],Cw=r=>Sw.find(n=>n.test(r));function sm(r){const n=Cw(r);if(!n)return!1;let s=n.parse(r);return n===ro&&(s=xw(s)),s}const om=(r,n)=>{const s=sm(r),l=sm(n);if(!s||!l)return Tu(r,n);const d={...s};return f=>(d.red=yd(s.red,l.red,f),d.green=yd(s.green,l.green,f),d.blue=yd(s.blue,l.blue,f),d.alpha=rt(s.alpha,l.alpha,f),os.transform(d))},Pw=(r,n)=>s=>n(r(s)),za=(...r)=>r.reduce(Pw),Wd=new Set(["none","hidden"]);function Ew(r,n){return Wd.has(r)?s=>s<=0?r:n:s=>s>=1?n:r}function kw(r,n){return s=>rt(r,n,s)}function Zh(r){return typeof r=="number"?kw:typeof r=="string"?Ch(r)?Tu:At.test(r)?om:Lw:Array.isArray(r)?Bv:typeof r=="object"?At.test(r)?om:Tw:Tu}function Bv(r,n){const s=[...r],l=s.length,d=r.map((f,h)=>Zh(f)(f,n[h]));return f=>{for(let h=0;h<l;h++)s[h]=d[h](f);return s}}function Tw(r,n){const s={...r,...n},l={};for(const d in s)r[d]!==void 0&&n[d]!==void 0&&(l[d]=Zh(r[d])(r[d],n[d]));return d=>{for(const f in l)s[f]=l[f](d);return s}}function bw(r,n){var s;const l=[],d={color:0,var:0,number:0};for(let f=0;f<n.values.length;f++){const h=n.types[f],y=r.indexes[h][d[h]],g=(s=r.values[y])!==null&&s!==void 0?s:0;l[f]=g,d[h]++}return l}const Lw=(r,n)=>{const s=Pr.createTransformer(n),l=Ra(r),d=Ra(n);return l.indexes.var.length===d.indexes.var.length&&l.indexes.color.length===d.indexes.color.length&&l.indexes.number.length>=d.indexes.number.length?Wd.has(r)&&!d.values.length||Wd.has(n)&&!l.values.length?Ew(r,n):za(Bv(bw(l,d),d.values),s):Tu(r,n)};function Vv(r,n,s){return typeof r=="number"&&typeof n=="number"&&typeof s=="number"?rt(r,n,s):Zh(r)(r,n)}const Mw=5;function Fv(r,n,s){const l=Math.max(n-Mw,0);return pv(s-r(l),n-l)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_d=.001;function Nw({duration:r=at.duration,bounce:n=at.bounce,velocity:s=at.velocity,mass:l=at.mass}){let d,f,h=1-n;h=Ai(at.minDamping,at.maxDamping,h),r=Ai(at.minDuration,at.maxDuration,Ri(r)),h<1?(d=_=>{const x=_*h,C=x*r,E=x-s,N=Gd(_,h),R=Math.exp(-C);return _d-E/N*R},f=_=>{const C=_*h*r,E=C*s+s,N=Math.pow(h,2)*Math.pow(_,2)*r,R=Math.exp(-C),T=Gd(Math.pow(_,2),h);return(-d(_)+_d>0?-1:1)*((E-N)*R)/T}):(d=_=>{const x=Math.exp(-_*r),C=(_-s)*r+1;return-_d+x*C},f=_=>{const x=Math.exp(-_*r),C=(s-_)*(r*r);return x*C});const y=5/r,g=Aw(d,f,y);if(r=Ni(r),isNaN(g))return{stiffness:at.stiffness,damping:at.damping,duration:r};{const _=Math.pow(g,2)*l;return{stiffness:_,damping:h*2*Math.sqrt(l*_),duration:r}}}const Rw=12;function Aw(r,n,s){let l=s;for(let d=1;d<Rw;d++)l=l-r(l)/n(l);return l}function Gd(r,n){return r*Math.sqrt(1-n*n)}const Iw=["duration","bounce"],Ow=["stiffness","damping","mass"];function am(r,n){return n.some(s=>r[s]!==void 0)}function Dw(r){let n={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...r};if(!am(r,Ow)&&am(r,Iw))if(r.visualDuration){const s=r.visualDuration,l=2*Math.PI/(s*1.2),d=l*l,f=2*Ai(.05,1,1-(r.bounce||0))*Math.sqrt(d);n={...n,mass:at.mass,stiffness:d,damping:f}}else{const s=Nw(r);n={...n,...s,mass:at.mass},n.isResolvedFromDuration=!0}return n}function Uv(r=at.visualDuration,n=at.bounce){const s=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:n}:r;let{restSpeed:l,restDelta:d}=s;const f=s.keyframes[0],h=s.keyframes[s.keyframes.length-1],y={done:!1,value:f},{stiffness:g,damping:_,mass:x,duration:C,velocity:E,isResolvedFromDuration:N}=Dw({...s,velocity:-Ri(s.velocity||0)}),R=E||0,T=_/(2*Math.sqrt(g*x)),b=h-f,j=Ri(Math.sqrt(g/x)),z=Math.abs(b)<5;l||(l=z?at.restSpeed.granular:at.restSpeed.default),d||(d=z?at.restDelta.granular:at.restDelta.default);let U;if(T<1){const q=Gd(j,T);U=B=>{const ie=Math.exp(-T*j*B);return h-ie*((R+T*j*b)/q*Math.sin(q*B)+b*Math.cos(q*B))}}else if(T===1)U=q=>h-Math.exp(-j*q)*(b+(R+j*b)*q);else{const q=j*Math.sqrt(T*T-1);U=B=>{const ie=Math.exp(-T*j*B),re=Math.min(q*B,300);return h-ie*((R+T*j*b)*Math.sinh(re)+q*b*Math.cosh(re))/q}}const G={calculatedDuration:N&&C||null,next:q=>{const B=U(q);if(N)y.done=q>=C;else{let ie=0;T<1&&(ie=q===0?Ni(R):Fv(U,q,B));const re=Math.abs(ie)<=l,Ce=Math.abs(h-B)<=d;y.done=re&&Ce}return y.value=y.done?h:B,y},toString:()=>{const q=Math.min(ov(G),Bd),B=av(ie=>G.next(q*ie).value,q,30);return q+"ms "+B}};return G}function lm({keyframes:r,velocity:n=0,power:s=.8,timeConstant:l=325,bounceDamping:d=10,bounceStiffness:f=500,modifyTarget:h,min:y,max:g,restDelta:_=.5,restSpeed:x}){const C=r[0],E={done:!1,value:C},N=re=>y!==void 0&&re<y||g!==void 0&&re>g,R=re=>y===void 0?g:g===void 0||Math.abs(y-re)<Math.abs(g-re)?y:g;let T=s*n;const b=C+T,j=h===void 0?b:h(b);j!==b&&(T=j-C);const z=re=>-T*Math.exp(-re/l),U=re=>j+z(re),G=re=>{const Ce=z(re),Ae=U(re);E.done=Math.abs(Ce)<=_,E.value=E.done?j:Ae};let q,B;const ie=re=>{N(E.value)&&(q=re,B=Uv({keyframes:[E.value,R(E.value)],velocity:Fv(U,re,E.value),damping:d,stiffness:f,restDelta:_,restSpeed:x}))};return ie(0),{calculatedDuration:null,next:re=>{let Ce=!1;return!B&&q===void 0&&(Ce=!0,G(re),ie(re)),q!==void 0&&re>=q?B.next(re-q):(!Ce&&G(re),E)}}}const jw=ja(.42,0,1,1),zw=ja(0,0,.58,1),$v=ja(.42,0,.58,1),Bw=r=>Array.isArray(r)&&typeof r[0]!="number",Vw={linear:ln,easeIn:jw,easeInOut:$v,easeOut:zw,circIn:Bh,circInOut:Cv,circOut:Sv,backIn:zh,backInOut:wv,backOut:_v,anticipate:xv},um=r=>{if(Rh(r)){Vg(r.length===4);const[n,s,l,d]=r;return ja(n,s,l,d)}else if(typeof r=="string")return Vw[r];return r};function Fw(r,n,s){const l=[],d=s||Vv,f=r.length-1;for(let h=0;h<f;h++){let y=d(r[h],r[h+1]);if(n){const g=Array.isArray(n)?n[h]||ln:n;y=za(g,y)}l.push(y)}return l}function Uw(r,n,{clamp:s=!0,ease:l,mixer:d}={}){const f=r.length;if(Vg(f===n.length),f===1)return()=>n[0];if(f===2&&n[0]===n[1])return()=>n[1];const h=r[0]===r[1];r[0]>r[f-1]&&(r=[...r].reverse(),n=[...n].reverse());const y=Fw(n,l,d),g=y.length,_=x=>{if(h&&x<r[0])return n[0];let C=0;if(g>1)for(;C<r.length-2&&!(x<r[C+1]);C++);const E=lo(r[C],r[C+1],x);return y[C](E)};return s?x=>_(Ai(r[0],r[f-1],x)):_}function $w(r,n){const s=r[r.length-1];for(let l=1;l<=n;l++){const d=lo(0,n,l);r.push(rt(s,1,d))}}function Zw(r){const n=[0];return $w(n,r.length-1),n}function Hw(r,n){return r.map(s=>s*n)}function Ww(r,n){return r.map(()=>n||$v).splice(0,r.length-1)}function bu({duration:r=300,keyframes:n,times:s,ease:l="easeInOut"}){const d=Bw(l)?l.map(um):um(l),f={done:!1,value:n[0]},h=Hw(s&&s.length===n.length?s:Zw(n),r),y=Uw(h,n,{ease:Array.isArray(d)?d:Ww(n,d)});return{calculatedDuration:r,next:g=>(f.value=y(g),f.done=g>=r,f)}}const Gw=r=>{const n=({timestamp:s})=>r(s);return{start:()=>Qe.update(n,!0),stop:()=>Cr(n),now:()=>Pt.isProcessing?Pt.timestamp:ri.now()}},Kw={decay:lm,inertia:lm,tween:bu,keyframes:bu,spring:Uv},qw=r=>r/100;class Hh extends zv{constructor(n){super(n),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:g}=this.options;g&&g()};const{name:s,motionValue:l,element:d,keyframes:f}=this.options,h=d?.KeyframeResolver||$h,y=(g,_)=>this.onKeyframesResolved(g,_);this.resolver=new h(f,y,s,l,d),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(n){const{type:s="keyframes",repeat:l=0,repeatDelay:d=0,repeatType:f,velocity:h=0}=this.options,y=Nh(s)?s:Kw[s]||bu;let g,_;y!==bu&&typeof n[0]!="number"&&(g=za(qw,Vv(n[0],n[1])),n=[0,100]);const x=y({...this.options,keyframes:n});f==="mirror"&&(_=y({...this.options,keyframes:[...n].reverse(),velocity:-h})),x.calculatedDuration===null&&(x.calculatedDuration=ov(x));const{calculatedDuration:C}=x,E=C+d,N=E*(l+1)-d;return{generator:x,mirroredGenerator:_,mapPercentToKeyframes:g,calculatedDuration:C,resolvedDuration:E,totalDuration:N}}onPostResolved(){const{autoplay:n=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!n?this.pause():this.state=this.pendingPlayState}tick(n,s=!1){const{resolved:l}=this;if(!l){const{keyframes:re}=this.options;return{done:!0,value:re[re.length-1]}}const{finalKeyframe:d,generator:f,mirroredGenerator:h,mapPercentToKeyframes:y,keyframes:g,calculatedDuration:_,totalDuration:x,resolvedDuration:C}=l;if(this.startTime===null)return f.next(0);const{delay:E,repeat:N,repeatType:R,repeatDelay:T,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,n):this.speed<0&&(this.startTime=Math.min(n-x/this.speed,this.startTime)),s?this.currentTime=n:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(n-this.startTime)*this.speed;const j=this.currentTime-E*(this.speed>=0?1:-1),z=this.speed>=0?j<0:j>x;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=x);let U=this.currentTime,G=f;if(N){const re=Math.min(this.currentTime,x)/C;let Ce=Math.floor(re),Ae=re%1;!Ae&&re>=1&&(Ae=1),Ae===1&&Ce--,Ce=Math.min(Ce,N+1),Ce%2&&(R==="reverse"?(Ae=1-Ae,T&&(Ae-=T/C)):R==="mirror"&&(G=h)),U=Ai(0,1,Ae)*C}const q=z?{done:!1,value:g[0]}:G.next(U);y&&(q.value=y(q.value));let{done:B}=q;!z&&_!==null&&(B=this.speed>=0?this.currentTime>=x:this.currentTime<=0);const ie=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return ie&&d!==void 0&&(q.value=ju(g,this.options,d)),b&&b(q.value),ie&&this.finish(),q}get duration(){const{resolved:n}=this;return n?Ri(n.calculatedDuration):0}get time(){return Ri(this.currentTime)}set time(n){n=Ni(n),this.currentTime=n,this.holdTime!==null||this.speed===0?this.holdTime=n:this.driver&&(this.startTime=this.driver.now()-n/this.speed)}get speed(){return this.playbackSpeed}set speed(n){const s=this.playbackSpeed!==n;this.playbackSpeed=n,s&&(this.time=Ri(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:n=Gw,onPlay:s,startTime:l}=this.options;this.driver||(this.driver=n(f=>this.tick(f))),s&&s();const d=this.driver.now();this.holdTime!==null?this.startTime=d-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=d):this.startTime=l??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var n;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(n=this.currentTime)!==null&&n!==void 0?n:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:n}=this.options;n&&n()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(n){return this.startTime=0,this.tick(n,!0)}}const Yw=new Set(["opacity","clipPath","filter","transform"]);function Xw(r,n,s,{delay:l=0,duration:d=300,repeat:f=0,repeatType:h="loop",ease:y="easeInOut",times:g}={}){const _={[n]:s};g&&(_.offset=g);const x=uv(y,d);return Array.isArray(x)&&(_.easing=x),r.animate(_,{delay:l,duration:d,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:f+1,direction:h==="reverse"?"alternate":"normal"})}const Qw=gh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Lu=10,Jw=2e4;function ex(r){return Nh(r.type)||r.type==="spring"||!lv(r.ease)}function tx(r,n){const s=new Hh({...n,keyframes:r,repeat:0,delay:0,isGenerator:!0});let l={done:!1,value:r[0]};const d=[];let f=0;for(;!l.done&&f<Jw;)l=s.sample(f),d.push(l.value),f+=Lu;return{times:void 0,keyframes:d,duration:f-Lu,ease:"linear"}}const Zv={anticipate:xv,backInOut:wv,circInOut:Cv};function nx(r){return r in Zv}class cm extends zv{constructor(n){super(n);const{name:s,motionValue:l,element:d,keyframes:f}=this.options;this.resolver=new jv(f,(h,y)=>this.onKeyframesResolved(h,y),s,l,d),this.resolver.scheduleResolve()}initPlayback(n,s){let{duration:l=300,times:d,ease:f,type:h,motionValue:y,name:g,startTime:_}=this.options;if(!y.owner||!y.owner.current)return!1;if(typeof f=="string"&&ku()&&nx(f)&&(f=Zv[f]),ex(this.options)){const{onComplete:C,onUpdate:E,motionValue:N,element:R,...T}=this.options,b=tx(n,T);n=b.keyframes,n.length===1&&(n[1]=n[0]),l=b.duration,d=b.times,f=b.ease,h="keyframes"}const x=Xw(y.owner.current,g,n,{...this.options,duration:l,times:d,ease:f});return x.startTime=_??this.calcStartTime(),this.pendingTimeline?(Kp(x,this.pendingTimeline),this.pendingTimeline=void 0):x.onfinish=()=>{const{onComplete:C}=this.options;y.set(ju(n,this.options,s)),C&&C(),this.cancel(),this.resolveFinishedPromise()},{animation:x,duration:l,times:d,type:h,ease:f,keyframes:n}}get duration(){const{resolved:n}=this;if(!n)return 0;const{duration:s}=n;return Ri(s)}get time(){const{resolved:n}=this;if(!n)return 0;const{animation:s}=n;return Ri(s.currentTime||0)}set time(n){const{resolved:s}=this;if(!s)return;const{animation:l}=s;l.currentTime=Ni(n)}get speed(){const{resolved:n}=this;if(!n)return 1;const{animation:s}=n;return s.playbackRate}set speed(n){const{resolved:s}=this;if(!s)return;const{animation:l}=s;l.playbackRate=n}get state(){const{resolved:n}=this;if(!n)return"idle";const{animation:s}=n;return s.playState}get startTime(){const{resolved:n}=this;if(!n)return null;const{animation:s}=n;return s.startTime}attachTimeline(n){if(!this._resolved)this.pendingTimeline=n;else{const{resolved:s}=this;if(!s)return ln;const{animation:l}=s;Kp(l,n)}return ln}play(){if(this.isStopped)return;const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:n}=this;if(!n)return;const{animation:s,keyframes:l,duration:d,type:f,ease:h,times:y}=n;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:_,onUpdate:x,onComplete:C,element:E,...N}=this.options,R=new Hh({...N,keyframes:l,duration:d,type:f,ease:h,times:y,isGenerator:!0}),T=Ni(this.time);_.setWithVelocity(R.sample(T-Lu).value,R.sample(T).value,Lu)}const{onStop:g}=this.options;g&&g(),this.cancel()}complete(){const{resolved:n}=this;n&&n.animation.finish()}cancel(){const{resolved:n}=this;n&&n.animation.cancel()}static supports(n){const{motionValue:s,name:l,repeatDelay:d,repeatType:f,damping:h,type:y}=n;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:g,transformTemplate:_}=s.owner.getProps();return Qw()&&l&&Yw.has(l)&&!g&&!_&&!d&&f!=="mirror"&&h!==0&&y!=="inertia"}}const ix={type:"spring",stiffness:500,damping:25,restSpeed:10},rx=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),sx={type:"keyframes",duration:.8},ox={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ax=(r,{keyframes:n})=>n.length>2?sx:us.has(r)?r.startsWith("scale")?rx(n[1]):ix:ox;function lx({when:r,delay:n,delayChildren:s,staggerChildren:l,staggerDirection:d,repeat:f,repeatType:h,repeatDelay:y,from:g,elapsed:_,...x}){return!!Object.keys(x).length}const Wh=(r,n,s,l={},d,f)=>h=>{const y=Mh(l,r)||{},g=y.delay||l.delay||0;let{elapsed:_=0}=l;_=_-Ni(g);let x={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:n.getVelocity(),...y,delay:-_,onUpdate:E=>{n.set(E),y.onUpdate&&y.onUpdate(E)},onComplete:()=>{h(),y.onComplete&&y.onComplete()},name:r,motionValue:n,element:f?void 0:d};lx(y)||(x={...x,...ax(r,x)}),x.duration&&(x.duration=Ni(x.duration)),x.repeatDelay&&(x.repeatDelay=Ni(x.repeatDelay)),x.from!==void 0&&(x.keyframes[0]=x.from);let C=!1;if((x.type===!1||x.duration===0&&!x.repeatDelay)&&(x.duration=0,x.delay===0&&(C=!0)),C&&!f&&n.get()!==void 0){const E=ju(x.keyframes,y);if(E!==void 0)return Qe.update(()=>{x.onUpdate(E),x.onComplete()}),new b0([])}return!f&&cm.supports(x)?new cm(x):new Hh(x)};function ux({protectedKeys:r,needsAnimating:n},s){const l=r.hasOwnProperty(s)&&n[s]!==!0;return n[s]=!1,l}function Hv(r,n,{delay:s=0,transitionOverride:l,type:d}={}){var f;let{transition:h=r.getDefaultTransition(),transitionEnd:y,...g}=n;l&&(h=l);const _=[],x=d&&r.animationState&&r.animationState.getState()[d];for(const C in g){const E=r.getValue(C,(f=r.latestValues[C])!==null&&f!==void 0?f:null),N=g[C];if(N===void 0||x&&ux(x,C))continue;const R={delay:s,...Mh(h||{},C)};let T=!1;if(window.MotionHandoffAnimation){const j=mv(r);if(j){const z=window.MotionHandoffAnimation(j,C,Qe);z!==null&&(R.startTime=z,T=!0)}}Fd(r,C),E.start(Wh(C,E,N,r.shouldReduceMotion&&fv.has(C)?{type:!1}:R,r,T));const b=E.animation;b&&_.push(b)}return y&&Promise.all(_).then(()=>{Qe.update(()=>{y&&jh(r,y)})}),_}function Kd(r,n,s={}){var l;const d=Du(r,n,s.type==="exit"?(l=r.presenceContext)===null||l===void 0?void 0:l.custom:void 0);let{transition:f=r.getDefaultTransition()||{}}=d||{};s.transitionOverride&&(f=s.transitionOverride);const h=d?()=>Promise.all(Hv(r,d,s)):()=>Promise.resolve(),y=r.variantChildren&&r.variantChildren.size?(_=0)=>{const{delayChildren:x=0,staggerChildren:C,staggerDirection:E}=f;return cx(r,n,x+_,C,E,s)}:()=>Promise.resolve(),{when:g}=f;if(g){const[_,x]=g==="beforeChildren"?[h,y]:[y,h];return _().then(()=>x())}else return Promise.all([h(),y(s.delay)])}function cx(r,n,s=0,l=0,d=1,f){const h=[],y=(r.variantChildren.size-1)*l,g=d===1?(_=0)=>_*l:(_=0)=>y-_*l;return Array.from(r.variantChildren).sort(dx).forEach((_,x)=>{_.notify("AnimationStart",n),h.push(Kd(_,n,{...f,delay:s+g(x)}).then(()=>_.notify("AnimationComplete",n)))}),Promise.all(h)}function dx(r,n){return r.sortNodePosition(n)}function Wv(r,n,s={}){r.notify("AnimationStart",n);let l;if(Array.isArray(n)){const d=n.map(f=>Kd(r,f,s));l=Promise.all(d)}else if(typeof n=="string")l=Kd(r,n,s);else{const d=typeof n=="function"?Du(r,n,s.custom):n;l=Promise.all(Hv(r,d,s))}return l.then(()=>{r.notify("AnimationComplete",n)})}const hx=yh.length;function Gv(r){if(!r)return;if(!r.isControllingVariants){const s=r.parent?Gv(r.parent)||{}:{};return r.props.initial!==void 0&&(s.initial=r.props.initial),s}const n={};for(let s=0;s<hx;s++){const l=yh[s],d=r.props[l];(La(d)||d===!1)&&(n[l]=d)}return n}const fx=[...vh].reverse(),px=vh.length;function mx(r){return n=>Promise.all(n.map(({animation:s,options:l})=>Wv(r,s,l)))}function gx(r){let n=mx(r),s=dm(),l=!0;const d=g=>(_,x)=>{var C;const E=Du(r,x,g==="exit"?(C=r.presenceContext)===null||C===void 0?void 0:C.custom:void 0);if(E){const{transition:N,transitionEnd:R,...T}=E;_={..._,...T,...R}}return _};function f(g){n=g(r)}function h(g){const{props:_}=r,x=Gv(r.parent)||{},C=[],E=new Set;let N={},R=1/0;for(let b=0;b<px;b++){const j=fx[b],z=s[j],U=_[j]!==void 0?_[j]:x[j],G=La(U),q=j===g?z.isActive:null;q===!1&&(R=b);let B=U===x[j]&&U!==_[j]&&G;if(B&&l&&r.manuallyAnimateOnMount&&(B=!1),z.protectedKeys={...N},!z.isActive&&q===null||!U&&!z.prevProp||Iu(U)||typeof U=="boolean")continue;const ie=vx(z.prevProp,U);let re=ie||j===g&&z.isActive&&!B&&G||b>R&&G,Ce=!1;const Ae=Array.isArray(U)?U:[U];let le=Ae.reduce(d(j),{});q===!1&&(le={});const{prevResolvedValues:Ve={}}=z,ze={...Ve,...le},be=ke=>{re=!0,E.has(ke)&&(Ce=!0,E.delete(ke)),z.needsAnimating[ke]=!0;const K=r.getValue(ke);K&&(K.liveStyle=!1)};for(const ke in ze){const K=le[ke],ve=Ve[ke];if(N.hasOwnProperty(ke))continue;let Y=!1;zd(K)&&zd(ve)?Y=!sv(K,ve):Y=K!==ve,Y?K!=null?be(ke):E.add(ke):K!==void 0&&E.has(ke)?be(ke):z.protectedKeys[ke]=!0}z.prevProp=U,z.prevResolvedValues=le,z.isActive&&(N={...N,...le}),l&&r.blockInitialAnimation&&(re=!1),re&&(!(B&&ie)||Ce)&&C.push(...Ae.map(ke=>({animation:ke,options:{type:j}})))}if(E.size){const b={};E.forEach(j=>{const z=r.getBaseTarget(j),U=r.getValue(j);U&&(U.liveStyle=!0),b[j]=z??null}),C.push({animation:b})}let T=!!C.length;return l&&(_.initial===!1||_.initial===_.animate)&&!r.manuallyAnimateOnMount&&(T=!1),l=!1,T?n(C):Promise.resolve()}function y(g,_){var x;if(s[g].isActive===_)return Promise.resolve();(x=r.variantChildren)===null||x===void 0||x.forEach(E=>{var N;return(N=E.animationState)===null||N===void 0?void 0:N.setActive(g,_)}),s[g].isActive=_;const C=h(g);for(const E in s)s[E].protectedKeys={};return C}return{animateChanges:h,setActive:y,setAnimateFunction:f,getState:()=>s,reset:()=>{s=dm(),l=!0}}}function vx(r,n){return typeof n=="string"?n!==r:Array.isArray(n)?!sv(n,r):!1}function is(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dm(){return{animate:is(!0),whileInView:is(),whileHover:is(),whileTap:is(),whileDrag:is(),whileFocus:is(),exit:is()}}class Er{constructor(n){this.isMounted=!1,this.node=n}update(){}}class yx extends Er{constructor(n){super(n),n.animationState||(n.animationState=gx(n))}updateAnimationControlsSubscription(){const{animate:n}=this.node.getProps();Iu(n)&&(this.unmountControls=n.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:n}=this.node.getProps(),{animate:s}=this.node.prevProps||{};n!==s&&this.updateAnimationControlsSubscription()}unmount(){var n;this.node.animationState.reset(),(n=this.unmountControls)===null||n===void 0||n.call(this)}}let _x=0;class wx extends Er{constructor(){super(...arguments),this.id=_x++}update(){if(!this.node.presenceContext)return;const{isPresent:n,onExitComplete:s}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||n===l)return;const d=this.node.animationState.setActive("exit",!n);s&&!n&&d.then(()=>s(this.id))}mount(){const{register:n}=this.node.presenceContext||{};n&&(this.unmount=n(this.id))}unmount(){}}const xx={animation:{Feature:yx},exit:{Feature:wx}};function Aa(r,n,s,l={passive:!0}){return r.addEventListener(n,s,l),()=>r.removeEventListener(n,s)}function Ba(r){return{point:{x:r.pageX,y:r.pageY}}}const Sx=r=>n=>Ah(n)&&r(n,Ba(n));function ka(r,n,s,l){return Aa(r,n,Sx(s),l)}const hm=(r,n)=>Math.abs(r-n);function Cx(r,n){const s=hm(r.x,n.x),l=hm(r.y,n.y);return Math.sqrt(s**2+l**2)}class Kv{constructor(n,s,{transformPagePoint:l,contextWindow:d,dragSnapToOrigin:f=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=xd(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,N=Cx(C.offset,{x:0,y:0})>=3;if(!E&&!N)return;const{point:R}=C,{timestamp:T}=Pt;this.history.push({...R,timestamp:T});const{onStart:b,onMove:j}=this.handlers;E||(b&&b(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,C)},this.handlePointerMove=(C,E)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=wd(E,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(C,E)=>{this.end();const{onEnd:N,onSessionEnd:R,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=xd(C.type==="pointercancel"?this.lastMoveEventInfo:wd(E,this.transformPagePoint),this.history);this.startEvent&&N&&N(C,b),R&&R(C,b)},!Ah(n))return;this.dragSnapToOrigin=f,this.handlers=s,this.transformPagePoint=l,this.contextWindow=d||window;const h=Ba(n),y=wd(h,this.transformPagePoint),{point:g}=y,{timestamp:_}=Pt;this.history=[{...g,timestamp:_}];const{onSessionStart:x}=s;x&&x(n,xd(y,this.history)),this.removeListeners=za(ka(this.contextWindow,"pointermove",this.handlePointerMove),ka(this.contextWindow,"pointerup",this.handlePointerUp),ka(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(n){this.handlers=n}end(){this.removeListeners&&this.removeListeners(),Cr(this.updatePoint)}}function wd(r,n){return n?{point:n(r.point)}:r}function fm(r,n){return{x:r.x-n.x,y:r.y-n.y}}function xd({point:r},n){return{point:r,delta:fm(r,qv(n)),offset:fm(r,Px(n)),velocity:Ex(n,.1)}}function Px(r){return r[0]}function qv(r){return r[r.length-1]}function Ex(r,n){if(r.length<2)return{x:0,y:0};let s=r.length-1,l=null;const d=qv(r);for(;s>=0&&(l=r[s],!(d.timestamp-l.timestamp>Ni(n)));)s--;if(!l)return{x:0,y:0};const f=Ri(d.timestamp-l.timestamp);if(f===0)return{x:0,y:0};const h={x:(d.x-l.x)/f,y:(d.y-l.y)/f};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}const Yv=1e-4,kx=1-Yv,Tx=1+Yv,Xv=.01,bx=0-Xv,Lx=0+Xv;function un(r){return r.max-r.min}function Mx(r,n,s){return Math.abs(r-n)<=s}function pm(r,n,s,l=.5){r.origin=l,r.originPoint=rt(n.min,n.max,r.origin),r.scale=un(s)/un(n),r.translate=rt(s.min,s.max,r.origin)-r.originPoint,(r.scale>=kx&&r.scale<=Tx||isNaN(r.scale))&&(r.scale=1),(r.translate>=bx&&r.translate<=Lx||isNaN(r.translate))&&(r.translate=0)}function Ta(r,n,s,l){pm(r.x,n.x,s.x,l?l.originX:void 0),pm(r.y,n.y,s.y,l?l.originY:void 0)}function mm(r,n,s){r.min=s.min+n.min,r.max=r.min+un(n)}function Nx(r,n,s){mm(r.x,n.x,s.x),mm(r.y,n.y,s.y)}function gm(r,n,s){r.min=n.min-s.min,r.max=r.min+un(n)}function ba(r,n,s){gm(r.x,n.x,s.x),gm(r.y,n.y,s.y)}function Rx(r,{min:n,max:s},l){return n!==void 0&&r<n?r=l?rt(n,r,l.min):Math.max(r,n):s!==void 0&&r>s&&(r=l?rt(s,r,l.max):Math.min(r,s)),r}function vm(r,n,s){return{min:n!==void 0?r.min+n:void 0,max:s!==void 0?r.max+s-(r.max-r.min):void 0}}function Ax(r,{top:n,left:s,bottom:l,right:d}){return{x:vm(r.x,s,d),y:vm(r.y,n,l)}}function ym(r,n){let s=n.min-r.min,l=n.max-r.max;return n.max-n.min<r.max-r.min&&([s,l]=[l,s]),{min:s,max:l}}function Ix(r,n){return{x:ym(r.x,n.x),y:ym(r.y,n.y)}}function Ox(r,n){let s=.5;const l=un(r),d=un(n);return d>l?s=lo(n.min,n.max-l,r.min):l>d&&(s=lo(r.min,r.max-d,n.min)),Ai(0,1,s)}function Dx(r,n){const s={};return n.min!==void 0&&(s.min=n.min-r.min),n.max!==void 0&&(s.max=n.max-r.min),s}const qd=.35;function jx(r=qd){return r===!1?r=0:r===!0&&(r=qd),{x:_m(r,"left","right"),y:_m(r,"top","bottom")}}function _m(r,n,s){return{min:wm(r,n),max:wm(r,s)}}function wm(r,n){return typeof r=="number"?r:r[n]||0}const xm=()=>({translate:0,scale:1,origin:0,originPoint:0}),so=()=>({x:xm(),y:xm()}),Sm=()=>({min:0,max:0}),ut=()=>({x:Sm(),y:Sm()});function Pn(r){return[r("x"),r("y")]}function Qv({top:r,left:n,right:s,bottom:l}){return{x:{min:n,max:s},y:{min:r,max:l}}}function zx({x:r,y:n}){return{top:n.min,right:r.max,bottom:n.max,left:r.min}}function Bx(r,n){if(!n)return r;const s=n({x:r.left,y:r.top}),l=n({x:r.right,y:r.bottom});return{top:s.y,left:s.x,bottom:l.y,right:l.x}}function Sd(r){return r===void 0||r===1}function Yd({scale:r,scaleX:n,scaleY:s}){return!Sd(r)||!Sd(n)||!Sd(s)}function rs(r){return Yd(r)||Jv(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function Jv(r){return Cm(r.x)||Cm(r.y)}function Cm(r){return r&&r!=="0%"}function Mu(r,n,s){const l=r-s,d=n*l;return s+d}function Pm(r,n,s,l,d){return d!==void 0&&(r=Mu(r,d,l)),Mu(r,s,l)+n}function Xd(r,n=0,s=1,l,d){r.min=Pm(r.min,n,s,l,d),r.max=Pm(r.max,n,s,l,d)}function ey(r,{x:n,y:s}){Xd(r.x,n.translate,n.scale,n.originPoint),Xd(r.y,s.translate,s.scale,s.originPoint)}const Em=.999999999999,km=1.0000000000001;function Vx(r,n,s,l=!1){const d=s.length;if(!d)return;n.x=n.y=1;let f,h;for(let y=0;y<d;y++){f=s[y],h=f.projectionDelta;const{visualElement:g}=f.options;g&&g.props.style&&g.props.style.display==="contents"||(l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ao(r,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),h&&(n.x*=h.x.scale,n.y*=h.y.scale,ey(r,h)),l&&rs(f.latestValues)&&ao(r,f.latestValues))}n.x<km&&n.x>Em&&(n.x=1),n.y<km&&n.y>Em&&(n.y=1)}function oo(r,n){r.min=r.min+n,r.max=r.max+n}function Tm(r,n,s,l,d=.5){const f=rt(r.min,r.max,d);Xd(r,n,s,f,l)}function ao(r,n){Tm(r.x,n.x,n.scaleX,n.scale,n.originX),Tm(r.y,n.y,n.scaleY,n.scale,n.originY)}function ty(r,n){return Qv(Bx(r.getBoundingClientRect(),n))}function Fx(r,n,s){const l=ty(r,s),{scroll:d}=n;return d&&(oo(l.x,d.offset.x),oo(l.y,d.offset.y)),l}const ny=({current:r})=>r?r.ownerDocument.defaultView:null,Ux=new WeakMap;class $x{constructor(n){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.visualElement=n}start(n,{snapToCursor:s=!1}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const d=x=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Ba(x).point)},f=(x,C)=>{const{drag:E,dragPropagation:N,onDragStart:R}=this.getProps();if(E&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=j0(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pn(b=>{let j=this.getAxisMotionValue(b).get()||0;if(ii.test(j)){const{projection:z}=this.visualElement;if(z&&z.layout){const U=z.layout.layoutBox[b];U&&(j=un(U)*(parseFloat(j)/100))}}this.originPoint[b]=j}),R&&Qe.postRender(()=>R(x,C)),Fd(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},h=(x,C)=>{const{dragPropagation:E,dragDirectionLock:N,onDirectionLock:R,onDrag:T}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:b}=C;if(N&&this.currentDirection===null){this.currentDirection=Zx(b),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",C.point,b),this.updateAxis("y",C.point,b),this.visualElement.render(),T&&T(x,C)},y=(x,C)=>this.stop(x,C),g=()=>Pn(x=>{var C;return this.getAnimationState(x)==="paused"&&((C=this.getAxisMotionValue(x).animation)===null||C===void 0?void 0:C.play())}),{dragSnapToOrigin:_}=this.getProps();this.panSession=new Kv(n,{onSessionStart:d,onStart:f,onMove:h,onSessionEnd:y,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,contextWindow:ny(this.visualElement)})}stop(n,s){const l=this.isDragging;if(this.cancel(),!l)return;const{velocity:d}=s;this.startAnimation(d);const{onDragEnd:f}=this.getProps();f&&Qe.postRender(()=>f(n,s))}cancel(){this.isDragging=!1;const{projection:n,animationState:s}=this.visualElement;n&&(n.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:l}=this.getProps();!l&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(n,s,l){const{drag:d}=this.getProps();if(!l||!fu(n,d,this.currentDirection))return;const f=this.getAxisMotionValue(n);let h=this.originPoint[n]+l[n];this.constraints&&this.constraints[n]&&(h=Rx(h,this.constraints[n],this.elastic[n])),f.set(h)}resolveConstraints(){var n;const{dragConstraints:s,dragElastic:l}=this.getProps(),d=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(n=this.visualElement.projection)===null||n===void 0?void 0:n.layout,f=this.constraints;s&&io(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&d?this.constraints=Ax(d.layoutBox,s):this.constraints=!1,this.elastic=jx(l),f!==this.constraints&&d&&this.constraints&&!this.hasMutatedConstraints&&Pn(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=Dx(d.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:n,onMeasureDragConstraints:s}=this.getProps();if(!n||!io(n))return!1;const l=n.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const f=Fx(l,d.root,this.visualElement.getTransformPagePoint());let h=Ix(d.layout.layoutBox,f);if(s){const y=s(zx(h));this.hasMutatedConstraints=!!y,y&&(h=Qv(y))}return h}startAnimation(n){const{drag:s,dragMomentum:l,dragElastic:d,dragTransition:f,dragSnapToOrigin:h,onDragTransitionEnd:y}=this.getProps(),g=this.constraints||{},_=Pn(x=>{if(!fu(x,s,this.currentDirection))return;let C=g&&g[x]||{};h&&(C={min:0,max:0});const E=d?200:1e6,N=d?40:1e7,R={type:"inertia",velocity:l?n[x]:0,bounceStiffness:E,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...f,...C};return this.startAxisValueAnimation(x,R)});return Promise.all(_).then(y)}startAxisValueAnimation(n,s){const l=this.getAxisMotionValue(n);return Fd(this.visualElement,n),l.start(Wh(n,l,0,s,this.visualElement,!1))}stopAnimation(){Pn(n=>this.getAxisMotionValue(n).stop())}pauseAnimation(){Pn(n=>{var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(n){var s;return(s=this.getAxisMotionValue(n).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(n){const s=`_drag${n.toUpperCase()}`,l=this.visualElement.getProps(),d=l[s];return d||this.visualElement.getValue(n,(l.initial?l.initial[n]:void 0)||0)}snapToCursor(n){Pn(s=>{const{drag:l}=this.getProps();if(!fu(s,l,this.currentDirection))return;const{projection:d}=this.visualElement,f=this.getAxisMotionValue(s);if(d&&d.layout){const{min:h,max:y}=d.layout.layoutBox[s];f.set(n[s]-rt(h,y,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:n,dragConstraints:s}=this.getProps(),{projection:l}=this.visualElement;if(!io(s)||!l||!this.constraints)return;this.stopAnimation();const d={x:0,y:0};Pn(h=>{const y=this.getAxisMotionValue(h);if(y&&this.constraints!==!1){const g=y.get();d[h]=Ox({min:g,max:g},this.constraints[h])}});const{transformTemplate:f}=this.visualElement.getProps();this.visualElement.current.style.transform=f?f({},""):"none",l.root&&l.root.updateScroll(),l.updateLayout(),this.resolveConstraints(),Pn(h=>{if(!fu(h,n,null))return;const y=this.getAxisMotionValue(h),{min:g,max:_}=this.constraints[h];y.set(rt(g,_,d[h]))})}addListeners(){if(!this.visualElement.current)return;Ux.set(this.visualElement,this);const n=this.visualElement.current,s=ka(n,"pointerdown",g=>{const{drag:_,dragListener:x=!0}=this.getProps();_&&x&&this.start(g)}),l=()=>{const{dragConstraints:g}=this.getProps();io(g)&&g.current&&(this.constraints=this.resolveRefConstraints())},{projection:d}=this.visualElement,f=d.addEventListener("measure",l);d&&!d.layout&&(d.root&&d.root.updateScroll(),d.updateLayout()),Qe.read(l);const h=Aa(window,"resize",()=>this.scalePositionWithinConstraints()),y=d.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:_})=>{this.isDragging&&_&&(Pn(x=>{const C=this.getAxisMotionValue(x);C&&(this.originPoint[x]+=g[x].translate,C.set(C.get()+g[x].translate))}),this.visualElement.render())}));return()=>{h(),s(),f(),y&&y()}}getProps(){const n=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:l=!1,dragPropagation:d=!1,dragConstraints:f=!1,dragElastic:h=qd,dragMomentum:y=!0}=n;return{...n,drag:s,dragDirectionLock:l,dragPropagation:d,dragConstraints:f,dragElastic:h,dragMomentum:y}}}function fu(r,n,s){return(n===!0||n===r)&&(s===null||s===r)}function Zx(r,n=10){let s=null;return Math.abs(r.y)>n?s="y":Math.abs(r.x)>n&&(s="x"),s}class Hx extends Er{constructor(n){super(n),this.removeGroupControls=ln,this.removeListeners=ln,this.controls=new $x(n)}mount(){const{dragControls:n}=this.node.getProps();n&&(this.removeGroupControls=n.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const bm=r=>(n,s)=>{r&&Qe.postRender(()=>r(n,s))};class Wx extends Er{constructor(){super(...arguments),this.removePointerDownListener=ln}onPointerDown(n){this.session=new Kv(n,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ny(this.node)})}createPanHandlers(){const{onPanSessionStart:n,onPanStart:s,onPan:l,onPanEnd:d}=this.node.getProps();return{onSessionStart:bm(n),onStart:bm(s),onMove:l,onEnd:(f,h)=>{delete this.session,d&&Qe.postRender(()=>d(f,h))}}}mount(){this.removePointerDownListener=ka(this.node.current,"pointerdown",n=>this.onPointerDown(n))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lm(r,n){return n.max===n.min?0:r/(n.max-n.min)*100}const ga={correct:(r,n)=>{if(!n.target)return r;if(typeof r=="string")if(Pe.test(r))r=parseFloat(r);else return r;const s=Lm(r,n.target.x),l=Lm(r,n.target.y);return`${s}% ${l}%`}},Gx={correct:(r,{treeScale:n,projectionDelta:s})=>{const l=r,d=Pr.parse(r);if(d.length>5)return l;const f=Pr.createTransformer(r),h=typeof d[0]!="number"?1:0,y=s.x.scale*n.x,g=s.y.scale*n.y;d[0+h]/=y,d[1+h]/=g;const _=rt(y,g,.5);return typeof d[2+h]=="number"&&(d[2+h]/=_),typeof d[3+h]=="number"&&(d[3+h]/=_),f(d)}};class Kx extends F.Component{componentDidMount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:l,layoutId:d}=this.props,{projection:f}=n;g0(qx),f&&(s.group&&s.group.add(f),l&&l.register&&d&&l.register(f),f.root.didUpdate(),f.addEventListener("animationComplete",()=>{this.safeToRemove()}),f.setOptions({...f.options,onExitComplete:()=>this.safeToRemove()})),wu.hasEverUpdated=!0}getSnapshotBeforeUpdate(n){const{layoutDependency:s,visualElement:l,drag:d,isPresent:f}=this.props,h=l.projection;return h&&(h.isPresent=f,d||n.layoutDependency!==s||s===void 0?h.willUpdate():this.safeToRemove(),n.isPresent!==f&&(f?h.promote():h.relegate()||Qe.postRender(()=>{const y=h.getStack();(!y||!y.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:n}=this.props.visualElement;n&&(n.root.didUpdate(),wh.postRender(()=>{!n.currentAnimation&&n.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:n,layoutGroup:s,switchLayoutGroup:l}=this.props,{projection:d}=n;d&&(d.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(d),l&&l.deregister&&l.deregister(d))}safeToRemove(){const{safeToRemove:n}=this.props;n&&n()}render(){return null}}function iy(r){const[n,s]=Bg(),l=F.useContext(hh);return k.jsx(Kx,{...r,layoutGroup:l,switchLayoutGroup:F.useContext(Wg),isPresent:n,safeToRemove:s})}const qx={borderRadius:{...ga,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ga,borderTopRightRadius:ga,borderBottomLeftRadius:ga,borderBottomRightRadius:ga,boxShadow:Gx};function Yx(r,n,s){const l=It(r)?r:Na(r);return l.start(Wh("",l,n,s)),l.animation}function Xx(r){return r instanceof SVGElement&&r.tagName!=="svg"}const Qx=(r,n)=>r.depth-n.depth;class Jx{constructor(){this.children=[],this.isDirty=!1}add(n){Ih(this.children,n),this.isDirty=!0}remove(n){Oh(this.children,n),this.isDirty=!0}forEach(n){this.isDirty&&this.children.sort(Qx),this.isDirty=!1,this.children.forEach(n)}}function e1(r,n){const s=ri.now(),l=({timestamp:d})=>{const f=d-s;f>=n&&(Cr(l),r(f-n))};return Qe.read(l,!0),()=>Cr(l)}const ry=["TopLeft","TopRight","BottomLeft","BottomRight"],t1=ry.length,Mm=r=>typeof r=="string"?parseFloat(r):r,Nm=r=>typeof r=="number"||Pe.test(r);function n1(r,n,s,l,d,f){d?(r.opacity=rt(0,s.opacity!==void 0?s.opacity:1,i1(l)),r.opacityExit=rt(n.opacity!==void 0?n.opacity:1,0,r1(l))):f&&(r.opacity=rt(n.opacity!==void 0?n.opacity:1,s.opacity!==void 0?s.opacity:1,l));for(let h=0;h<t1;h++){const y=`border${ry[h]}Radius`;let g=Rm(n,y),_=Rm(s,y);if(g===void 0&&_===void 0)continue;g||(g=0),_||(_=0),g===0||_===0||Nm(g)===Nm(_)?(r[y]=Math.max(rt(Mm(g),Mm(_),l),0),(ii.test(_)||ii.test(g))&&(r[y]+="%")):r[y]=_}(n.rotate||s.rotate)&&(r.rotate=rt(n.rotate||0,s.rotate||0,l))}function Rm(r,n){return r[n]!==void 0?r[n]:r.borderRadius}const i1=sy(0,.5,Sv),r1=sy(.5,.95,ln);function sy(r,n,s){return l=>l<r?0:l>n?1:s(lo(r,n,l))}function Am(r,n){r.min=n.min,r.max=n.max}function Cn(r,n){Am(r.x,n.x),Am(r.y,n.y)}function Im(r,n){r.translate=n.translate,r.scale=n.scale,r.originPoint=n.originPoint,r.origin=n.origin}function Om(r,n,s,l,d){return r-=n,r=Mu(r,1/s,l),d!==void 0&&(r=Mu(r,1/d,l)),r}function s1(r,n=0,s=1,l=.5,d,f=r,h=r){if(ii.test(n)&&(n=parseFloat(n),n=rt(h.min,h.max,n/100)-h.min),typeof n!="number")return;let y=rt(f.min,f.max,l);r===f&&(y-=n),r.min=Om(r.min,n,s,y,d),r.max=Om(r.max,n,s,y,d)}function Dm(r,n,[s,l,d],f,h){s1(r,n[s],n[l],n[d],n.scale,f,h)}const o1=["x","scaleX","originX"],a1=["y","scaleY","originY"];function jm(r,n,s,l){Dm(r.x,n,o1,s?s.x:void 0,l?l.x:void 0),Dm(r.y,n,a1,s?s.y:void 0,l?l.y:void 0)}function zm(r){return r.translate===0&&r.scale===1}function oy(r){return zm(r.x)&&zm(r.y)}function Bm(r,n){return r.min===n.min&&r.max===n.max}function l1(r,n){return Bm(r.x,n.x)&&Bm(r.y,n.y)}function Vm(r,n){return Math.round(r.min)===Math.round(n.min)&&Math.round(r.max)===Math.round(n.max)}function ay(r,n){return Vm(r.x,n.x)&&Vm(r.y,n.y)}function Fm(r){return un(r.x)/un(r.y)}function Um(r,n){return r.translate===n.translate&&r.scale===n.scale&&r.originPoint===n.originPoint}class u1{constructor(){this.members=[]}add(n){Ih(this.members,n),n.scheduleRender()}remove(n){if(Oh(this.members,n),n===this.prevLead&&(this.prevLead=void 0),n===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(n){const s=this.members.findIndex(d=>n===d);if(s===0)return!1;let l;for(let d=s;d>=0;d--){const f=this.members[d];if(f.isPresent!==!1){l=f;break}}return l?(this.promote(l),!0):!1}promote(n,s){const l=this.lead;if(n!==l&&(this.prevLead=l,this.lead=n,n.show(),l)){l.instance&&l.scheduleRender(),n.scheduleRender(),n.resumeFrom=l,s&&(n.resumeFrom.preserveOpacity=!0),l.snapshot&&(n.snapshot=l.snapshot,n.snapshot.latestValues=l.animationValues||l.latestValues),n.root&&n.root.isUpdating&&(n.isLayoutDirty=!0);const{crossfade:d}=n.options;d===!1&&l.hide()}}exitAnimationComplete(){this.members.forEach(n=>{const{options:s,resumingFrom:l}=n;s.onExitComplete&&s.onExitComplete(),l&&l.options.onExitComplete&&l.options.onExitComplete()})}scheduleRender(){this.members.forEach(n=>{n.instance&&n.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function c1(r,n,s){let l="";const d=r.x.translate/n.x,f=r.y.translate/n.y,h=s?.z||0;if((d||f||h)&&(l=`translate3d(${d}px, ${f}px, ${h}px) `),(n.x!==1||n.y!==1)&&(l+=`scale(${1/n.x}, ${1/n.y}) `),s){const{transformPerspective:_,rotate:x,rotateX:C,rotateY:E,skewX:N,skewY:R}=s;_&&(l=`perspective(${_}px) ${l}`),x&&(l+=`rotate(${x}deg) `),C&&(l+=`rotateX(${C}deg) `),E&&(l+=`rotateY(${E}deg) `),N&&(l+=`skewX(${N}deg) `),R&&(l+=`skewY(${R}deg) `)}const y=r.x.scale*n.x,g=r.y.scale*n.y;return(y!==1||g!==1)&&(l+=`scale(${y}, ${g})`),l||"none"}const ss={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sa=typeof window<"u"&&window.MotionDebug!==void 0,Cd=["","X","Y","Z"],d1={visibility:"hidden"},$m=1e3;let h1=0;function Pd(r,n,s,l){const{latestValues:d}=n;d[r]&&(s[r]=d[r],n.setStaticValue(r,0),l&&(l[r]=0))}function ly(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:n}=r.options;if(!n)return;const s=mv(n);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:d,layoutId:f}=r.options;window.MotionCancelOptimisedAnimation(s,"transform",Qe,!(d||f))}const{parent:l}=r;l&&!l.hasCheckedOptimisedAppear&&ly(l)}function uy({attachResizeListener:r,defaultParent:n,measureScroll:s,checkIsScrollRoot:l,resetTransform:d}){return class{constructor(h={},y=n?.()){this.id=h1++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sa&&(ss.totalNodes=ss.resolvedTargetDeltas=ss.recalculatedProjection=0),this.nodes.forEach(m1),this.nodes.forEach(w1),this.nodes.forEach(x1),this.nodes.forEach(g1),Sa&&window.MotionDebug.record(ss)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=y?y.root||y:this,this.path=y?[...y.path,y]:[],this.parent=y,this.depth=y?y.depth+1:0;for(let g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new Jx)}addEventListener(h,y){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new Dh),this.eventHandlers.get(h).add(y)}notifyListeners(h,...y){const g=this.eventHandlers.get(h);g&&g.notify(...y)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,y=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Xx(h),this.instance=h;const{layoutId:g,layout:_,visualElement:x}=this.options;if(x&&!x.current&&x.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),y&&(_||g)&&(this.isLayoutDirty=!0),r){let C;const E=()=>this.root.updateBlockedByResize=!1;r(h,()=>{this.root.updateBlockedByResize=!0,C&&C(),C=e1(E,250),wu.hasAnimatedSinceResize&&(wu.hasAnimatedSinceResize=!1,this.nodes.forEach(Hm))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&x&&(g||_)&&this.addEventListener("didUpdate",({delta:C,hasLayoutChanged:E,hasRelativeTargetChanged:N,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||x.getDefaultTransition()||k1,{onLayoutAnimationStart:b,onLayoutAnimationComplete:j}=x.getProps(),z=!this.targetLayout||!ay(this.targetLayout,R)||N,U=!E&&N;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||U||E&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(C,U);const G={...Mh(T,"layout"),onPlay:b,onComplete:j};(x.shouldReduceMotion||this.options.layoutRoot)&&(G.delay=0,G.type=!1),this.startAnimation(G)}else E||Hm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(S1),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ly(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const C=this.path[x];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:y,layout:g}=this.options;if(y===void 0&&!g)return;const _=this.getTransformTemplate();this.prevTransformTemplateValue=_?_(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zm);return}this.isUpdating||this.nodes.forEach(y1),this.isUpdating=!1,this.nodes.forEach(_1),this.nodes.forEach(f1),this.nodes.forEach(p1),this.clearAllSnapshots();const y=ri.now();Pt.delta=Ai(0,1e3/60,y-Pt.timestamp),Pt.timestamp=y,Pt.isProcessing=!0,pd.update.process(Pt),pd.preRender.process(Pt),pd.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v1),this.sharedNodes.forEach(C1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let g=0;g<this.path.length;g++)this.path[g].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:y}=this.options;y&&y.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let y=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(y=!1),y){const g=l(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:g,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:g}}}resetTransform(){if(!d)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,y=this.projectionDelta&&!oy(this.projectionDelta),g=this.getTransformTemplate(),_=g?g(this.latestValues,""):void 0,x=_!==this.prevTransformTemplateValue;h&&(y||rs(this.latestValues)||x)&&(d(this.instance,_),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const y=this.measurePageBox();let g=this.removeElementScroll(y);return h&&(g=this.removeTransform(g)),T1(g),{animationId:this.root.animationId,measuredBox:y,layoutBox:g,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:y}=this.options;if(!y)return ut();const g=y.measureViewportBox();if(!(((h=this.scroll)===null||h===void 0?void 0:h.wasRoot)||this.path.some(b1))){const{scroll:x}=this.root;x&&(oo(g.x,x.offset.x),oo(g.y,x.offset.y))}return g}removeElementScroll(h){var y;const g=ut();if(Cn(g,h),!((y=this.scroll)===null||y===void 0)&&y.wasRoot)return g;for(let _=0;_<this.path.length;_++){const x=this.path[_],{scroll:C,options:E}=x;x!==this.root&&C&&E.layoutScroll&&(C.wasRoot&&Cn(g,h),oo(g.x,C.offset.x),oo(g.y,C.offset.y))}return g}applyTransform(h,y=!1){const g=ut();Cn(g,h);for(let _=0;_<this.path.length;_++){const x=this.path[_];!y&&x.options.layoutScroll&&x.scroll&&x!==x.root&&ao(g,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),rs(x.latestValues)&&ao(g,x.latestValues)}return rs(this.latestValues)&&ao(g,this.latestValues),g}removeTransform(h){const y=ut();Cn(y,h);for(let g=0;g<this.path.length;g++){const _=this.path[g];if(!_.instance||!rs(_.latestValues))continue;Yd(_.latestValues)&&_.updateSnapshot();const x=ut(),C=_.measurePageBox();Cn(x,C),jm(y,_.latestValues,_.snapshot?_.snapshot.layoutBox:void 0,x)}return rs(this.latestValues)&&jm(y,this.latestValues),y}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var y;const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const _=!!this.resumingFrom||this!==g;if(!(h||_&&this.isSharedProjectionDirty||this.isProjectionDirty||!((y=this.parent)===null||y===void 0)&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:C,layoutId:E}=this.options;if(!(!this.layout||!(C||E))){if(this.resolvedRelativeTargetAt=Pt.timestamp,!this.targetDelta&&!this.relativeTarget){const N=this.getClosestProjectingParent();N&&N.layout&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),ba(this.relativeTargetOrigin,this.layout.layoutBox,N.layout.layoutBox),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cn(this.target,this.layout.layoutBox),ey(this.target,this.targetDelta)):Cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const N=this.getClosestProjectingParent();N&&!!N.resumingFrom==!!this.resumingFrom&&!N.options.layoutScroll&&N.target&&this.animationProgress!==1?(this.relativeParent=N,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),ba(this.relativeTargetOrigin,this.target,N.target),Cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sa&&ss.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Yd(this.parent.latestValues)||Jv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const y=this.getLead(),g=!!this.resumingFrom||this!==y;let _=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(_=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(_=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(_=!1),_)return;const{layout:x,layoutId:C}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||C))return;Cn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,N=this.treeScale.y;Vx(this.layoutCorrected,this.treeScale,this.path,g),y.layout&&!y.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(y.target=y.layout.layoutBox,y.targetWithTransforms=ut());const{target:R}=y;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Im(this.prevProjectionDelta.x,this.projectionDelta.x),Im(this.prevProjectionDelta.y,this.projectionDelta.y)),Ta(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==N||!Um(this.projectionDelta.x,this.prevProjectionDelta.x)||!Um(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),Sa&&ss.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var y;if((y=this.options.visualElement)===null||y===void 0||y.scheduleRender(),h){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=so(),this.projectionDelta=so(),this.projectionDeltaWithTransform=so()}setAnimationOrigin(h,y=!1){const g=this.snapshot,_=g?g.latestValues:{},x={...this.latestValues},C=so();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!y;const E=ut(),N=g?g.source:void 0,R=this.layout?this.layout.source:void 0,T=N!==R,b=this.getStack(),j=!b||b.members.length<=1,z=!!(T&&!j&&this.options.crossfade===!0&&!this.path.some(E1));this.animationProgress=0;let U;this.mixTargetDelta=G=>{const q=G/1e3;Wm(C.x,h.x,q),Wm(C.y,h.y,q),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ba(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),P1(this.relativeTarget,this.relativeTargetOrigin,E,q),U&&l1(this.relativeTarget,U)&&(this.isProjectionDirty=!1),U||(U=ut()),Cn(U,this.relativeTarget)),T&&(this.animationValues=x,n1(x,_,this.latestValues,q,z,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{wu.hasAnimatedSinceResize=!0,this.currentAnimation=Yx(0,$m,{...h,onUpdate:y=>{this.mixTargetDelta(y),h.onUpdate&&h.onUpdate(y)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($m),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:y,target:g,layout:_,latestValues:x}=h;if(!(!y||!g||!_)){if(this!==h&&this.layout&&_&&cy(this.options.animationType,this.layout.layoutBox,_.layoutBox)){g=this.target||ut();const C=un(this.layout.layoutBox.x);g.x.min=h.target.x.min,g.x.max=g.x.min+C;const E=un(this.layout.layoutBox.y);g.y.min=h.target.y.min,g.y.max=g.y.min+E}Cn(y,g),ao(y,x),Ta(this.projectionDeltaWithTransform,this.layoutCorrected,y,x)}}registerSharedNode(h,y){this.sharedNodes.has(h)||this.sharedNodes.set(h,new u1),this.sharedNodes.get(h).add(y);const _=y.options.initialPromotionConfig;y.promote({transition:_?_.transition:void 0,preserveFollowOpacity:_&&_.shouldPreserveFollowOpacity?_.shouldPreserveFollowOpacity(y):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:y}=this.options;return y?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:y}=this.options;return y?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:y,preserveFollowOpacity:g}={}){const _=this.getStack();_&&_.promote(this,g),h&&(this.projectionDelta=void 0,this.needsReset=!0),y&&this.setOptions({transition:y})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let y=!1;const{latestValues:g}=h;if((g.z||g.rotate||g.rotateX||g.rotateY||g.rotateZ||g.skewX||g.skewY)&&(y=!0),!y)return;const _={};g.z&&Pd("z",h,_,this.animationValues);for(let x=0;x<Cd.length;x++)Pd(`rotate${Cd[x]}`,h,_,this.animationValues),Pd(`skew${Cd[x]}`,h,_,this.animationValues);h.render();for(const x in _)h.setStaticValue(x,_[x]),this.animationValues&&(this.animationValues[x]=_[x]);h.scheduleRender()}getProjectionStyles(h){var y,g;if(!this.instance||this.isSVG)return;if(!this.isVisible)return d1;const _={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,_.opacity="",_.pointerEvents=yu(h?.pointerEvents)||"",_.transform=x?x(this.latestValues,""):"none",_;const C=this.getLead();if(!this.projectionDelta||!this.layout||!C.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=yu(h?.pointerEvents)||""),this.hasProjected&&!rs(this.latestValues)&&(T.transform=x?x({},""):"none",this.hasProjected=!1),T}const E=C.animationValues||C.latestValues;this.applyTransformsToTarget(),_.transform=c1(this.projectionDeltaWithTransform,this.treeScale,E),x&&(_.transform=x(E,_.transform));const{x:N,y:R}=this.projectionDelta;_.transformOrigin=`${N.origin*100}% ${R.origin*100}% 0`,C.animationValues?_.opacity=C===this?(g=(y=E.opacity)!==null&&y!==void 0?y:this.latestValues.opacity)!==null&&g!==void 0?g:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:_.opacity=C===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const T in Eu){if(E[T]===void 0)continue;const{correct:b,applyTo:j}=Eu[T],z=_.transform==="none"?E[T]:b(E[T],C);if(j){const U=j.length;for(let G=0;G<U;G++)_[j[G]]=z}else _[T]=z}return this.options.layoutId&&(_.pointerEvents=C===this?yu(h?.pointerEvents)||"":"none"),_}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var y;return(y=h.currentAnimation)===null||y===void 0?void 0:y.stop()}),this.root.nodes.forEach(Zm),this.root.sharedNodes.clear()}}}function f1(r){r.updateLayout()}function p1(r){var n;const s=((n=r.resumeFrom)===null||n===void 0?void 0:n.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&s&&r.hasListeners("didUpdate")){const{layoutBox:l,measuredBox:d}=r.layout,{animationType:f}=r.options,h=s.source!==r.layout.source;f==="size"?Pn(C=>{const E=h?s.measuredBox[C]:s.layoutBox[C],N=un(E);E.min=l[C].min,E.max=E.min+N}):cy(f,s.layoutBox,l)&&Pn(C=>{const E=h?s.measuredBox[C]:s.layoutBox[C],N=un(l[C]);E.max=E.min+N,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[C].max=r.relativeTarget[C].min+N)});const y=so();Ta(y,l,s.layoutBox);const g=so();h?Ta(g,r.applyTransform(d,!0),s.measuredBox):Ta(g,l,s.layoutBox);const _=!oy(y);let x=!1;if(!r.resumeFrom){const C=r.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:E,layout:N}=C;if(E&&N){const R=ut();ba(R,s.layoutBox,E.layoutBox);const T=ut();ba(T,l,N.layoutBox),ay(R,T)||(x=!0),C.options.layoutRoot&&(r.relativeTarget=T,r.relativeTargetOrigin=R,r.relativeParent=C)}}}r.notifyListeners("didUpdate",{layout:l,snapshot:s,delta:g,layoutDelta:y,hasLayoutChanged:_,hasRelativeTargetChanged:x})}else if(r.isLead()){const{onExitComplete:l}=r.options;l&&l()}r.options.transition=void 0}function m1(r){Sa&&ss.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function g1(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function v1(r){r.clearSnapshot()}function Zm(r){r.clearMeasurements()}function y1(r){r.isLayoutDirty=!1}function _1(r){const{visualElement:n}=r.options;n&&n.getProps().onBeforeLayoutMeasure&&n.notify("BeforeLayoutMeasure"),r.resetTransform()}function Hm(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function w1(r){r.resolveTargetDelta()}function x1(r){r.calcProjection()}function S1(r){r.resetSkewAndRotation()}function C1(r){r.removeLeadSnapshot()}function Wm(r,n,s){r.translate=rt(n.translate,0,s),r.scale=rt(n.scale,1,s),r.origin=n.origin,r.originPoint=n.originPoint}function Gm(r,n,s,l){r.min=rt(n.min,s.min,l),r.max=rt(n.max,s.max,l)}function P1(r,n,s,l){Gm(r.x,n.x,s.x,l),Gm(r.y,n.y,s.y,l)}function E1(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const k1={duration:.45,ease:[.4,0,.1,1]},Km=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),qm=Km("applewebkit/")&&!Km("chrome/")?Math.round:ln;function Ym(r){r.min=qm(r.min),r.max=qm(r.max)}function T1(r){Ym(r.x),Ym(r.y)}function cy(r,n,s){return r==="position"||r==="preserve-aspect"&&!Mx(Fm(n),Fm(s),.2)}function b1(r){var n;return r!==r.root&&((n=r.scroll)===null||n===void 0?void 0:n.wasRoot)}const L1=uy({attachResizeListener:(r,n)=>Aa(r,"resize",n),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ed={current:void 0},dy=uy({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Ed.current){const r=new L1({});r.mount(window),r.setOptions({layoutScroll:!0}),Ed.current=r}return Ed.current},resetTransform:(r,n)=>{r.style.transform=n!==void 0?n:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),M1={pan:{Feature:Wx},drag:{Feature:Hx,ProjectionNode:dy,MeasureLayout:iy}};function Xm(r,n,s){const{props:l}=r;r.animationState&&l.whileHover&&r.animationState.setActive("whileHover",s==="Start");const d="onHover"+s,f=l[d];f&&Qe.postRender(()=>f(n,Ba(n)))}class N1 extends Er{mount(){const{current:n}=this.node;n&&(this.unmount=R0(n,s=>(Xm(this.node,s,"Start"),l=>Xm(this.node,l,"End"))))}unmount(){}}class R1 extends Er{constructor(){super(...arguments),this.isActive=!1}onFocus(){let n=!1;try{n=this.node.current.matches(":focus-visible")}catch{n=!0}!n||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=za(Aa(this.node.current,"focus",()=>this.onFocus()),Aa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qm(r,n,s){const{props:l}=r;r.animationState&&l.whileTap&&r.animationState.setActive("whileTap",s==="Start");const d="onTap"+(s==="End"?"":s),f=l[d];f&&Qe.postRender(()=>f(n,Ba(n)))}class A1 extends Er{mount(){const{current:n}=this.node;n&&(this.unmount=D0(n,s=>(Qm(this.node,s,"Start"),(l,{success:d})=>Qm(this.node,l,d?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qd=new WeakMap,kd=new WeakMap,I1=r=>{const n=Qd.get(r.target);n&&n(r)},O1=r=>{r.forEach(I1)};function D1({root:r,...n}){const s=r||document;kd.has(s)||kd.set(s,{});const l=kd.get(s),d=JSON.stringify(n);return l[d]||(l[d]=new IntersectionObserver(O1,{root:r,...n})),l[d]}function j1(r,n,s){const l=D1(n);return Qd.set(r,s),l.observe(r),()=>{Qd.delete(r),l.unobserve(r)}}const z1={some:0,all:1};class B1 extends Er{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:n={}}=this.node.getProps(),{root:s,margin:l,amount:d="some",once:f}=n,h={root:s?s.current:void 0,rootMargin:l,threshold:typeof d=="number"?d:z1[d]},y=g=>{const{isIntersecting:_}=g;if(this.isInView===_||(this.isInView=_,f&&!_&&this.hasEnteredView))return;_&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",_);const{onViewportEnter:x,onViewportLeave:C}=this.node.getProps(),E=_?x:C;E&&E(g)};return j1(this.node.current,h,y)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:n,prevProps:s}=this.node;["amount","margin","root"].some(V1(n,s))&&this.startObserver()}unmount(){}}function V1({viewport:r={}},{viewport:n={}}={}){return s=>r[s]!==n[s]}const F1={inView:{Feature:B1},tap:{Feature:A1},focus:{Feature:R1},hover:{Feature:N1}},U1={layout:{ProjectionNode:dy,MeasureLayout:iy}},Jd={current:null},hy={current:!1};function $1(){if(hy.current=!0,!!ph)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),n=()=>Jd.current=r.matches;r.addListener(n),n()}else Jd.current=!1}const Z1=[...Dv,At,Pr],H1=r=>Z1.find(Ov(r)),Jm=new WeakMap;function W1(r,n,s){for(const l in n){const d=n[l],f=s[l];if(It(d))r.addValue(l,d);else if(It(f))r.addValue(l,Na(d,{owner:r}));else if(f!==d)if(r.hasValue(l)){const h=r.getValue(l);h.liveStyle===!0?h.jump(d):h.hasAnimated||h.set(d)}else{const h=r.getStaticValue(l);r.addValue(l,Na(h!==void 0?h:d,{owner:r}))}}for(const l in s)n[l]===void 0&&r.removeValue(l);return n}const eg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class G1{scrapeMotionValuesFromProps(n,s,l){return{}}constructor({parent:n,props:s,presenceContext:l,reducedMotionConfig:d,blockInitialAnimation:f,visualState:h},y={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$h,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const N=ri.now();this.renderScheduledAt<N&&(this.renderScheduledAt=N,Qe.render(this.render,!1,!0))};const{latestValues:g,renderState:_,onUpdate:x}=h;this.onUpdate=x,this.latestValues=g,this.baseTarget={...g},this.initialValues=s.initial?{...g}:{},this.renderState=_,this.parent=n,this.props=s,this.presenceContext=l,this.depth=n?n.depth+1:0,this.reducedMotionConfig=d,this.options=y,this.blockInitialAnimation=!!f,this.isControllingVariants=Ou(s),this.isVariantNode=Zg(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(n&&n.current);const{willChange:C,...E}=this.scrapeMotionValuesFromProps(s,{},this);for(const N in E){const R=E[N];g[N]!==void 0&&It(R)&&R.set(g[N],!1)}}mount(n){this.current=n,Jm.set(n,this),this.projection&&!this.projection.instance&&this.projection.mount(n),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,l)=>this.bindToMotionValue(l,s)),hy.current||$1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Jm.delete(this.current),this.projection&&this.projection.unmount(),Cr(this.notifyUpdate),Cr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(n,s){this.valueSubscriptions.has(n)&&this.valueSubscriptions.get(n)();const l=us.has(n),d=s.on("change",y=>{this.latestValues[n]=y,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),l&&this.projection&&(this.projection.isTransformDirty=!0)}),f=s.on("renderRequest",this.scheduleRender);let h;window.MotionCheckAppearSync&&(h=window.MotionCheckAppearSync(this,n,s)),this.valueSubscriptions.set(n,()=>{d(),f(),h&&h(),s.owner&&s.stop()})}sortNodePosition(n){return!this.current||!this.sortInstanceNodePosition||this.type!==n.type?0:this.sortInstanceNodePosition(this.current,n.current)}updateFeatures(){let n="animation";for(n in uo){const s=uo[n];if(!s)continue;const{isEnabled:l,Feature:d}=s;if(!this.features[n]&&d&&l(this.props)&&(this.features[n]=new d(this)),this.features[n]){const f=this.features[n];f.isMounted?f.update():(f.mount(),f.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(n){return this.latestValues[n]}setStaticValue(n,s){this.latestValues[n]=s}update(n,s){(n.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=n,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let l=0;l<eg.length;l++){const d=eg[l];this.propEventSubscriptions[d]&&(this.propEventSubscriptions[d](),delete this.propEventSubscriptions[d]);const f="on"+d,h=n[f];h&&(this.propEventSubscriptions[d]=this.on(d,h))}this.prevMotionValues=W1(this,this.scrapeMotionValuesFromProps(n,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(n){return this.props.variants?this.props.variants[n]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(n){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(n),()=>s.variantChildren.delete(n)}addValue(n,s){const l=this.values.get(n);s!==l&&(l&&this.removeValue(n),this.bindToMotionValue(n,s),this.values.set(n,s),this.latestValues[n]=s.get())}removeValue(n){this.values.delete(n);const s=this.valueSubscriptions.get(n);s&&(s(),this.valueSubscriptions.delete(n)),delete this.latestValues[n],this.removeValueFromRenderState(n,this.renderState)}hasValue(n){return this.values.has(n)}getValue(n,s){if(this.props.values&&this.props.values[n])return this.props.values[n];let l=this.values.get(n);return l===void 0&&s!==void 0&&(l=Na(s===null?void 0:s,{owner:this}),this.addValue(n,l)),l}readValue(n,s){var l;let d=this.latestValues[n]!==void 0||!this.current?this.latestValues[n]:(l=this.getBaseTargetFromProps(this.props,n))!==null&&l!==void 0?l:this.readValueFromInstance(this.current,n,this.options);return d!=null&&(typeof d=="string"&&(Av(d)||Pv(d))?d=parseFloat(d):!H1(d)&&Pr.test(s)&&(d=Mv(n,s)),this.setBaseTarget(n,It(d)?d.get():d)),It(d)?d.get():d}setBaseTarget(n,s){this.baseTarget[n]=s}getBaseTarget(n){var s;const{initial:l}=this.props;let d;if(typeof l=="string"||typeof l=="object"){const h=Sh(this.props,l,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);h&&(d=h[n])}if(l&&d!==void 0)return d;const f=this.getBaseTargetFromProps(this.props,n);return f!==void 0&&!It(f)?f:this.initialValues[n]!==void 0&&d===void 0?void 0:this.baseTarget[n]}on(n,s){return this.events[n]||(this.events[n]=new Dh),this.events[n].add(s)}notify(n,...s){this.events[n]&&this.events[n].notify(...s)}}class fy extends G1{constructor(){super(...arguments),this.KeyframeResolver=jv}sortInstanceNodePosition(n,s){return n.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(n,s){return n.style?n.style[s]:void 0}removeValueFromRenderState(n,{vars:s,style:l}){delete s[n],delete l[n]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:n}=this.props;It(n)&&(this.childSubscription=n.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function K1(r){return window.getComputedStyle(r)}class q1 extends fy{constructor(){super(...arguments),this.type="html",this.renderInstance=Jg}readValueFromInstance(n,s){if(us.has(s)){const l=Uh(s);return l&&l.default||0}else{const l=K1(n),d=(Yg(s)?l.getPropertyValue(s):l[s])||0;return typeof d=="string"?d.trim():d}}measureInstanceViewportBox(n,{transformPagePoint:s}){return ty(n,s)}build(n,s,l){Eh(n,s,l.transformTemplate)}scrapeMotionValuesFromProps(n,s,l){return Lh(n,s,l)}}class Y1 extends fy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(n,s){return n[s]}readValueFromInstance(n,s){if(us.has(s)){const l=Uh(s);return l&&l.default||0}return s=ev.has(s)?s:_h(s),n.getAttribute(s)}scrapeMotionValuesFromProps(n,s,l){return iv(n,s,l)}build(n,s,l){kh(n,s,this.isSVGTag,l.transformTemplate)}renderInstance(n,s,l,d){tv(n,s,l,d)}mount(n){this.isSVGTag=bh(n.tagName),super.mount(n)}}const X1=(r,n)=>xh(r)?new Y1(n):new q1(n,{allowProjection:r!==F.Fragment}),Q1=E0({...xx,...F1,...M1,...U1},X1),de=V_(Q1);function J1(r){r.values.forEach(n=>n.stop())}function eh(r,n){[...n].reverse().forEach(l=>{const d=r.getVariant(l);d&&jh(r,d),r.variantChildren&&r.variantChildren.forEach(f=>{eh(f,n)})})}function eS(r,n){if(Array.isArray(n))return eh(r,n);if(typeof n=="string")return eh(r,[n]);jh(r,n)}function tS(){const r=new Set,n={subscribe(s){return r.add(s),()=>{r.delete(s)}},start(s,l){const d=[];return r.forEach(f=>{d.push(Wv(f,s,{transitionOverride:l}))}),Promise.all(d)},set(s){return r.forEach(l=>{eS(l,s)})},stop(){r.forEach(s=>{J1(s)})},mount(){return()=>{n.stop()}}};return n}function nS(){const r=Nu(tS);return mh(r.mount,[]),r}const iS=nS;function py(r,n){const s=F.useRef(n);F.useEffect(function(){n!==s.current&&r.attributionControl!=null&&(s.current!=null&&r.attributionControl.removeAttribution(s.current),n!=null&&r.attributionControl.addAttribution(n)),s.current=n},[r,n])}var rS=zg();const sS=1;function oS(r){return Object.freeze({__version:sS,map:r})}function aS(r,n){return Object.freeze({...r,...n})}const my=F.createContext(null),gy=my.Provider;function Gh(){const r=F.useContext(my);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function lS(r){function n(s,l){const{instance:d,context:f}=r(s).current;return F.useImperativeHandle(l,()=>d),s.children==null?null:Cu.createElement(gy,{value:f},s.children)}return F.forwardRef(n)}function uS(r){function n(s,l){const[d,f]=F.useState(!1),{instance:h}=r(s,f).current;F.useImperativeHandle(l,()=>h),F.useEffect(function(){d&&h.update()},[h,d,s.children]);const y=h._contentNode;return y?rS.createPortal(s.children,y):null}return F.forwardRef(n)}function cS(r){function n(s,l){const{instance:d}=r(s).current;return F.useImperativeHandle(l,()=>d),null}return F.forwardRef(n)}function vy(r,n){const s=F.useRef();F.useEffect(function(){return n!=null&&r.instance.on(n),s.current=n,function(){s.current!=null&&r.instance.off(s.current),s.current=null}},[r,n])}function Kh(r,n){const s=r.pane??n.pane;return s?{...r,pane:s}:r}function dS(r,n){return function(l,d){const f=Gh(),h=r(Kh(l,f),f);return py(f.map,l.attribution),vy(h.current,l.eventHandlers),n(h.current,f,l,d),h}}var Ca={exports:{}};var hS=Ca.exports,tg;function fS(){return tg||(tg=1,(function(r,n){(function(s,l){l(n)})(hS,(function(s){var l="1.9.4";function d(t){var o,u,p,w;for(u=1,p=arguments.length;u<p;u++){w=arguments[u];for(o in w)t[o]=w[o]}return t}var f=Object.create||(function(){function t(){}return function(o){return t.prototype=o,new t}})();function h(t,o){var u=Array.prototype.slice;if(t.bind)return t.bind.apply(t,u.call(arguments,1));var p=u.call(arguments,2);return function(){return t.apply(o,p.length?p.concat(u.call(arguments)):arguments)}}var y=0;function g(t){return"_leaflet_id"in t||(t._leaflet_id=++y),t._leaflet_id}function _(t,o,u){var p,w,P,A;return A=function(){p=!1,w&&(P.apply(u,w),w=!1)},P=function(){p?w=arguments:(t.apply(u,arguments),setTimeout(A,o),p=!0)},P}function x(t,o,u){var p=o[1],w=o[0],P=p-w;return t===p&&u?t:((t-w)%P+P)%P+w}function C(){return!1}function E(t,o){if(o===!1)return t;var u=Math.pow(10,o===void 0?6:o);return Math.round(t*u)/u}function N(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function R(t){return N(t).split(/\s+/)}function T(t,o){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?f(t.options):{});for(var u in o)t.options[u]=o[u];return t.options}function b(t,o,u){var p=[];for(var w in t)p.push(encodeURIComponent(u?w.toUpperCase():w)+"="+encodeURIComponent(t[w]));return(!o||o.indexOf("?")===-1?"?":"&")+p.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function z(t,o){return t.replace(j,function(u,p){var w=o[p];if(w===void 0)throw new Error("No value provided for variable "+u);return typeof w=="function"&&(w=w(o)),w})}var U=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function G(t,o){for(var u=0;u<t.length;u++)if(t[u]===o)return u;return-1}var q="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function B(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ie=0;function re(t){var o=+new Date,u=Math.max(0,16-(o-ie));return ie=o+u,window.setTimeout(t,u)}var Ce=window.requestAnimationFrame||B("RequestAnimationFrame")||re,Ae=window.cancelAnimationFrame||B("CancelAnimationFrame")||B("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function le(t,o,u){if(u&&Ce===re)t.call(o);else return Ce.call(window,h(t,o))}function Ve(t){t&&Ae.call(window,t)}var ze={__proto__:null,extend:d,create:f,bind:h,get lastId(){return y},stamp:g,throttle:_,wrapNum:x,falseFn:C,formatNum:E,trim:N,splitWords:R,setOptions:T,getParamString:b,template:z,isArray:U,indexOf:G,emptyImageUrl:q,requestFn:Ce,cancelFn:Ae,requestAnimFrame:le,cancelAnimFrame:Ve};function be(){}be.extend=function(t){var o=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=o.__super__=this.prototype,p=f(u);p.constructor=o,o.prototype=p;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(o[w]=this[w]);return t.statics&&d(o,t.statics),t.includes&&(Fe(t.includes),d.apply(null,[p].concat(t.includes))),d(p,t),delete p.statics,delete p.includes,p.options&&(p.options=u.options?f(u.options):{},d(p.options,t.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,A=p._initHooks.length;P<A;P++)p._initHooks[P].call(this)}},o},be.include=function(t){var o=this.prototype.options;return d(this.prototype,t),t.options&&(this.prototype.options=o,this.mergeOptions(t.options)),this},be.mergeOptions=function(t){return d(this.prototype.options,t),this},be.addInitHook=function(t){var o=Array.prototype.slice.call(arguments,1),u=typeof t=="function"?t:function(){this[t].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Fe(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=U(t)?t:[t];for(var o=0;o<t.length;o++)t[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Re={on:function(t,o,u){if(typeof t=="object")for(var p in t)this._on(p,t[p],o);else{t=R(t);for(var w=0,P=t.length;w<P;w++)this._on(t[w],o,u)}return this},off:function(t,o,u){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var p in t)this._off(p,t[p],o);else{t=R(t);for(var w=arguments.length===1,P=0,A=t.length;P<A;P++)w?this._off(t[P]):this._off(t[P],o,u)}return this},_on:function(t,o,u,p){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(t,o,u)===!1){u===this&&(u=void 0);var w={fn:o,ctx:u};p&&(w.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(w)}},_off:function(t,o,u){var p,w,P;if(this._events&&(p=this._events[t],!!p)){if(arguments.length===1){if(this._firingCount)for(w=0,P=p.length;w<P;w++)p[w].fn=C;delete this._events[t];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var A=this._listens(t,o,u);if(A!==!1){var V=p[A];this._firingCount&&(V.fn=C,this._events[t]=p=p.slice()),p.splice(A,1)}}},fire:function(t,o,u){if(!this.listens(t,u))return this;var p=d({},o,{type:t,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var w=this._events[t];if(w){this._firingCount=this._firingCount+1||1;for(var P=0,A=w.length;P<A;P++){var V=w[P],H=V.fn;V.once&&this.off(t,H,V.ctx),H.call(V.ctx||this,p)}this._firingCount--}}return u&&this._propagateEvent(p),this},listens:function(t,o,u,p){typeof t!="string"&&console.warn('"string" type argument expected');var w=o;typeof o!="function"&&(p=!!o,w=void 0,u=void 0);var P=this._events&&this._events[t];if(P&&P.length&&this._listens(t,w,u)!==!1)return!0;if(p){for(var A in this._eventParents)if(this._eventParents[A].listens(t,o,u,p))return!0}return!1},_listens:function(t,o,u){if(!this._events)return!1;var p=this._events[t]||[];if(!o)return!!p.length;u===this&&(u=void 0);for(var w=0,P=p.length;w<P;w++)if(p[w].fn===o&&p[w].ctx===u)return w;return!1},once:function(t,o,u){if(typeof t=="object")for(var p in t)this._on(p,t[p],o,!0);else{t=R(t);for(var w=0,P=t.length;w<P;w++)this._on(t[w],o,u,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[g(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[g(t)],this},_propagateEvent:function(t){for(var o in this._eventParents)this._eventParents[o].fire(t.type,d({layer:t.target,propagatedFrom:t.target},t),!0)}};Re.addEventListener=Re.on,Re.removeEventListener=Re.clearAllEventListeners=Re.off,Re.addOneTimeEventListener=Re.once,Re.fireEvent=Re.fire,Re.hasEventListeners=Re.listens;var ke=be.extend(Re);function K(t,o,u){this.x=u?Math.round(t):t,this.y=u?Math.round(o):o}var ve=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(t){return this.clone()._add(Y(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Y(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new K(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new K(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ve(this.x),this.y=ve(this.y),this},distanceTo:function(t){t=Y(t);var o=t.x-this.x,u=t.y-this.y;return Math.sqrt(o*o+u*u)},equals:function(t){return t=Y(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Y(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function Y(t,o,u){return t instanceof K?t:U(t)?new K(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new K(t.x,t.y):new K(t,o,u)}function O(t,o){if(t)for(var u=o?[t,o]:t,p=0,w=u.length;p<w;p++)this.extend(u[p])}O.prototype={extend:function(t){var o,u;if(!t)return this;if(t instanceof K||typeof t[0]=="number"||"x"in t)o=u=Y(t);else if(t=X(t),o=t.min,u=t.max,!o||!u)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=u.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(t){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var o,u;return typeof t[0]=="number"||t instanceof K?t=Y(t):t=X(t),t instanceof O?(o=t.min,u=t.max):o=u=t,o.x>=this.min.x&&u.x<=this.max.x&&o.y>=this.min.y&&u.y<=this.max.y},intersects:function(t){t=X(t);var o=this.min,u=this.max,p=t.min,w=t.max,P=w.x>=o.x&&p.x<=u.x,A=w.y>=o.y&&p.y<=u.y;return P&&A},overlaps:function(t){t=X(t);var o=this.min,u=this.max,p=t.min,w=t.max,P=w.x>o.x&&p.x<u.x,A=w.y>o.y&&p.y<u.y;return P&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var o=this.min,u=this.max,p=Math.abs(o.x-u.x)*t,w=Math.abs(o.y-u.y)*t;return X(Y(o.x-p,o.y-w),Y(u.x+p,u.y+w))},equals:function(t){return t?(t=X(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function X(t,o){return!t||t instanceof O?t:new O(t,o)}function _e(t,o){if(t)for(var u=o?[t,o]:t,p=0,w=u.length;p<w;p++)this.extend(u[p])}_e.prototype={extend:function(t){var o=this._southWest,u=this._northEast,p,w;if(t instanceof pe)p=t,w=t;else if(t instanceof _e){if(p=t._southWest,w=t._northEast,!p||!w)return this}else return t?this.extend(ue(t)||ye(t)):this;return!o&&!u?(this._southWest=new pe(p.lat,p.lng),this._northEast=new pe(w.lat,w.lng)):(o.lat=Math.min(p.lat,o.lat),o.lng=Math.min(p.lng,o.lng),u.lat=Math.max(w.lat,u.lat),u.lng=Math.max(w.lng,u.lng)),this},pad:function(t){var o=this._southWest,u=this._northEast,p=Math.abs(o.lat-u.lat)*t,w=Math.abs(o.lng-u.lng)*t;return new _e(new pe(o.lat-p,o.lng-w),new pe(u.lat+p,u.lng+w))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof pe||"lat"in t?t=ue(t):t=ye(t);var o=this._southWest,u=this._northEast,p,w;return t instanceof _e?(p=t.getSouthWest(),w=t.getNorthEast()):p=w=t,p.lat>=o.lat&&w.lat<=u.lat&&p.lng>=o.lng&&w.lng<=u.lng},intersects:function(t){t=ye(t);var o=this._southWest,u=this._northEast,p=t.getSouthWest(),w=t.getNorthEast(),P=w.lat>=o.lat&&p.lat<=u.lat,A=w.lng>=o.lng&&p.lng<=u.lng;return P&&A},overlaps:function(t){t=ye(t);var o=this._southWest,u=this._northEast,p=t.getSouthWest(),w=t.getNorthEast(),P=w.lat>o.lat&&p.lat<u.lat,A=w.lng>o.lng&&p.lng<u.lng;return P&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,o){return t?(t=ye(t),this._southWest.equals(t.getSouthWest(),o)&&this._northEast.equals(t.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(t,o){return t instanceof _e?t:new _e(t,o)}function pe(t,o,u){if(isNaN(t)||isNaN(o))throw new Error("Invalid LatLng object: ("+t+", "+o+")");this.lat=+t,this.lng=+o,u!==void 0&&(this.alt=+u)}pe.prototype={equals:function(t,o){if(!t)return!1;t=ue(t);var u=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return u<=(o===void 0?1e-9:o)},toString:function(t){return"LatLng("+E(this.lat,t)+", "+E(this.lng,t)+")"},distanceTo:function(t){return Ie.distance(this,ue(t))},wrap:function(){return Ie.wrapLatLng(this)},toBounds:function(t){var o=180*t/40075017,u=o/Math.cos(Math.PI/180*this.lat);return ye([this.lat-o,this.lng-u],[this.lat+o,this.lng+u])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function ue(t,o,u){return t instanceof pe?t:U(t)&&typeof t[0]!="object"?t.length===3?new pe(t[0],t[1],t[2]):t.length===2?new pe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new pe(t.lat,"lng"in t?t.lng:t.lon,t.alt):o===void 0?null:new pe(t,o,u)}var je={latLngToPoint:function(t,o){var u=this.projection.project(t),p=this.scale(o);return this.transformation._transform(u,p)},pointToLatLng:function(t,o){var u=this.scale(o),p=this.transformation.untransform(t,u);return this.projection.unproject(p)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var o=this.projection.bounds,u=this.scale(t),p=this.transformation.transform(o.min,u),w=this.transformation.transform(o.max,u);return new O(p,w)},infinite:!1,wrapLatLng:function(t){var o=this.wrapLng?x(t.lng,this.wrapLng,!0):t.lng,u=this.wrapLat?x(t.lat,this.wrapLat,!0):t.lat,p=t.alt;return new pe(u,o,p)},wrapLatLngBounds:function(t){var o=t.getCenter(),u=this.wrapLatLng(o),p=o.lat-u.lat,w=o.lng-u.lng;if(p===0&&w===0)return t;var P=t.getSouthWest(),A=t.getNorthEast(),V=new pe(P.lat-p,P.lng-w),H=new pe(A.lat-p,A.lng-w);return new _e(V,H)}},Ie=d({},je,{wrapLng:[-180,180],R:6371e3,distance:function(t,o){var u=Math.PI/180,p=t.lat*u,w=o.lat*u,P=Math.sin((o.lat-t.lat)*u/2),A=Math.sin((o.lng-t.lng)*u/2),V=P*P+Math.cos(p)*Math.cos(w)*A*A,H=2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V));return this.R*H}}),Ge=6378137,xt={R:Ge,MAX_LATITUDE:85.0511287798,project:function(t){var o=Math.PI/180,u=this.MAX_LATITUDE,p=Math.max(Math.min(u,t.lat),-u),w=Math.sin(p*o);return new K(this.R*t.lng*o,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(t){var o=180/Math.PI;return new pe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*o,t.x*o/this.R)},bounds:(function(){var t=Ge*Math.PI;return new O([-t,-t],[t,t])})()};function Ii(t,o,u,p){if(U(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=o,this._c=u,this._d=p}Ii.prototype={transform:function(t,o){return this._transform(t.clone(),o)},_transform:function(t,o){return o=o||1,t.x=o*(this._a*t.x+this._b),t.y=o*(this._c*t.y+this._d),t},untransform:function(t,o){return o=o||1,new K((t.x/o-this._b)/this._a,(t.y/o-this._d)/this._c)}};function Oi(t,o,u,p){return new Ii(t,o,u,p)}var Di=d({},Ie,{code:"EPSG:3857",projection:xt,transformation:(function(){var t=.5/(Math.PI*xt.R);return Oi(t,.5,-t,.5)})()}),mo=d({},Di,{code:"EPSG:900913"});function go(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function vo(t,o){var u="",p,w,P,A,V,H;for(p=0,P=t.length;p<P;p++){for(V=t[p],w=0,A=V.length;w<A;w++)H=V[w],u+=(w?"L":"M")+H.x+" "+H.y;u+=o?me.svg?"z":"x":""}return u||"M0 0"}var kr=document.documentElement.style,Tr="ActiveXObject"in window,yo=Tr&&!document.addEventListener,ji="msLaunchUri"in navigator&&!("documentMode"in document),Fn=Et("webkit"),cs=Et("android"),_o=Et("android 2")||Et("android 3"),Fa=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ua=cs&&Et("Google")&&Fa<537&&!("AudioNode"in window),ds=!!window.opera,hs=!ji&&Et("chrome"),br=Et("gecko")&&!Fn&&!ds&&!Tr,$a=!hs&&Et("safari"),zi=Et("phantom"),Bi="OTransition"in kr,Bu=navigator.platform.indexOf("Win")===0,wo=Tr&&"transition"in kr,fs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_o,Za="MozPerspective"in kr,xo=!window.L_DISABLE_3D&&(wo||fs||Za)&&!Bi&&!zi,oi=typeof orientation<"u"||Et("mobile"),So=oi&&Fn,Co=oi&&fs,ps=!window.PointerEvent&&window.MSPointerEvent,ai=!!(window.PointerEvent||ps),li="ontouchstart"in window||!!window.TouchEvent,Ha=!window.L_NO_TOUCH&&(li||ai),Wa=oi&&ds,Ga=oi&&br,Ka=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qa=(function(){var t=!1;try{var o=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",C,o),window.removeEventListener("testPassiveEventSupport",C,o)}catch{}return t})(),Po=(function(){return!!document.createElement("canvas").getContext})(),ms=!!(document.createElementNS&&go("svg").createSVGRect),Lr=!!ms&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Eo=!ms&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var o=t.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}})(),Mr=navigator.platform.indexOf("Mac")===0,Vu=navigator.platform.indexOf("Linux")===0;function Et(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var me={ie:Tr,ielt9:yo,edge:ji,webkit:Fn,android:cs,android23:_o,androidStock:Ua,opera:ds,chrome:hs,gecko:br,safari:$a,phantom:zi,opera12:Bi,win:Bu,ie3d:wo,webkit3d:fs,gecko3d:Za,any3d:xo,mobile:oi,mobileWebkit:So,mobileWebkit3d:Co,msPointer:ps,pointer:ai,touch:Ha,touchNative:li,mobileOpera:Wa,mobileGecko:Ga,retina:Ka,passiveEvents:qa,canvas:Po,svg:ms,vml:Eo,inlineSvg:Lr,mac:Mr,linux:Vu},Nr=me.msPointer?"MSPointerDown":"pointerdown",gs=me.msPointer?"MSPointerMove":"pointermove",Ya=me.msPointer?"MSPointerUp":"pointerup",Xa=me.msPointer?"MSPointerCancel":"pointercancel",ko={touchstart:Nr,touchmove:gs,touchend:Ya,touchcancel:Xa},Un={touchstart:et,touchmove:vs,touchend:vs,touchcancel:vs},ui={},To=!1;function Fu(t,o,u){return o==="touchstart"&&Uu(),Un[o]?(u=Un[o].bind(this,u),t.addEventListener(ko[o],u,!1),u):(console.warn("wrong event specified:",o),C)}function Qa(t,o,u){if(!ko[o]){console.warn("wrong event specified:",o);return}t.removeEventListener(ko[o],u,!1)}function Ja(t){ui[t.pointerId]=t}function el(t){ui[t.pointerId]&&(ui[t.pointerId]=t)}function bo(t){delete ui[t.pointerId]}function Uu(){To||(document.addEventListener(Nr,Ja,!0),document.addEventListener(gs,el,!0),document.addEventListener(Ya,bo,!0),document.addEventListener(Xa,bo,!0),To=!0)}function vs(t,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var u in ui)o.touches.push(ui[u]);o.changedTouches=[o],t(o)}}function et(t,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&tt(o),vs(t,o)}function $u(t){var o={},u,p;for(p in t)u=t[p],o[p]=u&&u.bind?u.bind(t):u;return t=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Lo=200;function tl(t,o){t.addEventListener("dblclick",o);var u=0,p;function w(P){if(P.detail!==1){p=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var A=hi(P);if(!(A.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!A.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var V=Date.now();V-u<=Lo?(p++,p===2&&o($u(P))):p=1,u=V}}}return t.addEventListener("click",w),{dblclick:o,simDblclick:w}}function ys(t,o){t.removeEventListener("dblclick",o.dblclick),t.removeEventListener("click",o.simDblclick)}var Mo=$i(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Vi=$i(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Rr=Vi==="webkitTransition"||Vi==="OTransition"?Vi+"End":"transitionend";function qt(t){return typeof t=="string"?document.getElementById(t):t}function Ar(t,o){var u=t.style[o]||t.currentStyle&&t.currentStyle[o];if((!u||u==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(t,null);u=p?p[o]:null}return u==="auto"?null:u}function Me(t,o,u){var p=document.createElement(t);return p.className=o||"",u&&u.appendChild(p),p}function Ye(t){var o=t.parentNode;o&&o.removeChild(t)}function _s(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Fi(t){var o=t.parentNode;o&&o.lastChild!==t&&o.appendChild(t)}function kn(t){var o=t.parentNode;o&&o.firstChild!==t&&o.insertBefore(t,o.firstChild)}function Ui(t,o){if(t.classList!==void 0)return t.classList.contains(o);var u=ws(t);return u.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(u)}function Le(t,o){if(t.classList!==void 0)for(var u=R(o),p=0,w=u.length;p<w;p++)t.classList.add(u[p]);else if(!Ui(t,o)){var P=ws(t);No(t,(P?P+" ":"")+o)}}function Ke(t,o){t.classList!==void 0?t.classList.remove(o):No(t,N((" "+ws(t)+" ").replace(" "+o+" "," ")))}function No(t,o){t.className.baseVal===void 0?t.className=o:t.className.baseVal=o}function ws(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function kt(t,o){"opacity"in t.style?t.style.opacity=o:"filter"in t.style&&nl(t,o)}function nl(t,o){var u=!1,p="DXImageTransform.Microsoft.Alpha";try{u=t.filters.item(p)}catch{if(o===1)return}o=Math.round(o*100),u?(u.Enabled=o!==100,u.Opacity=o):t.style.filter+=" progid:"+p+"(opacity="+o+")"}function $i(t){for(var o=document.documentElement.style,u=0;u<t.length;u++)if(t[u]in o)return t[u];return!1}function Yt(t,o,u){var p=o||new K(0,0);t.style[Mo]=(me.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(u?" scale("+u+")":"")}function st(t,o){t._leaflet_pos=o,me.any3d?Yt(t,o):(t.style.left=o.x+"px",t.style.top=o.y+"px")}function Tn(t){return t._leaflet_pos||new K(0,0)}var Be,Zi,xs;if("onselectstart"in document)Be=function(){Ee(window,"selectstart",tt)},Zi=function(){He(window,"selectstart",tt)};else{var ci=$i(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Be=function(){if(ci){var t=document.documentElement.style;xs=t[ci],t[ci]="none"}},Zi=function(){ci&&(document.documentElement.style[ci]=xs,xs=void 0)}}function Ss(){Ee(window,"dragstart",tt)}function Cs(){He(window,"dragstart",tt)}var Ir,Or;function Hi(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Xt(),Ir=t,Or=t.style.outlineStyle,t.style.outlineStyle="none",Ee(window,"keydown",Xt))}function Xt(){Ir&&(Ir.style.outlineStyle=Or,Ir=void 0,Or=void 0,He(window,"keydown",Xt))}function bn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function dn(t){var o=t.getBoundingClientRect();return{x:o.width/t.offsetWidth||1,y:o.height/t.offsetHeight||1,boundingClientRect:o}}var Dr={__proto__:null,TRANSFORM:Mo,TRANSITION:Vi,TRANSITION_END:Rr,get:qt,getStyle:Ar,create:Me,remove:Ye,empty:_s,toFront:Fi,toBack:kn,hasClass:Ui,addClass:Le,removeClass:Ke,setClass:No,getClass:ws,setOpacity:kt,testProp:$i,setTransform:Yt,setPosition:st,getPosition:Tn,get disableTextSelection(){return Be},get enableTextSelection(){return Zi},disableImageDrag:Ss,enableImageDrag:Cs,preventOutline:Hi,restoreOutline:Xt,getSizedParentNode:bn,getScale:dn};function Ee(t,o,u,p){if(o&&typeof o=="object")for(var w in o)Ao(t,w,o[w],u);else{o=R(o);for(var P=0,A=o.length;P<A;P++)Ao(t,o[P],u,p)}return this}var ft="_leaflet_events";function He(t,o,u,p){if(arguments.length===1)Ro(t),delete t[ft];else if(o&&typeof o=="object")for(var w in o)Ps(t,w,o[w],u);else if(o=R(o),arguments.length===2)Ro(t,function(V){return G(o,V)!==-1});else for(var P=0,A=o.length;P<A;P++)Ps(t,o[P],u,p);return this}function Ro(t,o){for(var u in t[ft]){var p=u.split(/\d/)[0];(!o||o(p))&&Ps(t,p,null,null,u)}}var di={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ao(t,o,u,p){var w=o+g(u)+(p?"_"+g(p):"");if(t[ft]&&t[ft][w])return this;var P=function(V){return u.call(p||t,V||window.event)},A=P;!me.touchNative&&me.pointer&&o.indexOf("touch")===0?P=Fu(t,o,P):me.touch&&o==="dblclick"?P=tl(t,P):"addEventListener"in t?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?t.addEventListener(di[o]||o,P,me.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(P=function(V){V=V||window.event,Br(t,V)&&A(V)},t.addEventListener(di[o],P,!1)):t.addEventListener(o,A,!1):t.attachEvent("on"+o,P),t[ft]=t[ft]||{},t[ft][w]=P}function Ps(t,o,u,p,w){w=w||o+g(u)+(p?"_"+g(p):"");var P=t[ft]&&t[ft][w];if(!P)return this;!me.touchNative&&me.pointer&&o.indexOf("touch")===0?Qa(t,o,P):me.touch&&o==="dblclick"?ys(t,P):"removeEventListener"in t?t.removeEventListener(di[o]||o,P,!1):t.detachEvent("on"+o,P),t[ft][w]=null}function hn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Es(t){return Ao(t,"wheel",hn),this}function jr(t){return Ee(t,"mousedown touchstart dblclick contextmenu",hn),t._leaflet_disable_click=!0,this}function tt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Qt(t){return tt(t),hn(t),this}function hi(t){if(t.composedPath)return t.composedPath();for(var o=[],u=t.target;u;)o.push(u),u=u.parentNode;return o}function zr(t,o){if(!o)return new K(t.clientX,t.clientY);var u=dn(o),p=u.boundingClientRect;return new K((t.clientX-p.left)/u.x-o.clientLeft,(t.clientY-p.top)/u.y-o.clientTop)}var Zu=me.linux&&me.chrome?window.devicePixelRatio:me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function il(t){return me.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Zu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Br(t,o){var u=o.relatedTarget;if(!u)return!0;try{for(;u&&u!==t;)u=u.parentNode}catch{return!1}return u!==t}var ks={__proto__:null,on:Ee,off:He,stopPropagation:hn,disableScrollPropagation:Es,disableClickPropagation:jr,preventDefault:tt,stop:Qt,getPropagationPath:hi,getMousePosition:zr,getWheelDelta:il,isExternalTarget:Br,addListener:Ee,removeListener:He},Ts=ke.extend({run:function(t,o,u,p){this.stop(),this._el=t,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Tn(t),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(t){var o=+new Date-this._startTime,u=this._duration*1e3;o<u?this._runFrame(this._easeOut(o/u),t):(this._runFrame(1),this._complete())},_runFrame:function(t,o){var u=this._startPos.add(this._offset.multiplyBy(t));o&&u._round(),st(this._el,u),this.fire("step")},_complete:function(){Ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),De=ke.extend({options:{crs:Di,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,o){o=T(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(ue(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Vi&&me.any3d&&!me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ee(this._proxy,Rr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,o,u){if(o=o===void 0?this._zoom:this._limitZoom(o),t=this._limitCenter(ue(t),o,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=d({animate:u.animate},u.zoom),u.pan=d({animate:u.animate,duration:u.duration},u.pan));var p=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,o,u.zoom):this._tryAnimatedPan(t,u.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(t,o,u.pan&&u.pan.noMoveStart),this},setZoom:function(t,o){return this._loaded?this.setView(this.getCenter(),t,{zoom:o}):(this._zoom=t,this)},zoomIn:function(t,o){return t=t||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,o)},zoomOut:function(t,o){return t=t||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,o)},setZoomAround:function(t,o,u){var p=this.getZoomScale(o),w=this.getSize().divideBy(2),P=t instanceof K?t:this.latLngToContainerPoint(t),A=P.subtract(w).multiplyBy(1-1/p),V=this.containerPointToLatLng(w.add(A));return this.setView(V,o,{zoom:u})},_getBoundsCenterZoom:function(t,o){o=o||{},t=t.getBounds?t.getBounds():ye(t);var u=Y(o.paddingTopLeft||o.padding||[0,0]),p=Y(o.paddingBottomRight||o.padding||[0,0]),w=this.getBoundsZoom(t,!1,u.add(p));if(w=typeof o.maxZoom=="number"?Math.min(o.maxZoom,w):w,w===1/0)return{center:t.getCenter(),zoom:w};var P=p.subtract(u).divideBy(2),A=this.project(t.getSouthWest(),w),V=this.project(t.getNorthEast(),w),H=this.unproject(A.add(V).divideBy(2).add(P),w);return{center:H,zoom:w}},fitBounds:function(t,o){if(t=ye(t),!t.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(t,o);return this.setView(u.center,u.zoom,o)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,o){return this.setView(t,this._zoom,{pan:o})},panBy:function(t,o){if(t=Y(t).round(),o=o||{},!t.x&&!t.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ts,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){Le(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,u,o.duration||.25,o.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,o,u){if(u=u||{},u.animate===!1||!me.any3d)return this.setView(t,o,u);this._stop();var p=this.project(this.getCenter()),w=this.project(t),P=this.getSize(),A=this._zoom;t=ue(t),o=o===void 0?A:o;var V=Math.max(P.x,P.y),H=V*this.getZoomScale(A,o),Q=w.distanceTo(p)||1,oe=1.42,we=oe*oe;function Ne(Ze){var or=Ze?-1:1,rc=Ze?H:V,sc=H*H-V*V+or*we*we*Q*Q,_i=2*rc*we*Q,wi=sc/_i,xi=Math.sqrt(wi*wi+1)-wi,Fs=xi<1e-9?-18:Math.log(xi);return Fs}function pt(Ze){return(Math.exp(Ze)-Math.exp(-Ze))/2}function ct(Ze){return(Math.exp(Ze)+Math.exp(-Ze))/2}function jt(Ze){return pt(Ze)/ct(Ze)}var bt=Ne(0);function rr(Ze){return V*(ct(bt)/ct(bt+oe*Ze))}function ea(Ze){return V*(ct(bt)*jt(bt+oe*Ze)-pt(bt))/we}function Yn(Ze){return 1-Math.pow(1-Ze,1.5)}var Pl=Date.now(),yi=(Ne(1)-bt)/oe,gn=u.duration?1e3*u.duration:1e3*yi*.8;function sr(){var Ze=(Date.now()-Pl)/gn,or=Yn(Ze)*yi;Ze<=1?(this._flyToFrame=le(sr,this),this._move(this.unproject(p.add(w.subtract(p).multiplyBy(ea(or)/Q)),A),this.getScaleZoom(V/rr(or),A),{flyTo:!0})):this._move(t,o)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),sr.call(this),this},flyToBounds:function(t,o){var u=this._getBoundsCenterZoom(t,o);return this.flyTo(u.center,u.zoom,o)},setMaxBounds:function(t){return t=ye(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var o=this.options.minZoom;return this.options.minZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var o=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&o!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,o){this._enforcingBounds=!0;var u=this.getCenter(),p=this._limitCenter(u,this._zoom,ye(t));return u.equals(p)||this.panTo(p,o),this._enforcingBounds=!1,this},panInside:function(t,o){o=o||{};var u=Y(o.paddingTopLeft||o.padding||[0,0]),p=Y(o.paddingBottomRight||o.padding||[0,0]),w=this.project(this.getCenter()),P=this.project(t),A=this.getPixelBounds(),V=X([A.min.add(u),A.max.subtract(p)]),H=V.getSize();if(!V.contains(P)){this._enforcingBounds=!0;var Q=P.subtract(V.getCenter()),oe=V.extend(P).getSize().subtract(H);w.x+=Q.x<0?-oe.x:oe.x,w.y+=Q.y<0?-oe.y:oe.y,this.panTo(this.unproject(w),o),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=d({animate:!1,pan:!0},t===!0?{animate:!0}:t);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),p=o.divideBy(2).round(),w=u.divideBy(2).round(),P=p.subtract(w);return!P.x&&!P.y?this:(t.animate&&t.pan?this.panBy(P):(t.pan&&this._rawPanBy(P),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=d({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=h(this._handleGeolocationResponse,this),u=h(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,u,t):navigator.geolocation.getCurrentPosition(o,u,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var o=t.code,u=t.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var o=t.coords.latitude,u=t.coords.longitude,p=new pe(o,u),w=p.toBounds(t.coords.accuracy*2),P=this._locateOptions;if(P.setView){var A=this.getBoundsZoom(w);this.setView(p,P.maxZoom?Math.min(A,P.maxZoom):A)}var V={latlng:p,bounds:w,timestamp:t.timestamp};for(var H in t.coords)typeof t.coords[H]=="number"&&(V[H]=t.coords[H]);this.fire("locationfound",V)}},addHandler:function(t,o){if(!o)return this;var u=this[t]=new o(this);return this._handlers.push(u),this.options[t]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Ye(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,o){var u="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),p=Me("div",u,o||this._mapPane);return t&&(this._panes[t]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),o=this.unproject(t.getBottomLeft()),u=this.unproject(t.getTopRight());return new _e(o,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,o,u){t=ye(t),u=Y(u||[0,0]);var p=this.getZoom()||0,w=this.getMinZoom(),P=this.getMaxZoom(),A=t.getNorthWest(),V=t.getSouthEast(),H=this.getSize().subtract(u),Q=X(this.project(V,p),this.project(A,p)).getSize(),oe=me.any3d?this.options.zoomSnap:1,we=H.x/Q.x,Ne=H.y/Q.y,pt=o?Math.max(we,Ne):Math.min(we,Ne);return p=this.getScaleZoom(pt,p),oe&&(p=Math.round(p/(oe/100))*(oe/100),p=o?Math.ceil(p/oe)*oe:Math.floor(p/oe)*oe),Math.max(w,Math.min(P,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,o){var u=this._getTopLeftPoint(t,o);return new O(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,o){var u=this.options.crs;return o=o===void 0?this._zoom:o,u.scale(t)/u.scale(o)},getScaleZoom:function(t,o){var u=this.options.crs;o=o===void 0?this._zoom:o;var p=u.zoom(t*u.scale(o));return isNaN(p)?1/0:p},project:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(ue(t),o)},unproject:function(t,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(Y(t),o)},layerPointToLatLng:function(t){var o=Y(t).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(t){var o=this.project(ue(t))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ue(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ye(t))},distance:function(t,o){return this.options.crs.distance(ue(t),ue(o))},containerPointToLayerPoint:function(t){return Y(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Y(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var o=this.containerPointToLayerPoint(Y(t));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ue(t)))},mouseEventToContainerPoint:function(t){return zr(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var o=this._container=qt(t);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ee(o,"scroll",this._onScroll,this),this._containerId=g(o)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&me.any3d,Le(t,"leaflet-container"+(me.touch?" leaflet-touch":"")+(me.retina?" leaflet-retina":"")+(me.ielt9?" leaflet-oldie":"")+(me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=Ar(t,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),st(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Le(t.markerPane,"leaflet-zoom-hide"),Le(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,o,u){st(this._mapPane,new K(0,0));var p=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var w=this._zoom!==o;this._moveStart(w,u)._move(t,o)._moveEnd(w),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(t,o){return t&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(t,o,u,p){o===void 0&&(o=this._zoom);var w=this._zoom!==o;return this._zoom=o,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),p?u&&u.pinch&&this.fire("zoom",u):((w||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){st(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[g(this._container)]=this;var o=t?He:Ee;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),me.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ve(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,o){for(var u=[],p,w=o==="mouseout"||o==="mouseover",P=t.target||t.srcElement,A=!1;P;){if(p=this._targets[g(P)],p&&(o==="click"||o==="preclick")&&this._draggableMoved(p)){A=!0;break}if(p&&p.listens(o,!0)&&(w&&!Br(P,t)||(u.push(p),w))||P===this._container)break;P=P.parentNode}return!u.length&&!A&&!w&&this.listens(o,!0)&&(u=[this]),u},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var o=t.target||t.srcElement;if(!(!this._loaded||o._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(o))){var u=t.type;u==="mousedown"&&Hi(o),this._fireDOMEvent(t,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,o,u){if(t.type==="click"){var p=d({},t);p.type="preclick",this._fireDOMEvent(p,p.type,u)}var w=this._findEventTargets(t,o);if(u){for(var P=[],A=0;A<u.length;A++)u[A].listens(o,!0)&&P.push(u[A]);w=P.concat(w)}if(w.length){o==="contextmenu"&&tt(t);var V=w[0],H={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Q=V.getLatLng&&(!V._radius||V._radius<=10);H.containerPoint=Q?this.latLngToContainerPoint(V.getLatLng()):this.mouseEventToContainerPoint(t),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=Q?V.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(A=0;A<w.length;A++)if(w[A].fire(o,H,!0),H.originalEvent._stopped||w[A].options.bubblingMouseEvents===!1&&G(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,o=this._handlers.length;t<o;t++)this._handlers[t].disable()},whenReady:function(t,o){return this._loaded?t.call(o||this,{target:this}):this.on("load",t,o),this},_getMapPanePos:function(){return Tn(this._mapPane)||new K(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,o){var u=t&&o!==void 0?this._getNewPixelOrigin(t,o):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,o){var u=this.getSize()._divideBy(2);return this.project(t,o)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,o,u){var p=this._getNewPixelOrigin(u,o);return this.project(t,o)._subtract(p)},_latLngBoundsToNewLayerBounds:function(t,o,u){var p=this._getNewPixelOrigin(u,o);return X([this.project(t.getSouthWest(),o)._subtract(p),this.project(t.getNorthWest(),o)._subtract(p),this.project(t.getSouthEast(),o)._subtract(p),this.project(t.getNorthEast(),o)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,o,u){if(!u)return t;var p=this.project(t,o),w=this.getSize().divideBy(2),P=new O(p.subtract(w),p.add(w)),A=this._getBoundsOffset(P,u,o);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?t:this.unproject(p.add(A),o)},_limitOffset:function(t,o){if(!o)return t;var u=this.getPixelBounds(),p=new O(u.min.add(t),u.max.add(t));return t.add(this._getBoundsOffset(p,o))},_getBoundsOffset:function(t,o,u){var p=X(this.project(o.getNorthEast(),u),this.project(o.getSouthWest(),u)),w=p.min.subtract(t.min),P=p.max.subtract(t.max),A=this._rebound(w.x,-P.x),V=this._rebound(w.y,-P.y);return new K(A,V)},_rebound:function(t,o){return t+o>0?Math.round(t-o)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(o))},_limitZoom:function(t){var o=this.getMinZoom(),u=this.getMaxZoom(),p=me.any3d?this.options.zoomSnap:1;return p&&(t=Math.round(t/p)*p),Math.max(o,Math.min(u,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,o){var u=this._getCenterOffset(t)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,o),!0)},_createAnimProxy:function(){var t=this._proxy=Me("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(o){var u=Mo,p=this._proxy.style[u];Yt(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),p===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),o=this.getZoom();Yt(this._proxy,this.project(t,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,o,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(o),w=this._getCenterOffset(t)._divideBy(1-1/p);return u.animate!==!0&&!this.getSize().contains(w)?!1:(le(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(t,o,!0)},this),!0)},_animateZoom:function(t,o,u,p){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=o,Le(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:o,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function $n(t,o){return new De(t,o)}var Ot=be.extend({options:{position:"topright"},initialize:function(t){T(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var o=this._map;return o&&o.removeControl(this),this.options.position=t,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var o=this._container=this.onAdd(t),u=this.getPosition(),p=t._controlCorners[u];return Le(o,"leaflet-control"),u.indexOf("bottom")!==-1?p.insertBefore(o,p.firstChild):p.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Zn=function(t){return new Ot(t)};De.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},o="leaflet-",u=this._controlContainer=Me("div",o+"control-container",this._container);function p(w,P){var A=o+w+" "+o+P;t[w+P]=Me("div",A,u)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Ye(this._controlCorners[t]);Ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Io=Ot.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,o,u,p){return u<p?-1:p<u?1:0}},initialize:function(t,o,u){T(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in t)this._addLayer(t[p],p);for(p in o)this._addLayer(o[p],p,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ot.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,o){return this._addLayer(t,o),this._map?this._update():this},addOverlay:function(t,o){return this._addLayer(t,o,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var o=this._getLayer(g(t));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){Le(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Le(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",o=this._container=Me("div",t),u=this.options.collapsed;o.setAttribute("aria-haspopup",!0),jr(o),Es(o);var p=this._section=Me("section",t+"-list");u&&(this._map.on("click",this.collapse,this),Ee(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Me("a",t+"-toggle",o);w.href="#",w.title="Layers",w.setAttribute("role","button"),Ee(w,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){tt(P),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Me("div",t+"-base",p),this._separator=Me("div",t+"-separator",p),this._overlaysList=Me("div",t+"-overlays",p),o.appendChild(p)},_getLayer:function(t){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&g(this._layers[o].layer)===t)return this._layers[o]},_addLayer:function(t,o,u){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:o,overlay:u}),this.options.sortLayers&&this._layers.sort(h(function(p,w){return this.options.sortFunction(p.layer,w.layer,p.name,w.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_s(this._baseLayersList),_s(this._overlaysList),this._layerControlInputs=[];var t,o,u,p,w=0;for(u=0;u<this._layers.length;u++)p=this._layers[u],this._addItem(p),o=o||p.overlay,t=t||!p.overlay,w+=p.overlay?0:1;return this.options.hideSingleBase&&(t=t&&w>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=o&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var o=this._getLayer(g(t.target)),u=o.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;u&&this._map.fire(u,o)},_createRadioElement:function(t,o){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(o?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=u,p.firstChild},_addItem:function(t){var o=document.createElement("label"),u=this._map.hasLayer(t.layer),p;t.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=u):p=this._createRadioElement("leaflet-base-layers_"+g(this),u),this._layerControlInputs.push(p),p.layerId=g(t.layer),Ee(p,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+t.name;var P=document.createElement("span");o.appendChild(P),P.appendChild(p),P.appendChild(w);var A=t.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,o,u,p=[],w=[];this._handlingClick=!0;for(var P=t.length-1;P>=0;P--)o=t[P],u=this._getLayer(o.layerId).layer,o.checked?p.push(u):o.checked||w.push(u);for(P=0;P<w.length;P++)this._map.hasLayer(w[P])&&this._map.removeLayer(w[P]);for(P=0;P<p.length;P++)this._map.hasLayer(p[P])||this._map.addLayer(p[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,o,u,p=this._map.getZoom(),w=t.length-1;w>=0;w--)o=t[w],u=this._getLayer(o.layerId).layer,o.disabled=u.options.minZoom!==void 0&&p<u.options.minZoom||u.options.maxZoom!==void 0&&p>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Ee(t,"click",tt),this.expand();var o=this;setTimeout(function(){He(t,"click",tt),o._preventClick=!1})}}),bs=function(t,o,u){return new Io(t,o,u)},Wi=Ot.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var o="leaflet-control-zoom",u=Me("div",o+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,o+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,o+"-out",u,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,o,u,p,w){var P=Me("a",u,p);return P.innerHTML=t,P.href="#",P.title=o,P.setAttribute("role","button"),P.setAttribute("aria-label",o),jr(P),Ee(P,"click",Qt),Ee(P,"click",w,this),Ee(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var t=this._map,o="leaflet-disabled";Ke(this._zoomInButton,o),Ke(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Le(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Le(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});De.mergeOptions({zoomControl:!0}),De.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Wi,this.addControl(this.zoomControl))});var rl=function(t){return new Wi(t)},Tt=Ot.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var o="leaflet-control-scale",u=Me("div",o),p=this.options;return this._addScales(p,o+"-line",u),t.on(p.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),u},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,o,u){t.metric&&(this._mScale=Me("div",o,u)),t.imperial&&(this._iScale=Me("div",o,u))},_update:function(){var t=this._map,o=t.getSize().y/2,u=t.distance(t.containerPointToLatLng([0,o]),t.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(u)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var o=this._getRoundNum(t),u=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,u,o/t)},_updateImperial:function(t){var o=t*3.2808399,u,p,w;o>5280?(u=o/5280,p=this._getRoundNum(u),this._updateScale(this._iScale,p+" mi",p/u)):(w=this._getRoundNum(o),this._updateScale(this._iScale,w+" ft",w/o))},_updateScale:function(t,o,u){t.style.width=Math.round(this.options.maxWidth*u)+"px",t.innerHTML=o},_getRoundNum:function(t){var o=Math.pow(10,(Math.floor(t)+"").length-1),u=t/o;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,o*u}}),Gi=function(t){return new Tt(t)},Oo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',fi=Ot.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(me.inlineSvg?Oo+" ":"")+"Leaflet</a>"},initialize:function(t){T(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Me("div","leaflet-control-attribution"),jr(this._container);for(var o in t._layers)t._layers[o].getAttribution&&this.addAttribution(t._layers[o].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var o in this._attributions)this._attributions[o]&&t.push(o);var u=[];this.options.prefix&&u.push(this.options.prefix),t.length&&u.push(t.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});De.mergeOptions({attributionControl:!0}),De.addInitHook(function(){this.options.attributionControl&&new fi().addTo(this)});var Hu=function(t){return new fi(t)};Ot.Layers=Io,Ot.Zoom=Wi,Ot.Scale=Tt,Ot.Attribution=fi,Zn.layers=bs,Zn.zoom=rl,Zn.scale=Gi,Zn.attribution=Hu;var Vt=be.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vt.addTo=function(t,o){return t.addHandler(o,this),this};var Do={Events:Re},Ki=me.touch?"touchstart mousedown":"mousedown",Jt=ke.extend({options:{clickTolerance:3},initialize:function(t,o,u,p){T(this,p),this._element=t,this._dragStartTarget=o||t,this._preventOutline=u},enable:function(){this._enabled||(Ee(this._dragStartTarget,Ki,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Jt._dragging===this&&this.finishDrag(!0),He(this._dragStartTarget,Ki,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Ui(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Jt._dragging===this&&this.finishDrag();return}if(!(Jt._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Jt._dragging=this,this._preventOutline&&Hi(this._element),Ss(),Be(),!this._moving)){this.fire("down");var o=t.touches?t.touches[0]:t,u=bn(this._element);this._startPoint=new K(o.clientX,o.clientY),this._startPos=Tn(this._element),this._parentScale=dn(u);var p=t.type==="mousedown";Ee(document,p?"mousemove":"touchmove",this._onMove,this),Ee(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var o=t.touches&&t.touches.length===1?t.touches[0]:t,u=new K(o.clientX,o.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,tt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Le(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Le(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),st(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Ke(document.body,"leaflet-dragging"),this._lastTarget&&(Ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),He(document,"mousemove touchmove",this._onMove,this),He(document,"mouseup touchend touchcancel",this._onUp,this),Cs(),Zi();var o=this._moved&&this._moving;this._moving=!1,Jt._dragging=!1,o&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function jo(t,o,u){var p,w=[1,4,2,8],P,A,V,H,Q,oe,we,Ne;for(P=0,oe=t.length;P<oe;P++)t[P]._code=pi(t[P],o);for(V=0;V<4;V++){for(we=w[V],p=[],P=0,oe=t.length,A=oe-1;P<oe;A=P++)H=t[P],Q=t[A],H._code&we?Q._code&we||(Ne=Ms(Q,H,we,o,u),Ne._code=pi(Ne,o),p.push(Ne)):(Q._code&we&&(Ne=Ms(Q,H,we,o,u),Ne._code=pi(Ne,o),p.push(Ne)),p.push(H));t=p}return t}function sl(t,o){var u,p,w,P,A,V,H,Q,oe;if(!t||t.length===0)throw new Error("latlngs not passed");Ft(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var we=ue([0,0]),Ne=ye(t),pt=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());pt<1700&&(we=zo(t));var ct=t.length,jt=[];for(u=0;u<ct;u++){var bt=ue(t[u]);jt.push(o.project(ue([bt.lat-we.lat,bt.lng-we.lng])))}for(V=H=Q=0,u=0,p=ct-1;u<ct;p=u++)w=jt[u],P=jt[p],A=w.y*P.x-P.y*w.x,H+=(w.x+P.x)*A,Q+=(w.y+P.y)*A,V+=A*3;V===0?oe=jt[0]:oe=[H/V,Q/V];var rr=o.unproject(Y(oe));return ue([rr.lat+we.lat,rr.lng+we.lng])}function zo(t){for(var o=0,u=0,p=0,w=0;w<t.length;w++){var P=ue(t[w]);o+=P.lat,u+=P.lng,p++}return ue([o/p,u/p])}var Wu={__proto__:null,clipPolygon:jo,polygonCenter:sl,centroid:zo};function Ls(t,o){if(!o||!t.length)return t.slice();var u=o*o;return t=qu(t,u),t=Ku(t,u),t}function ol(t,o,u){return Math.sqrt(mi(t,o,u,!0))}function Gu(t,o,u){return mi(t,o,u)}function Ku(t,o){var u=t.length,p=typeof Uint8Array<"u"?Uint8Array:Array,w=new p(u);w[0]=w[u-1]=1,Bo(t,w,o,0,u-1);var P,A=[];for(P=0;P<u;P++)w[P]&&A.push(t[P]);return A}function Bo(t,o,u,p,w){var P=0,A,V,H;for(V=p+1;V<=w-1;V++)H=mi(t[V],t[p],t[w],!0),H>P&&(A=V,P=H);P>u&&(o[A]=1,Bo(t,o,u,p,A),Bo(t,o,u,A,w))}function qu(t,o){for(var u=[t[0]],p=1,w=0,P=t.length;p<P;p++)Yu(t[p],t[w])>o&&(u.push(t[p]),w=p);return w<P-1&&u.push(t[P-1]),u}var Vo;function al(t,o,u,p,w){var P=p?Vo:pi(t,u),A=pi(o,u),V,H,Q;for(Vo=A;;){if(!(P|A))return[t,o];if(P&A)return!1;V=P||A,H=Ms(t,o,V,u,w),Q=pi(H,u),V===P?(t=H,P=Q):(o=H,A=Q)}}function Ms(t,o,u,p,w){var P=o.x-t.x,A=o.y-t.y,V=p.min,H=p.max,Q,oe;return u&8?(Q=t.x+P*(H.y-t.y)/A,oe=H.y):u&4?(Q=t.x+P*(V.y-t.y)/A,oe=V.y):u&2?(Q=H.x,oe=t.y+A*(H.x-t.x)/P):u&1&&(Q=V.x,oe=t.y+A*(V.x-t.x)/P),new K(Q,oe,w)}function pi(t,o){var u=0;return t.x<o.min.x?u|=1:t.x>o.max.x&&(u|=2),t.y<o.min.y?u|=4:t.y>o.max.y&&(u|=8),u}function Yu(t,o){var u=o.x-t.x,p=o.y-t.y;return u*u+p*p}function mi(t,o,u,p){var w=o.x,P=o.y,A=u.x-w,V=u.y-P,H=A*A+V*V,Q;return H>0&&(Q=((t.x-w)*A+(t.y-P)*V)/H,Q>1?(w=u.x,P=u.y):Q>0&&(w+=A*Q,P+=V*Q)),A=t.x-w,V=t.y-P,p?A*A+V*V:new K(w,P)}function Ft(t){return!U(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ll(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ft(t)}function ul(t,o){var u,p,w,P,A,V,H,Q;if(!t||t.length===0)throw new Error("latlngs not passed");Ft(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var oe=ue([0,0]),we=ye(t),Ne=we.getNorthWest().distanceTo(we.getSouthWest())*we.getNorthEast().distanceTo(we.getNorthWest());Ne<1700&&(oe=zo(t));var pt=t.length,ct=[];for(u=0;u<pt;u++){var jt=ue(t[u]);ct.push(o.project(ue([jt.lat-oe.lat,jt.lng-oe.lng])))}for(u=0,p=0;u<pt-1;u++)p+=ct[u].distanceTo(ct[u+1])/2;if(p===0)Q=ct[0];else for(u=0,P=0;u<pt-1;u++)if(A=ct[u],V=ct[u+1],w=A.distanceTo(V),P+=w,P>p){H=(P-p)/w,Q=[V.x-H*(V.x-A.x),V.y-H*(V.y-A.y)];break}var bt=o.unproject(Y(Q));return ue([bt.lat+oe.lat,bt.lng+oe.lng])}var cl={__proto__:null,simplify:Ls,pointToSegmentDistance:ol,closestPointOnSegment:Gu,clipSegment:al,_getEdgeIntersection:Ms,_getBitCode:pi,_sqClosestPointOnSegment:mi,isFlat:Ft,_flat:ll,polylineCenter:ul},Fo={project:function(t){return new K(t.lng,t.lat)},unproject:function(t){return new pe(t.y,t.x)},bounds:new O([-180,-90],[180,90])},Uo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new O([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var o=Math.PI/180,u=this.R,p=t.lat*o,w=this.R_MINOR/u,P=Math.sqrt(1-w*w),A=P*Math.sin(p),V=Math.tan(Math.PI/4-p/2)/Math.pow((1-A)/(1+A),P/2);return p=-u*Math.log(Math.max(V,1e-10)),new K(t.lng*o*u,p)},unproject:function(t){for(var o=180/Math.PI,u=this.R,p=this.R_MINOR/u,w=Math.sqrt(1-p*p),P=Math.exp(-t.y/u),A=Math.PI/2-2*Math.atan(P),V=0,H=.1,Q;V<15&&Math.abs(H)>1e-7;V++)Q=w*Math.sin(A),Q=Math.pow((1-Q)/(1+Q),w/2),H=Math.PI/2-2*Math.atan(P*Q)-A,A+=H;return new pe(A*o,t.x*o/u)}},Xu={__proto__:null,LonLat:Fo,Mercator:Uo,SphericalMercator:xt},Qu=d({},Ie,{code:"EPSG:3395",projection:Uo,transformation:(function(){var t=.5/(Math.PI*Uo.R);return Oi(t,.5,-t,.5)})()}),dl=d({},Ie,{code:"EPSG:4326",projection:Fo,transformation:Oi(1/180,1,-1/180,.5)}),Ju=d({},je,{projection:Fo,transformation:Oi(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,o){var u=o.lng-t.lng,p=o.lat-t.lat;return Math.sqrt(u*u+p*p)},infinite:!0});je.Earth=Ie,je.EPSG3395=Qu,je.EPSG3857=Di,je.EPSG900913=mo,je.EPSG4326=dl,je.Simple=Ju;var en=ke.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[g(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[g(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var o=t.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var u=this.getEvents();o.on(u,this),this.once("remove",function(){o.off(u,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});De.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var o=g(t);return this._layers[o]?this:(this._layers[o]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var o=g(t);return this._layers[o]?(this._loaded&&t.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return g(t)in this._layers},eachLayer:function(t,o){for(var u in this._layers)t.call(o,this._layers[u]);return this},_addLayers:function(t){t=t?U(t)?t:[t]:[];for(var o=0,u=t.length;o<u;o++)this.addLayer(t[o])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[g(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var o=g(t);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,o=-1/0,u=this._getZoomSpan();for(var p in this._zoomBoundLayers){var w=this._zoomBoundLayers[p].options;t=w.minZoom===void 0?t:Math.min(t,w.minZoom),o=w.maxZoom===void 0?o:Math.max(o,w.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=t===1/0?void 0:t,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hn=en.extend({initialize:function(t,o){T(this,o),this._layers={};var u,p;if(t)for(u=0,p=t.length;u<p;u++)this.addLayer(t[u])},addLayer:function(t){var o=this.getLayerId(t);return this._layers[o]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var o=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(t){var o=typeof t=="number"?t:this.getLayerId(t);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var o=Array.prototype.slice.call(arguments,1),u,p;for(u in this._layers)p=this._layers[u],p[t]&&p[t].apply(p,o);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,o){for(var u in this._layers)t.call(o,this._layers[u]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return g(t)}}),Vr=function(t,o){return new Hn(t,o)},Ln=Hn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Hn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Hn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new _e;for(var o in this._layers){var u=this._layers[o];t.extend(u.getBounds?u.getBounds():u.getLatLng())}return t}}),hl=function(t,o){return new Ln(t,o)},gi=be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){T(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,o){var u=this._getIconUrl(t);if(!u){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(u,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(p,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(t,o){var u=this.options,p=u[o+"Size"];typeof p=="number"&&(p=[p,p]);var w=Y(p),P=Y(o==="shadow"&&u.shadowAnchor||u.iconAnchor||w&&w.divideBy(2,!0));t.className="leaflet-marker-"+o+" "+(u.className||""),P&&(t.style.marginLeft=-P.x+"px",t.style.marginTop=-P.y+"px"),w&&(t.style.width=w.x+"px",t.style.height=w.y+"px")},_createImg:function(t,o){return o=o||document.createElement("img"),o.src=t,o},_getIconUrl:function(t){return me.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function fl(t){return new gi(t)}var qi=gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof qi.imagePath!="string"&&(qi.imagePath=this._detectIconPath()),(this.options.imagePath||qi.imagePath)+gi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var o=function(u,p,w){var P=p.exec(u);return P&&P[w]};return t=o(t,/^url\((['"])?(.+)\1\)$/,2),t&&o(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Me("div","leaflet-default-icon-path",document.body),o=Ar(t,"background-image")||Ar(t,"backgroundImage");if(document.body.removeChild(t),o=this._stripUrl(o),o)return o;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),$o=Vt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Jt(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Le(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var o=this._marker,u=o._map,p=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,P=Tn(o._icon),A=u.getPixelBounds(),V=u.getPixelOrigin(),H=X(A.min._subtract(V).add(w),A.max._subtract(V).subtract(w));if(!H.contains(P)){var Q=Y((Math.max(H.max.x,P.x)-H.max.x)/(A.max.x-H.max.x)-(Math.min(H.min.x,P.x)-H.min.x)/(A.min.x-H.min.x),(Math.max(H.max.y,P.y)-H.max.y)/(A.max.y-H.max.y)-(Math.min(H.min.y,P.y)-H.min.y)/(A.min.y-H.min.y)).multiplyBy(p);u.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),st(o._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=le(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Ve(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,t)))},_onDrag:function(t){var o=this._marker,u=o._shadow,p=Tn(o._icon),w=o._map.layerPointToLatLng(p);u&&st(u,p),o._latlng=w,t.latlng=w,t.oldLatLng=this._oldLatLng,o.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Mn=en.extend({options:{icon:new qi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,o){T(this,o),this._latlng=ue(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var o=this._latlng;return this._latlng=ue(t),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=t.icon.createIcon(this._icon),p=!1;u!==this._icon&&(this._icon&&this._removeIcon(),p=!0,t.title&&(u.title=t.title),u.tagName==="IMG"&&(u.alt=t.alt||"")),Le(u,o),t.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(u,"focus",this._panOnFocus,this);var w=t.icon.createShadow(this._shadow),P=!1;w!==this._shadow&&(this._removeShadow(),P=!0),w&&(Le(w,o),w.alt=""),this._shadow=w,t.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&P&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&He(this._icon,"focus",this._panOnFocus,this),Ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ye(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&st(this._icon,t),this._shadow&&st(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(Le(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$o)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $o(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&kt(this._icon,t),this._shadow&&kt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var o=this.options.icon.options,u=o.iconSize?Y(o.iconSize):Y(0,0),p=o.iconAnchor?Y(o.iconAnchor):Y(0,0);t.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:u.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ec(t,o){return new Mn(t,o)}var Wn=en.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return T(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ns=Wn.extend({options:{fill:!0,radius:10},initialize:function(t,o){T(this,o),this._latlng=ue(t),this._radius=this.options.radius},setLatLng:function(t){var o=this._latlng;return this._latlng=ue(t),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var o=t&&t.radius||this._radius;return Wn.prototype.setStyle.call(this,t),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,o=this._radiusY||t,u=this._clickTolerance(),p=[t+u,o+u];this._pxBounds=new O(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function pl(t,o){return new Ns(t,o)}var Rs=Ns.extend({initialize:function(t,o,u){if(typeof o=="number"&&(o=d({},u,{radius:o})),T(this,o),this._latlng=ue(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new _e(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Wn.prototype.setStyle,_project:function(){var t=this._latlng.lng,o=this._latlng.lat,u=this._map,p=u.options.crs;if(p.distance===Ie.distance){var w=Math.PI/180,P=this._mRadius/Ie.R/w,A=u.project([o+P,t]),V=u.project([o-P,t]),H=A.add(V).divideBy(2),Q=u.unproject(H).lat,oe=Math.acos((Math.cos(P*w)-Math.sin(o*w)*Math.sin(Q*w))/(Math.cos(o*w)*Math.cos(Q*w)))/w;(isNaN(oe)||oe===0)&&(oe=P/Math.cos(Math.PI/180*o)),this._point=H.subtract(u.getPixelOrigin()),this._radius=isNaN(oe)?0:H.x-u.project([Q,t-oe]).x,this._radiusY=H.y-A.y}else{var we=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(we).x}this._updateBounds()}});function Fr(t,o,u){return new Rs(t,o,u)}var Dt=Wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,o){T(this,o),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var o=1/0,u=null,p=mi,w,P,A=0,V=this._parts.length;A<V;A++)for(var H=this._parts[A],Q=1,oe=H.length;Q<oe;Q++){w=H[Q-1],P=H[Q];var we=p(t,w,P,!0);we<o&&(o=we,u=p(t,w,P))}return u&&(u.distance=Math.sqrt(o)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ul(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,o){return o=o||this._defaultShape(),t=ue(t),o.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new _e,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ft(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var o=[],u=Ft(t),p=0,w=t.length;p<w;p++)u?(o[p]=ue(t[p]),this._bounds.extend(o[p])):o[p]=this._convertLatLngs(t[p]);return o},_project:function(){var t=new O;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),o=new K(t,t);this._rawPxBounds&&(this._pxBounds=new O([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(t,o,u){var p=t[0]instanceof pe,w=t.length,P,A;if(p){for(A=[],P=0;P<w;P++)A[P]=this._map.latLngToLayerPoint(t[P]),u.extend(A[P]);o.push(A)}else for(P=0;P<w;P++)this._projectLatlngs(t[P],o,u)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,u,p,w,P,A,V,H;for(u=0,w=0,P=this._rings.length;u<P;u++)for(H=this._rings[u],p=0,A=H.length;p<A-1;p++)V=al(H[p],H[p+1],t,p,!0),V&&(o[w]=o[w]||[],o[w].push(V[0]),(V[1]!==H[p+1]||p===A-2)&&(o[w].push(V[1]),w++))}},_simplifyPoints:function(){for(var t=this._parts,o=this.options.smoothFactor,u=0,p=t.length;u<p;u++)t[u]=Ls(t[u],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,o){var u,p,w,P,A,V,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,P=this._parts.length;u<P;u++)for(V=this._parts[u],p=0,A=V.length,w=A-1;p<A;w=p++)if(!(!o&&p===0)&&ol(t,V[w],V[p])<=H)return!0;return!1}});function tc(t,o){return new Dt(t,o)}Dt._flat=ll;var Nn=Dt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return sl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var o=Dt.prototype._convertLatLngs.call(this,t),u=o.length;return u>=2&&o[0]instanceof pe&&o[0].equals(o[u-1])&&o.pop(),o},_setLatLngs:function(t){Dt.prototype._setLatLngs.call(this,t),Ft(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ft(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,o=this.options.weight,u=new K(o,o);if(t=new O(t.min.subtract(u),t.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,w=this._rings.length,P;p<w;p++)P=jo(this._rings[p],t,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var o=!1,u,p,w,P,A,V,H,Q;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(P=0,H=this._parts.length;P<H;P++)for(u=this._parts[P],A=0,Q=u.length,V=Q-1;A<Q;V=A++)p=u[A],w=u[V],p.y>t.y!=w.y>t.y&&t.x<(w.x-p.x)*(t.y-p.y)/(w.y-p.y)+p.x&&(o=!o);return o||Dt.prototype._containsPoint.call(this,t,!0)}});function nc(t,o){return new Nn(t,o)}var fn=Ln.extend({initialize:function(t,o){T(this,o),this._layers={},t&&this.addData(t)},addData:function(t){var o=U(t)?t:t.features,u,p,w;if(o){for(u=0,p=o.length;u<p;u++)w=o[u],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var P=this.options;if(P.filter&&!P.filter(t))return this;var A=Yi(t,P);return A?(A.feature=js(t),A.defaultOptions=A.options,this.resetStyle(A),P.onEachFeature&&P.onEachFeature(t,A),this.addLayer(A)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=d({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(o){this._setLayerStyle(o,t)},this)},_setLayerStyle:function(t,o){t.setStyle&&(typeof o=="function"&&(o=o(t.feature)),t.setStyle(o))}});function Yi(t,o){var u=t.type==="Feature"?t.geometry:t,p=u?u.coordinates:null,w=[],P=o&&o.pointToLayer,A=o&&o.coordsToLatLng||Is,V,H,Q,oe;if(!p&&!u)return null;switch(u.type){case"Point":return V=A(p),As(P,t,V,o);case"MultiPoint":for(Q=0,oe=p.length;Q<oe;Q++)V=A(p[Q]),w.push(As(P,t,V,o));return new Ln(w);case"LineString":case"MultiLineString":return H=Ur(p,u.type==="LineString"?0:1,A),new Dt(H,o);case"Polygon":case"MultiPolygon":return H=Ur(p,u.type==="Polygon"?1:2,A),new Nn(H,o);case"GeometryCollection":for(Q=0,oe=u.geometries.length;Q<oe;Q++){var we=Yi({geometry:u.geometries[Q],type:"Feature",properties:t.properties},o);we&&w.push(we)}return new Ln(w);case"FeatureCollection":for(Q=0,oe=u.features.length;Q<oe;Q++){var Ne=Yi(u.features[Q],o);Ne&&w.push(Ne)}return new Ln(w);default:throw new Error("Invalid GeoJSON object.")}}function As(t,o,u,p){return t?t(o,u):new Mn(u,p&&p.markersInheritOptions&&p)}function Is(t){return new pe(t[1],t[0],t[2])}function Ur(t,o,u){for(var p=[],w=0,P=t.length,A;w<P;w++)A=o?Ur(t[w],o-1,u):(u||Is)(t[w]),p.push(A);return p}function Os(t,o){return t=ue(t),t.alt!==void 0?[E(t.lng,o),E(t.lat,o),E(t.alt,o)]:[E(t.lng,o),E(t.lat,o)]}function Ds(t,o,u,p){for(var w=[],P=0,A=t.length;P<A;P++)w.push(o?Ds(t[P],Ft(t[P])?0:o-1,u,p):Os(t[P],p));return!o&&u&&w.length>0&&w.push(w[0].slice()),w}function Xi(t,o){return t.feature?d({},t.feature,{geometry:o}):js(o)}function js(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Zo={toGeoJSON:function(t){return Xi(this,{type:"Point",coordinates:Os(this.getLatLng(),t)})}};Mn.include(Zo),Rs.include(Zo),Ns.include(Zo),Dt.include({toGeoJSON:function(t){var o=!Ft(this._latlngs),u=Ds(this._latlngs,o?1:0,!1,t);return Xi(this,{type:(o?"Multi":"")+"LineString",coordinates:u})}}),Nn.include({toGeoJSON:function(t){var o=!Ft(this._latlngs),u=o&&!Ft(this._latlngs[0]),p=Ds(this._latlngs,u?2:o?1:0,!0,t);return o||(p=[p]),Xi(this,{type:(u?"Multi":"")+"Polygon",coordinates:p})}}),Hn.include({toMultiPoint:function(t){var o=[];return this.eachLayer(function(u){o.push(u.toGeoJSON(t).geometry.coordinates)}),Xi(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(t){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(t);var u=o==="GeometryCollection",p=[];return this.eachLayer(function(w){if(w.toGeoJSON){var P=w.toGeoJSON(t);if(u)p.push(P.geometry);else{var A=js(P);A.type==="FeatureCollection"?p.push.apply(p,A.features):p.push(A)}}}),u?Xi(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function ml(t,o){return new fn(t,o)}var tn=ml,Gn=en.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,o,u){this._url=t,this._bounds=ye(o),T(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Le(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Fi(this._image),this},bringToBack:function(){return this._map&&kn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ye(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",o=this._image=t?this._url:Me("img");if(Le(o,"leaflet-image-layer"),this._zoomAnimated&&Le(o,"leaflet-zoom-animated"),this.options.className&&Le(o,this.options.className),o.onselectstart=C,o.onmousemove=C,o.onload=h(this.fire,this,"load"),o.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(t){var o=this._map.getZoomScale(t.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Yt(this._image,u,o)},_reset:function(){var t=this._image,o=new O(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=o.getSize();st(t,o.min),t.style.width=u.x+"px",t.style.height=u.y+"px"},_updateOpacity:function(){kt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),gl=function(t,o,u){return new Gn(t,o,u)},Ho=Gn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",o=this._image=t?this._url:Me("video");if(Le(o,"leaflet-image-layer"),this._zoomAnimated&&Le(o,"leaflet-zoom-animated"),this.options.className&&Le(o,this.options.className),o.onselectstart=C,o.onmousemove=C,o.onloadeddata=h(this.fire,this,"load"),t){for(var u=o.getElementsByTagName("source"),p=[],w=0;w<u.length;w++)p.push(u[w].src);this._url=u.length>0?p:[o.src];return}U(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var A=Me("source");A.src=this._url[P],o.appendChild(A)}}});function vl(t,o,u){return new Ho(t,o,u)}var Wo=Gn.extend({_initImage:function(){var t=this._image=this._url;Le(t,"leaflet-image-layer"),this._zoomAnimated&&Le(t,"leaflet-zoom-animated"),this.options.className&&Le(t,this.options.className),t.onselectstart=C,t.onmousemove=C}});function Go(t,o,u){return new Wo(t,o,u)}var pn=en.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,o){t&&(t instanceof pe||U(t))?(this._latlng=ue(t),T(this,o)):(T(this,t),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&kt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&kt(this._container,1),this.bringToFront(),this.options.interactive&&(Le(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(kt(this._container,0),this._removeTimeout=setTimeout(h(Ye,void 0,this._container),200)):Ye(this._container),this.options.interactive&&(Ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ue(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fi(this._container),this},bringToBack:function(){return this._map&&kn(this._container),this},_prepareOpen:function(t){var o=this._source;if(!o._map)return!1;if(o instanceof Ln){o=null;var u=this._source._layers;for(var p in u)if(u[p]._map){o=u[p];break}if(!o)return!1;this._source=o}if(!t)if(o.getCenter)t=o.getCenter();else if(o.getLatLng)t=o.getLatLng();else if(o.getBounds)t=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")t.innerHTML=o;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),o=Y(this.options.offset),u=this._getAnchor();this._zoomAnimated?st(this._container,t.add(u)):o=o.add(t).add(u);var p=this._containerBottom=-o.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=p+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});De.include({_initOverlay:function(t,o,u,p){var w=o;return w instanceof t||(w=new t(p).setContent(o)),u&&w.setLatLng(u),w}}),en.include({_initOverlay:function(t,o,u,p){var w=u;return w instanceof t?(T(w,p),w._source=this):(w=o&&!p?o:new t(p,this),w.setContent(u)),w}});var zs=pn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,pn.prototype.openOn.call(this,t)},onAdd:function(t){pn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wn||this._source.on("preclick",hn))},onRemove:function(t){pn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wn||this._source.off("preclick",hn))},getEvents:function(){var t=pn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",o=this._container=Me("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Me("div",t+"-content-wrapper",o);if(this._contentNode=Me("div",t+"-content",u),jr(o),Es(this._contentNode),Ee(o,"contextmenu",hn),this._tipContainer=Me("div",t+"-tip-container",o),this._tip=Me("div",t+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Me("a",t+"-close-button",o);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Ee(p,"click",function(w){tt(w),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,o=t.style;o.width="",o.whiteSpace="nowrap";var u=t.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),o.width=u+1+"px",o.whiteSpace="",o.height="";var p=t.offsetHeight,w=this.options.maxHeight,P="leaflet-popup-scrolled";w&&p>w?(o.height=w+"px",Le(t,P)):Ke(t,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),u=this._getAnchor();st(this._container,o.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,o=parseInt(Ar(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+o,p=this._containerWidth,w=new K(this._containerLeft,-u-this._containerBottom);w._add(Tn(this._container));var P=t.layerPointToContainerPoint(w),A=Y(this.options.autoPanPadding),V=Y(this.options.autoPanPaddingTopLeft||A),H=Y(this.options.autoPanPaddingBottomRight||A),Q=t.getSize(),oe=0,we=0;P.x+p+H.x>Q.x&&(oe=P.x+p-Q.x+H.x),P.x-oe-V.x<0&&(oe=P.x-V.x),P.y+u+H.y>Q.y&&(we=P.y+u-Q.y+H.y),P.y-we-V.y<0&&(we=P.y-V.y),(oe||we)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([oe,we]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Qi=function(t,o){return new zs(t,o)};De.mergeOptions({closePopupOnClick:!0}),De.include({openPopup:function(t,o,u){return this._initOverlay(zs,t,o,u).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),en.include({bindPopup:function(t,o){return this._popup=this._initOverlay(zs,this._popup,t,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Ln||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Qt(t);var o=t.layer||t.target;if(this._popup._source===o&&!(o instanceof Wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=o,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var Ji=pn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){pn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){pn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=pn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",o=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Me("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var o,u,p=this._map,w=this._container,P=p.latLngToContainerPoint(p.getCenter()),A=p.layerPointToContainerPoint(t),V=this.options.direction,H=w.offsetWidth,Q=w.offsetHeight,oe=Y(this.options.offset),we=this._getAnchor();V==="top"?(o=H/2,u=Q):V==="bottom"?(o=H/2,u=0):V==="center"?(o=H/2,u=Q/2):V==="right"?(o=0,u=Q/2):V==="left"?(o=H,u=Q/2):A.x<P.x?(V="right",o=0,u=Q/2):(V="left",o=H+(oe.x+we.x)*2,u=Q/2),t=t.subtract(Y(o,u,!0)).add(oe).add(we),Ke(w,"leaflet-tooltip-right"),Ke(w,"leaflet-tooltip-left"),Ke(w,"leaflet-tooltip-top"),Ke(w,"leaflet-tooltip-bottom"),Le(w,"leaflet-tooltip-"+V),st(w,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&kt(this._container,t)},_animateZoom:function(t){var o=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(o)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$r=function(t,o){return new Ji(t,o)};De.include({openTooltip:function(t,o,u){return this._initOverlay(Ji,t,o,u).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),en.include({bindTooltip:function(t,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ji,this._tooltip,t,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var o=t?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[o](u),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Ln||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&(Ee(o,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Ee(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var o=typeof t.getElement=="function"&&t.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var o=t.latlng,u,p;this._tooltip.options.sticky&&t.originalEvent&&(u=this._map.mouseEventToContainerPoint(t.originalEvent),p=this._map.containerPointToLayerPoint(u),o=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(o)}});var Bs=gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var o=t&&t.tagName==="DIV"?t:document.createElement("div"),u=this.options;if(u.html instanceof Element?(_s(o),o.appendChild(u.html)):o.innerHTML=u.html!==!1?u.html:"",u.bgPos){var p=Y(u.bgPos);o.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function yl(t){return new Bs(t)}gi.Default=qi;var Kn=en.extend({options:{tileSize:256,opacity:1,updateWhenIdle:me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){T(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Ye(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(kn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof K?t:new K(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var o=this.getPane().children,u=-t(-1/0,1/0),p=0,w=o.length,P;p<w;p++)P=o[p].style.zIndex,o[p]!==this._container&&P&&(u=t(u,+P));isFinite(u)&&(this.options.zIndex=u+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!me.ielt9){kt(this._container,this.options.opacity);var t=+new Date,o=!1,u=!1;for(var p in this._tiles){var w=this._tiles[p];if(!(!w.current||!w.loaded)){var P=Math.min(1,(t-w.loaded)/200);kt(w.el,P),P<1?o=!0:(w.active?u=!0:this._onOpaqueTile(w),w.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),o&&(Ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Me("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,o=this.options.maxZoom;if(t!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===t?(this._levels[u].el.style.zIndex=o-Math.abs(t-u),this._onUpdateLevel(u)):(Ye(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var p=this._levels[t],w=this._map;return p||(p=this._levels[t]={},p.el=Me("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=o,p.origin=w.project(w.unproject(w.getPixelOrigin()),t).round(),p.zoom=t,this._setZoomTransform(p,w.getCenter(),w.getZoom()),C(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var t,o,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)o=this._tiles[t],o.retain=o.current;for(t in this._tiles)if(o=this._tiles[t],o.current&&!o.active){var p=o.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var o in this._tiles)this._tiles[o].coords.z===t&&this._removeTile(o)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Ye(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,o,u,p){var w=Math.floor(t/2),P=Math.floor(o/2),A=u-1,V=new K(+w,+P);V.z=+A;var H=this._tileCoordsToKey(V),Q=this._tiles[H];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),A>p?this._retainParent(w,P,A,p):!1)},_retainChildren:function(t,o,u,p){for(var w=2*t;w<2*t+2;w++)for(var P=2*o;P<2*o+2;P++){var A=new K(w,P);A.z=u+1;var V=this._tileCoordsToKey(A),H=this._tiles[V];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);u+1<p&&this._retainChildren(w,P,u+1,p)}},_resetView:function(t){var o=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var o=this.options;return o.minNativeZoom!==void 0&&t<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<t?o.maxNativeZoom:t},_setView:function(t,o,u,p){var w=Math.round(o);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var P=this.options.updateWhenZooming&&w!==this._tileZoom;(!p||P)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(t),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(t,o)},_setZoomTransforms:function(t,o){for(var u in this._levels)this._setZoomTransform(this._levels[u],t,o)},_setZoomTransform:function(t,o,u){var p=this._map.getZoomScale(u,t.zoom),w=t.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(o,u)).round();me.any3d?Yt(t.el,w,p):st(t.el,w)},_resetGrid:function(){var t=this._map,o=t.options.crs,u=this._tileSize=this.getTileSize(),p=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,o.wrapLng[0]],p).x/u.x),Math.ceil(t.project([0,o.wrapLng[1]],p).x/u.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([o.wrapLat[0],0],p).y/u.x),Math.ceil(t.project([o.wrapLat[1],0],p).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var o=this._map,u=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),p=o.getZoomScale(u,this._tileZoom),w=o.project(t,this._tileZoom).floor(),P=o.getSize().divideBy(p*2);return new O(w.subtract(P),w.add(P))},_update:function(t){var o=this._map;if(o){var u=this._clampZoom(o.getZoom());if(t===void 0&&(t=o.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(t),w=this._pxBoundsToTileRange(p),P=w.getCenter(),A=[],V=this.options.keepBuffer,H=new O(w.getBottomLeft().subtract([V,-V]),w.getTopRight().add([V,-V]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var oe=this._tiles[Q].coords;(oe.z!==this._tileZoom||!H.contains(new K(oe.x,oe.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(t,u);return}for(var we=w.min.y;we<=w.max.y;we++)for(var Ne=w.min.x;Ne<=w.max.x;Ne++){var pt=new K(Ne,we);if(pt.z=this._tileZoom,!!this._isValidTile(pt)){var ct=this._tiles[this._tileCoordsToKey(pt)];ct?ct.current=!0:A.push(pt)}}if(A.sort(function(bt,rr){return bt.distanceTo(P)-rr.distanceTo(P)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var jt=document.createDocumentFragment();for(Ne=0;Ne<A.length;Ne++)this._addTile(A[Ne],jt);this._level.el.appendChild(jt)}}}},_isValidTile:function(t){var o=this._map.options.crs;if(!o.infinite){var u=this._globalTileRange;if(!o.wrapLng&&(t.x<u.min.x||t.x>u.max.x)||!o.wrapLat&&(t.y<u.min.y||t.y>u.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(t);return ye(this.options.bounds).overlaps(p)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var o=this._map,u=this.getTileSize(),p=t.scaleBy(u),w=p.add(u),P=o.unproject(p,t.z),A=o.unproject(w,t.z);return[P,A]},_tileCoordsToBounds:function(t){var o=this._tileCoordsToNwSe(t),u=new _e(o[0],o[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var o=t.split(":"),u=new K(+o[0],+o[1]);return u.z=+o[2],u},_removeTile:function(t){var o=this._tiles[t];o&&(Ye(o.el),delete this._tiles[t],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Le(t,"leaflet-tile");var o=this.getTileSize();t.style.width=o.x+"px",t.style.height=o.y+"px",t.onselectstart=C,t.onmousemove=C,me.ielt9&&this.options.opacity<1&&kt(t,this.options.opacity)},_addTile:function(t,o){var u=this._getTilePos(t),p=this._tileCoordsToKey(t),w=this.createTile(this._wrapCoords(t),h(this._tileReady,this,t));this._initTile(w),this.createTile.length<2&&le(h(this._tileReady,this,t,null,w)),st(w,u),this._tiles[p]={el:w,coords:t,current:!0},o.appendChild(w),this.fire("tileloadstart",{tile:w,coords:t})},_tileReady:function(t,o,u){o&&this.fire("tileerror",{error:o,tile:u,coords:t});var p=this._tileCoordsToKey(t);u=this._tiles[p],u&&(u.loaded=+new Date,this._map._fadeAnimated?(kt(u.el,0),Ve(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),o||(Le(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),me.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var o=new K(this._wrapX?x(t.x,this._wrapX):t.x,this._wrapY?x(t.y,this._wrapY):t.y);return o.z=t.z,o},_pxBoundsToTileRange:function(t){var o=this.getTileSize();return new O(t.min.unscaleBy(o).floor(),t.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function er(t){return new Kn(t)}var qn=Kn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,o){this._url=t,o=T(this,o),o.detectRetina&&me.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,o){return this._url===t&&o===void 0&&(o=!0),this._url=t,o||this.redraw(),this},createTile:function(t,o){var u=document.createElement("img");return Ee(u,"load",h(this._tileOnLoad,this,o,u)),Ee(u,"error",h(this._tileOnError,this,o,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(t),u},getTileUrl:function(t){var o={r:me.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-t.y;this.options.tms&&(o.y=u),o["-y"]=u}return z(this._url,d(o,this.options))},_tileOnLoad:function(t,o){me.ielt9?setTimeout(h(t,this,null,o),0):t(null,o)},_tileOnError:function(t,o,u){var p=this.options.errorTileUrl;p&&o.getAttribute("src")!==p&&(o.src=p),t(u,o)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,o=this.options.maxZoom,u=this.options.zoomReverse,p=this.options.zoomOffset;return u&&(t=o-t),t+p},_getSubdomain:function(t){var o=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var t,o;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(o=this._tiles[t].el,o.onload=C,o.onerror=C,!o.complete)){o.src=q;var u=this._tiles[t].coords;Ye(o),delete this._tiles[t],this.fire("tileabort",{tile:o,coords:u})}},_removeTile:function(t){var o=this._tiles[t];if(o)return o.el.setAttribute("src",q),Kn.prototype._removeTile.call(this,t)},_tileReady:function(t,o,u){if(!(!this._map||u&&u.getAttribute("src")===q))return Kn.prototype._tileReady.call(this,t,o,u)}});function Ko(t,o){return new qn(t,o)}var Zr=qn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,o){this._url=t;var u=d({},this.defaultWmsParams);for(var p in o)p in this.options||(u[p]=o[p]);o=T(this,o);var w=o.detectRetina&&me.retina?2:1,P=this.getTileSize();u.width=P.x*w,u.height=P.y*w,this.wmsParams=u},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,qn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var o=this._tileCoordsToNwSe(t),u=this._crs,p=X(u.project(o[0]),u.project(o[1])),w=p.min,P=p.max,A=(this._wmsVersion>=1.3&&this._crs===dl?[w.y,w.x,P.y,P.x]:[w.x,w.y,P.x,P.y]).join(","),V=qn.prototype.getTileUrl.call(this,t);return V+b(this.wmsParams,V,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(t,o){return d(this.wmsParams,t),o||this.redraw(),this}});function _l(t,o){return new Zr(t,o)}qn.WMS=Zr,Ko.wms=_l;var mn=en.extend({options:{padding:.1},initialize:function(t){T(this,t),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Le(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,o){var u=this._map.getZoomScale(o,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,o),P=p.multiplyBy(-u).add(w).subtract(this._map._getNewPixelOrigin(t,o));me.any3d?Yt(this._container,P,u):st(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,o=this._map.getSize(),u=this._map.containerPointToLayerPoint(o.multiplyBy(-t)).round();this._bounds=new O(u,u.add(o.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),qo=mn.extend({options:{tolerance:0},getEvents:function(){var t=mn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ee(t,"mousemove",this._onMouseMove,this),Ee(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ee(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Ve(this._redrawRequest),delete this._ctx,Ye(this._container),He(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var o in this._layers)t=this._layers[o],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mn.prototype._update.call(this);var t=this._bounds,o=this._container,u=t.getSize(),p=me.retina?2:1;st(o,t.min),o.width=p*u.x,o.height=p*u.y,o.style.width=u.x+"px",o.style.height=u.y+"px",me.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){mn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[g(t)]=t;var o=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var o=t._order,u=o.next,p=o.prev;u?u.prev=p:this._drawLast=p,p?p.next=u:this._drawFirst=u,delete t._order,delete this._layers[g(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var o=t.options.dashArray.split(/[, ]+/),u=[],p,w;for(w=0;w<o.length;w++){if(p=Number(o[w]),isNaN(p))return;u.push(p)}t.options._dashArray=u}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var o=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new O,this._redrawBounds.extend(t._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(t._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var o=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,o=this._redrawBounds;if(this._ctx.save(),o){var u=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)t=p.layer,(!o||t._pxBounds&&t._pxBounds.intersects(o))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,o){if(this._drawing){var u,p,w,P,A=t._parts,V=A.length,H=this._ctx;if(V){for(H.beginPath(),u=0;u<V;u++){for(p=0,w=A[u].length;p<w;p++)P=A[u][p],H[p?"lineTo":"moveTo"](P.x,P.y);o&&H.closePath()}this._fillStroke(H,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var o=t._point,u=this._ctx,p=Math.max(Math.round(t._radius),1),w=(Math.max(Math.round(t._radiusY),1)||p)/p;w!==1&&(u.save(),u.scale(1,w)),u.beginPath(),u.arc(o.x,o.y/w,p,0,Math.PI*2,!1),w!==1&&u.restore(),this._fillStroke(u,t)}},_fillStroke:function(t,o){var u=o.options;u.fill&&(t.globalAlpha=u.fillOpacity,t.fillStyle=u.fillColor||u.color,t.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(t.setLineDash&&t.setLineDash(o.options&&o.options._dashArray||[]),t.globalAlpha=u.opacity,t.lineWidth=u.weight,t.strokeStyle=u.color,t.lineCap=u.lineCap,t.lineJoin=u.lineJoin,t.stroke())},_onClick:function(t){for(var o=this._map.mouseEventToLayerPoint(t),u,p,w=this._drawFirst;w;w=w.next)u=w.layer,u.options.interactive&&u._containsPoint(o)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(u))&&(p=u);this._fireEvent(p?[p]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,o)}},_handleMouseOut:function(t){var o=this._hoveredLayer;o&&(Ke(this._container,"leaflet-interactive"),this._fireEvent([o],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,o){if(!this._mouseHoverThrottled){for(var u,p,w=this._drawFirst;w;w=w.next)u=w.layer,u.options.interactive&&u._containsPoint(o)&&(p=u);p!==this._hoveredLayer&&(this._handleMouseOut(t),p&&(Le(this._container,"leaflet-interactive"),this._fireEvent([p],t,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,o,u){this._map._fireDOMEvent(o,u||o.type,t)},_bringToFront:function(t){var o=t._order;if(o){var u=o.next,p=o.prev;if(u)u.prev=p;else return;p?p.next=u:u&&(this._drawFirst=u),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(t)}},_bringToBack:function(t){var o=t._order;if(o){var u=o.next,p=o.prev;if(p)p.next=u;else return;u?u.prev=p:p&&(this._drawLast=p),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(t)}}});function Yo(t){return me.canvas?new qo(t):null}var tr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),wl={_initContainer:function(){this._container=Me("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var o=t._container=tr("shape");Le(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",t._path=tr("path"),o.appendChild(t._path),this._updateStyle(t),this._layers[g(t)]=t},_addPath:function(t){var o=t._container;this._container.appendChild(o),t.options.interactive&&t.addInteractiveTarget(o)},_removePath:function(t){var o=t._container;Ye(o),t.removeInteractiveTarget(o),delete this._layers[g(t)]},_updateStyle:function(t){var o=t._stroke,u=t._fill,p=t.options,w=t._container;w.stroked=!!p.stroke,w.filled=!!p.fill,p.stroke?(o||(o=t._stroke=tr("stroke")),w.appendChild(o),o.weight=p.weight+"px",o.color=p.color,o.opacity=p.opacity,p.dashArray?o.dashStyle=U(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=p.lineCap.replace("butt","flat"),o.joinstyle=p.lineJoin):o&&(w.removeChild(o),t._stroke=null),p.fill?(u||(u=t._fill=tr("fill")),w.appendChild(u),u.color=p.fillColor||p.color,u.opacity=p.fillOpacity):u&&(w.removeChild(u),t._fill=null)},_updateCircle:function(t){var o=t._point.round(),u=Math.round(t._radius),p=Math.round(t._radiusY||u);this._setPath(t,t._empty()?"M0 0":"AL "+o.x+","+o.y+" "+u+","+p+" 0,"+65535*360)},_setPath:function(t,o){t._path.v=o},_bringToFront:function(t){Fi(t._container)},_bringToBack:function(t){kn(t._container)}},nn=me.vml?tr:go,vi=mn.extend({_initContainer:function(){this._container=nn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=nn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ye(this._container),He(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mn.prototype._update.call(this);var t=this._bounds,o=t.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,u.setAttribute("width",o.x),u.setAttribute("height",o.y)),st(u,t.min),u.setAttribute("viewBox",[t.min.x,t.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(t){var o=t._path=nn("path");t.options.className&&Le(o,t.options.className),t.options.interactive&&Le(o,"leaflet-interactive"),this._updateStyle(t),this._layers[g(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Ye(t._path),t.removeInteractiveTarget(t._path),delete this._layers[g(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var o=t._path,u=t.options;o&&(u.stroke?(o.setAttribute("stroke",u.color),o.setAttribute("stroke-opacity",u.opacity),o.setAttribute("stroke-width",u.weight),o.setAttribute("stroke-linecap",u.lineCap),o.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?o.setAttribute("stroke-dasharray",u.dashArray):o.removeAttribute("stroke-dasharray"),u.dashOffset?o.setAttribute("stroke-dashoffset",u.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),u.fill?(o.setAttribute("fill",u.fillColor||u.color),o.setAttribute("fill-opacity",u.fillOpacity),o.setAttribute("fill-rule",u.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(t,o){this._setPath(t,vo(t._parts,o))},_updateCircle:function(t){var o=t._point,u=Math.max(Math.round(t._radius),1),p=Math.max(Math.round(t._radiusY),1)||u,w="a"+u+","+p+" 0 1,0 ",P=t._empty()?"M0 0":"M"+(o.x-u)+","+o.y+w+u*2+",0 "+w+-u*2+",0 ";this._setPath(t,P)},_setPath:function(t,o){t._path.setAttribute("d",o)},_bringToFront:function(t){Fi(t._path)},_bringToBack:function(t){kn(t._path)}});me.vml&&vi.include(wl);function Vs(t){return me.svg||me.vml?new vi(t):null}De.include({getRenderer:function(t){var o=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var o=this._paneRenderers[t];return o===void 0&&(o=this._createRenderer({pane:t}),this._paneRenderers[t]=o),o},_createRenderer:function(t){return this.options.preferCanvas&&Yo(t)||Vs(t)}});var xl=Nn.extend({initialize:function(t,o){Nn.prototype.initialize.call(this,this._boundsToLatLngs(t),o)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ye(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function ic(t,o){return new xl(t,o)}vi.create=nn,vi.pointsToPath=vo,fn.geometryToLayer=Yi,fn.coordsToLatLng=Is,fn.coordsToLatLngs=Ur,fn.latLngToCoords=Os,fn.latLngsToCoords=Ds,fn.getFeature=Xi,fn.asFeature=js,De.mergeOptions({boxZoom:!0});var nr=Vt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){He(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Be(),Ss(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ee(document,{contextmenu:Qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Me("div","leaflet-zoom-box",this._container),Le(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var o=new O(this._point,this._startPoint),u=o.getSize();st(this._box,o.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Ye(this._box),Ke(this._container,"leaflet-crosshair")),Zi(),Cs(),He(document,{contextmenu:Qt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var o=new _e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});De.addInitHook("addHandler","boxZoom",nr),De.mergeOptions({doubleClickZoom:!0});var Sl=Vt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var o=this._map,u=o.getZoom(),p=o.options.zoomDelta,w=t.originalEvent.shiftKey?u-p:u+p;o.options.doubleClickZoom==="center"?o.setZoom(w):o.setZoomAround(t.containerPoint,w)}});De.addInitHook("addHandler","doubleClickZoom",Sl),De.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Xo=Vt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Jt(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Le(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ke(this._map._container,"leaflet-grab"),Ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ye(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var o=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(o),this._prunePositions(o)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,o){return t-(t-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;t.x<o.min.x&&(t.x=this._viscousLimit(t.x,o.min.x)),t.y<o.min.y&&(t.y=this._viscousLimit(t.y,o.min.y)),t.x>o.max.x&&(t.x=this._viscousLimit(t.x,o.max.x)),t.y>o.max.y&&(t.y=this._viscousLimit(t.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,o=Math.round(t/2),u=this._initialWorldOffset,p=this._draggable._newPos.x,w=(p-o+u)%t+o-u,P=(p+o+u)%t-o-u,A=Math.abs(w+u)<Math.abs(P+u)?w:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(t){var o=this._map,u=o.options,p=!u.inertia||t.noInertia||this._times.length<2;if(o.fire("dragend",t),p)o.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,A=u.easeLinearity,V=w.multiplyBy(A/P),H=V.distanceTo([0,0]),Q=Math.min(u.inertiaMaxSpeed,H),oe=V.multiplyBy(Q/H),we=Q/(u.inertiaDeceleration*A),Ne=oe.multiplyBy(-we/2).round();!Ne.x&&!Ne.y?o.fire("moveend"):(Ne=o._limitOffset(Ne,o.options.maxBounds),le(function(){o.panBy(Ne,{duration:we,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});De.addInitHook("addHandler","dragging",Xo),De.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Qo=Vt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ee(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),He(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,o=document.documentElement,u=t.scrollTop||o.scrollTop,p=t.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(p,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var o=this._panKeys={},u=this.keyCodes,p,w;for(p=0,w=u.left.length;p<w;p++)o[u.left[p]]=[-1*t,0];for(p=0,w=u.right.length;p<w;p++)o[u.right[p]]=[t,0];for(p=0,w=u.down.length;p<w;p++)o[u.down[p]]=[0,t];for(p=0,w=u.up.length;p<w;p++)o[u.up[p]]=[0,-1*t]},_setZoomDelta:function(t){var o=this._zoomKeys={},u=this.keyCodes,p,w;for(p=0,w=u.zoomIn.length;p<w;p++)o[u.zoomIn[p]]=t;for(p=0,w=u.zoomOut.length;p<w;p++)o[u.zoomOut[p]]=-t},_addHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){He(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var o=t.keyCode,u=this._map,p;if(o in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(p=this._panKeys[o],t.shiftKey&&(p=Y(p).multiplyBy(3)),u.options.maxBounds&&(p=u._limitOffset(Y(p),u.options.maxBounds)),u.options.worldCopyJump){var w=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(p)));u.panTo(w)}else u.panBy(p)}else if(o in this._zoomKeys)u.setZoom(u.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Qt(t)}}});De.addInitHook("addHandler","keyboard",Qo),De.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var We=Vt.extend({addHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){He(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var o=il(t),u=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var p=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),p),Qt(t)},_performZoom:function(){var t=this._map,o=t.getZoom(),u=this._map.options.zoomSnap||0;t._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,P=u?Math.ceil(w/u)*u:w,A=t._limitZoom(o+(this._delta>0?P:-P))-o;this._delta=0,this._startTime=null,A&&(t.options.scrollWheelZoom==="center"?t.setZoom(o+A):t.setZoomAround(this._lastMousePos,o+A))}});De.addInitHook("addHandler","scrollWheelZoom",We);var Jo=600;De.mergeOptions({tapHold:me.touchNative&&me.safari&&me.mobile,tapTolerance:15});var Hr=Vt.extend({addHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){He(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var o=t.touches[0];this._startPos=this._newPos=new K(o.clientX,o.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(Ee(document,"touchend",tt),Ee(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Jo),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){He(document,"touchend",tt),He(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),He(document,"touchend touchcancel contextmenu",this._cancel,this),He(document,"touchmove",this._onMove,this)},_onMove:function(t){var o=t.touches[0];this._newPos=new K(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,o){var u=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});u._simulated=!0,o.target.dispatchEvent(u)}});De.addInitHook("addHandler","tapHold",Hr),De.mergeOptions({touchZoom:me.touch,bounceAtZoomLimits:!0});var ir=Vt.extend({addHooks:function(){Le(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ke(this._map._container,"leaflet-touch-zoom"),He(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var o=this._map;if(!(!t.touches||t.touches.length!==2||o._animatingZoom||this._zooming)){var u=o.mouseEventToContainerPoint(t.touches[0]),p=o.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(u.add(p)._divideBy(2))),this._startDist=u.distanceTo(p),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),tt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var o=this._map,u=o.mouseEventToContainerPoint(t.touches[0]),p=o.mouseEventToContainerPoint(t.touches[1]),w=u.distanceTo(p)/this._startDist;if(this._zoom=o.getScaleZoom(w,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&w<1||this._zoom>o.getMaxZoom()&&w>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var P=u._add(p)._divideBy(2)._subtract(this._centerPoint);if(w===1&&P.x===0&&P.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),Ve(this._animRequest);var A=h(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(A,this,!0),tt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ve(this._animRequest),He(document,"touchmove",this._onTouchMove,this),He(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});De.addInitHook("addHandler","touchZoom",ir),De.BoxZoom=nr,De.DoubleClickZoom=Sl,De.Drag=Xo,De.Keyboard=Qo,De.ScrollWheelZoom=We,De.TapHold=Hr,De.TouchZoom=ir,s.Bounds=O,s.Browser=me,s.CRS=je,s.Canvas=qo,s.Circle=Rs,s.CircleMarker=Ns,s.Class=be,s.Control=Ot,s.DivIcon=Bs,s.DivOverlay=pn,s.DomEvent=ks,s.DomUtil=Dr,s.Draggable=Jt,s.Evented=ke,s.FeatureGroup=Ln,s.GeoJSON=fn,s.GridLayer=Kn,s.Handler=Vt,s.Icon=gi,s.ImageOverlay=Gn,s.LatLng=pe,s.LatLngBounds=_e,s.Layer=en,s.LayerGroup=Hn,s.LineUtil=cl,s.Map=De,s.Marker=Mn,s.Mixin=Do,s.Path=Wn,s.Point=K,s.PolyUtil=Wu,s.Polygon=Nn,s.Polyline=Dt,s.Popup=zs,s.PosAnimation=Ts,s.Projection=Xu,s.Rectangle=xl,s.Renderer=mn,s.SVG=vi,s.SVGOverlay=Wo,s.TileLayer=qn,s.Tooltip=Ji,s.Transformation=Ii,s.Util=ze,s.VideoOverlay=Ho,s.bind=h,s.bounds=X,s.canvas=Yo,s.circle=Fr,s.circleMarker=pl,s.control=Zn,s.divIcon=yl,s.extend=d,s.featureGroup=hl,s.geoJSON=ml,s.geoJson=tn,s.gridLayer=er,s.icon=fl,s.imageOverlay=gl,s.latLng=ue,s.latLngBounds=ye,s.layerGroup=Vr,s.map=$n,s.marker=ec,s.point=Y,s.polygon=nc,s.polyline=tc,s.popup=Qi,s.rectangle=ic,s.setOptions=T,s.stamp=g,s.svg=Vs,s.svgOverlay=Go,s.tileLayer=Ko,s.tooltip=$r,s.transformation=Oi,s.version=l,s.videoOverlay=vl;var Cl=window.L;s.noConflict=function(){return window.L=Cl,this},window.L=s}))})(Ca,Ca.exports)),Ca.exports}var Va=fS();const pS=dh(Va);function qh(r,n,s){return Object.freeze({instance:r,context:n,container:s})}function Yh(r,n){return n==null?function(l,d){const f=F.useRef();return f.current||(f.current=r(l,d)),f}:function(l,d){const f=F.useRef();f.current||(f.current=r(l,d));const h=F.useRef(l),{instance:y}=f.current;return F.useEffect(function(){h.current!==l&&(n(y,l,h.current),h.current=l)},[y,l,d]),f}}function mS(r,n){F.useEffect(function(){return(n.layerContainer??n.map).addLayer(r.instance),function(){n.layerContainer?.removeLayer(r.instance),n.map.removeLayer(r.instance)}},[n,r])}function yy(r){return function(s){const l=Gh(),d=r(Kh(s,l),l);return py(l.map,s.attribution),vy(d.current,s.eventHandlers),mS(d.current,l),d}}function gS(r,n){const s=Yh(r,n),l=yy(s);return lS(l)}function vS(r,n){const s=Yh(r),l=dS(s,n);return uS(l)}function yS(r,n){const s=Yh(r,n),l=yy(s);return cS(l)}function _S(r,n,s){const{opacity:l,zIndex:d}=n;l!=null&&l!==s.opacity&&r.setOpacity(l),d!=null&&d!==s.zIndex&&r.setZIndex(d)}function _y(){return Gh().map}function th(){return th=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},th.apply(this,arguments)}function wS({bounds:r,boundsOptions:n,center:s,children:l,className:d,id:f,placeholder:h,style:y,whenReady:g,zoom:_,...x},C){const[E]=F.useState({className:d,id:f,style:y}),[N,R]=F.useState(null);F.useImperativeHandle(C,()=>N?.map??null,[N]);const T=F.useCallback(j=>{if(j!==null&&N===null){const z=new Va.Map(j,x);s!=null&&_!=null?z.setView(s,_):r!=null&&z.fitBounds(r,n),g!=null&&z.whenReady(g),R(oS(z))}},[]);F.useEffect(()=>()=>{N?.map.remove()},[N]);const b=N?Cu.createElement(gy,{value:N},l):h??null;return Cu.createElement("div",th({},E,{ref:T}),b)}const xS=F.forwardRef(wS),SS=gS(function({position:n,...s},l){const d=new Va.Marker(n,s);return qh(d,aS(l,{overlayContainer:d}))},function(n,s,l){s.position!==l.position&&n.setLatLng(s.position),s.icon!=null&&s.icon!==l.icon&&n.setIcon(s.icon),s.zIndexOffset!=null&&s.zIndexOffset!==l.zIndexOffset&&n.setZIndexOffset(s.zIndexOffset),s.opacity!=null&&s.opacity!==l.opacity&&n.setOpacity(s.opacity),n.dragging!=null&&s.draggable!==l.draggable&&(s.draggable===!0?n.dragging.enable():n.dragging.disable())}),CS=vS(function(n,s){const l=new Va.Popup(n,s.overlayContainer);return qh(l,s)},function(n,s,{position:l},d){F.useEffect(function(){const{instance:h}=n;function y(_){_.popup===h&&(h.update(),d(!0))}function g(_){_.popup===h&&d(!1)}return s.map.on({popupopen:y,popupclose:g}),s.overlayContainer==null?(l!=null&&h.setLatLng(l),h.openOn(s.map)):s.overlayContainer.bindPopup(h),function(){s.map.off({popupopen:y,popupclose:g}),s.overlayContainer?.unbindPopup(),s.map.removeLayer(h)}},[n,s,d,l])}),PS=yS(function({url:n,...s},l){const d=new Va.TileLayer(n,Kh(s,l));return qh(d,l)},function(n,s,l){_S(n,s,l);const{url:d}=s;d!=null&&d!==l.url&&n.setUrl(d)});const ES=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,s,l)=>l?l.toUpperCase():s.toLowerCase()),ng=r=>{const n=kS(r);return n.charAt(0).toUpperCase()+n.slice(1)},wy=(...r)=>r.filter((n,s,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===s).join(" ").trim(),TS=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var bS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LS=F.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:d="",children:f,iconNode:h,...y},g)=>F.createElement("svg",{ref:g,...bS,width:n,height:n,stroke:r,strokeWidth:l?Number(s)*24/Number(n):s,className:wy("lucide",d),...!f&&!TS(y)&&{"aria-hidden":"true"},...y},[...h.map(([_,x])=>F.createElement(_,x)),...Array.isArray(f)?f:[f]]));const cn=(r,n)=>{const s=F.forwardRef(({className:l,...d},f)=>F.createElement(LS,{ref:f,iconNode:n,className:wy(`lucide-${ES(ng(r))}`,`lucide-${r}`,l),...d}));return s.displayName=ng(r),s};const MS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],NS=cn("arrow-left",MS);const RS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ig=cn("chevron-down",RS);const AS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],xy=cn("chevron-left",AS);const IS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],OS=cn("lightbulb",IS);const DS=[["line",{x1:"2",x2:"5",y1:"12",y2:"12",key:"bvdh0s"}],["line",{x1:"19",x2:"22",y1:"12",y2:"12",key:"1tbv5k"}],["line",{x1:"12",x2:"12",y1:"2",y2:"5",key:"11lu5j"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}],["circle",{cx:"12",cy:"12",r:"7",key:"fim9np"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jS=cn("locate-fixed",DS);const zS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],BS=cn("log-out",zS);const VS=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],FS=cn("map",VS);const US=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Xh=cn("message-circle",US);const $S=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],nh=cn("pen-line",$S);const ZS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sy=cn("send",ZS);const HS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],WS=cn("sparkles",HS);const GS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],KS=cn("trash-2",GS);const qS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YS=cn("x",qS);var rg={},XS=Object.defineProperty,QS=Object.defineProperties,JS=Object.getOwnPropertyDescriptors,sg=Object.getOwnPropertySymbols,eC=Object.prototype.hasOwnProperty,tC=Object.prototype.propertyIsEnumerable,og=(r,n,s)=>n in r?XS(r,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[n]=s,Vn=(r,n)=>{for(var s in n||(n={}))eC.call(n,s)&&og(r,s,n[s]);if(sg)for(var s of sg(n))tC.call(n,s)&&og(r,s,n[s]);return r},ei=(r,n)=>QS(r,JS(n)),nC=class extends Error{constructor(r,n,s){super(n||r.toString(),{cause:s}),this.status=r,this.statusText=n,this.error=s}},iC=async(r,n)=>{var s,l,d,f,h,y;let g=n||{};const _={onRequest:[n?.onRequest],onResponse:[n?.onResponse],onSuccess:[n?.onSuccess],onError:[n?.onError],onRetry:[n?.onRetry]};if(!n||!(n!=null&&n.plugins))return{url:r,options:g,hooks:_};for(const x of n?.plugins||[]){if(x.init){const C=await((s=x.init)==null?void 0:s.call(x,r.toString(),n));g=C.options||g,r=C.url}_.onRequest.push((l=x.hooks)==null?void 0:l.onRequest),_.onResponse.push((d=x.hooks)==null?void 0:d.onResponse),_.onSuccess.push((f=x.hooks)==null?void 0:f.onSuccess),_.onError.push((h=x.hooks)==null?void 0:h.onError),_.onRetry.push((y=x.hooks)==null?void 0:y.onRetry)}return{url:r,options:g,hooks:_}},ag=class{constructor(r){this.options=r}shouldAttemptRetry(r,n){return this.options.shouldRetry?Promise.resolve(r<this.options.attempts&&this.options.shouldRetry(n)):Promise.resolve(r<this.options.attempts)}getDelay(){return this.options.delay}},rC=class{constructor(r){this.options=r}shouldAttemptRetry(r,n){return this.options.shouldRetry?Promise.resolve(r<this.options.attempts&&this.options.shouldRetry(n)):Promise.resolve(r<this.options.attempts)}getDelay(r){return Math.min(this.options.maxDelay,this.options.baseDelay*2**r)}};function sC(r){if(typeof r=="number")return new ag({type:"linear",attempts:r,delay:1e3});switch(r.type){case"linear":return new ag(r);case"exponential":return new rC(r);default:throw new Error("Invalid retry strategy")}}var oC=async r=>{const n={},s=async l=>typeof l=="function"?await l():l;if(r!=null&&r.auth){if(r.auth.type==="Bearer"){const l=await s(r.auth.token);if(!l)return n;n.authorization=`Bearer ${l}`}else if(r.auth.type==="Basic"){const l=s(r.auth.username),d=s(r.auth.password);if(!l||!d)return n;n.authorization=`Basic ${btoa(`${l}:${d}`)}`}else if(r.auth.type==="Custom"){const l=s(r.auth.value);if(!l)return n;n.authorization=`${s(r.auth.prefix)} ${l}`}}return n},aC=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function lC(r){const n=r.headers.get("content-type"),s=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!n)return"json";const l=n.split(";").shift()||"";return aC.test(l)?"json":s.has(l)||l.startsWith("text/")?"text":"blob"}function uC(r){try{return JSON.parse(r),!0}catch{return!1}}function Cy(r){if(r===void 0)return!1;const n=typeof r;return n==="string"||n==="number"||n==="boolean"||n===null?!0:n!=="object"?!1:Array.isArray(r)?!0:r.buffer?!1:r.constructor&&r.constructor.name==="Object"||typeof r.toJSON=="function"}function lg(r){try{return JSON.parse(r)}catch{return r}}function ug(r){return typeof r=="function"}function cC(r){if(r!=null&&r.customFetchImpl)return r.customFetchImpl;if(typeof globalThis<"u"&&ug(globalThis.fetch))return globalThis.fetch;if(typeof window<"u"&&ug(window.fetch))return window.fetch;throw new Error("No fetch implementation found")}async function dC(r){const n=new Headers(r?.headers),s=await oC(r);for(const[l,d]of Object.entries(s||{}))n.set(l,d);if(!n.has("content-type")){const l=hC(r?.body);l&&n.set("content-type",l)}return n}function hC(r){return Cy(r)?"application/json":null}function fC(r){if(!(r!=null&&r.body))return null;const n=new Headers(r?.headers);if(Cy(r.body)&&!n.has("content-type")){for(const[s,l]of Object.entries(r?.body))l instanceof Date&&(r.body[s]=l.toISOString());return JSON.stringify(r.body)}return r.body}function pC(r,n){var s;if(n!=null&&n.method)return n.method.toUpperCase();if(r.startsWith("@")){const l=(s=r.split("@")[1])==null?void 0:s.split("/")[0];return Ey.includes(l)?l.toUpperCase():n!=null&&n.body?"POST":"GET"}return n!=null&&n.body?"POST":"GET"}function mC(r,n){let s;return!(r!=null&&r.signal)&&r!=null&&r.timeout&&(s=setTimeout(()=>n?.abort(),r?.timeout)),{abortTimeout:s,clearTimeout:()=>{s&&clearTimeout(s)}}}var gC=class Py extends Error{constructor(n,s){super(s||JSON.stringify(n,null,2)),this.issues=n,Object.setPrototypeOf(this,Py.prototype)}};async function xu(r,n){let s=await r["~standard"].validate(n);if(s.issues)throw new gC(s.issues);return s.value}var Ey=["get","post","put","patch","delete"],vC=r=>({id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(n,s){var l,d,f,h;const y=((d=(l=r.plugins)==null?void 0:l.find(g=>{var _;return(_=g.schema)!=null&&_.config?n.startsWith(g.schema.config.baseURL||"")||n.startsWith(g.schema.config.prefix||""):!1}))==null?void 0:d.schema)||r.schema;if(y){let g=n;(f=y.config)!=null&&f.prefix&&g.startsWith(y.config.prefix)&&(g=g.replace(y.config.prefix,""),y.config.baseURL&&(n=n.replace(y.config.prefix,y.config.baseURL))),(h=y.config)!=null&&h.baseURL&&g.startsWith(y.config.baseURL)&&(g=g.replace(y.config.baseURL,""));const _=y.schema[g];if(_){let x=ei(Vn({},s),{method:_.method,output:_.output});return s!=null&&s.disableValidation||(x=ei(Vn({},x),{body:_.input?await xu(_.input,s?.body):s?.body,params:_.params?await xu(_.params,s?.params):s?.params,query:_.query?await xu(_.query,s?.query):s?.query})),{url:n,options:x}}}return{url:n,options:s}}}),yC=r=>{async function n(s,l){const d=ei(Vn(Vn({},r),l),{plugins:[...r?.plugins||[],vC(r||{})]});if(r!=null&&r.catchAllError)try{return await ih(s,d)}catch(f){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:f}}}return await ih(s,d)}return n};function _C(r,n){let{baseURL:s,params:l,query:d}=n||{query:{},params:{},baseURL:""},f=r.startsWith("http")?r.split("/").slice(0,3).join("/"):s||"";if(r.startsWith("@")){const x=r.toString().split("@")[1].split("/")[0];Ey.includes(x)&&(r=r.replace(`@${x}/`,"/"))}f.endsWith("/")||(f+="/");let[h,y]=r.replace(f,"").split("?");const g=new URLSearchParams(y);for(const[x,C]of Object.entries(d||{}))C!=null&&g.set(x,String(C));if(l)if(Array.isArray(l)){const x=h.split("/").filter(C=>C.startsWith(":"));for(const[C,E]of x.entries()){const N=l[C];h=h.replace(E,N)}}else for(const[x,C]of Object.entries(l))h=h.replace(`:${x}`,String(C));h=h.split("/").map(encodeURIComponent).join("/"),h.startsWith("/")&&(h=h.slice(1));let _=g.toString();return _=_.length>0?`?${_}`.replace(/\+/g,"%20"):"",f.startsWith("http")?new URL(`${h}${_}`,f):`${f}${h}${_}`}var ih=async(r,n)=>{var s,l,d,f,h,y,g,_;const{hooks:x,url:C,options:E}=await iC(r,n),N=cC(E),R=new AbortController,T=(s=E.signal)!=null?s:R.signal,b=_C(C,E),j=fC(E),z=await dC(E),U=pC(C,E);let G=ei(Vn({},E),{url:b,headers:z,body:j,method:U,signal:T});for(const ze of x.onRequest)if(ze){const be=await ze(G);be instanceof Object&&(G=be)}("pipeTo"in G&&typeof G.pipeTo=="function"||typeof((l=n?.body)==null?void 0:l.pipe)=="function")&&("duplex"in G||(G.duplex="half"));const{clearTimeout:q}=mC(E,R);let B=await N(G.url,G);q();const ie={response:B,request:G};for(const ze of x.onResponse)if(ze){const be=await ze(ei(Vn({},ie),{response:(d=n?.hookOptions)!=null&&d.cloneResponse?B.clone():B}));be instanceof Response?B=be:be instanceof Object&&(B=be.response)}if(B.ok){if(G.method==="HEAD")return{data:"",error:null};const ze=lC(B),be={data:"",response:B,request:G};if(ze==="json"||ze==="text"){const Fe=await B.text(),Re=await((f=G.jsonParser)!=null?f:lg)(Fe);be.data=Re}else be.data=await B[ze]();G!=null&&G.output&&G.output&&!G.disableValidation&&(be.data=await xu(G.output,be.data));for(const Fe of x.onSuccess)Fe&&await Fe(ei(Vn({},be),{response:(h=n?.hookOptions)!=null&&h.cloneResponse?B.clone():B}));return n!=null&&n.throw?be.data:{data:be.data,error:null}}const re=(y=n?.jsonParser)!=null?y:lg,Ce=await B.text(),Ae=uC(Ce),le=Ae?await re(Ce):null,Ve={response:B,responseText:Ce,request:G,error:ei(Vn({},le),{status:B.status,statusText:B.statusText})};for(const ze of x.onError)ze&&await ze(ei(Vn({},Ve),{response:(g=n?.hookOptions)!=null&&g.cloneResponse?B.clone():B}));if(n!=null&&n.retry){const ze=sC(n.retry),be=(_=n.retryAttempt)!=null?_:0;if(await ze.shouldAttemptRetry(be,B)){for(const Re of x.onRetry)Re&&await Re(ie);const Fe=ze.getDelay(be);return await new Promise(Re=>setTimeout(Re,Fe)),await ih(r,ei(Vn({},n),{retryAttempt:be+1}))}}if(n!=null&&n.throw)throw new nC(B.status,B.statusText,Ae?le:Ce);return{data:null,error:ei(Vn({},le),{status:B.status,statusText:B.statusText})}};const Su=Object.create(null),va=r=>{var n,s;return((n=globalThis.process)==null?void 0:n.env)||((s=globalThis.Deno)==null?void 0:s.env.toObject())||globalThis.__env__||(r?Su:globalThis)},En=new Proxy(Su,{get(r,n){return va()[n]??Su[n]},has(r,n){const s=va();return n in s||n in Su},set(r,n,s){const l=va(!0);return l[n]=s,!0},deleteProperty(r,n){if(!n)return!1;const s=va(!0);return delete s[n],!0},ownKeys(){const r=va(!0);return Object.keys(r)}});function ht(r,n){return typeof process<"u"&&rg?rg[r]??n:typeof Deno<"u"?Deno.env.get(r)??n:typeof Bun<"u"?Bun.env[r]??n:n}const ya=1,wt=4,ti=8,an=24,cg={eterm:wt,cons25:wt,console:wt,cygwin:wt,dtterm:wt,gnome:wt,hurd:wt,jfbterm:wt,konsole:wt,kterm:wt,mlterm:wt,mosh:an,putty:wt,st:wt,"rxvt-unicode-24bit":an,terminator:an,"xterm-kitty":an},wC=new Map(Object.entries({APPVEYOR:ti,BUILDKITE:ti,CIRCLECI:an,DRONE:ti,GITEA_ACTIONS:an,GITHUB_ACTIONS:an,GITLAB_CI:ti,TRAVIS:ti})),xC=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/];function SC(){if(ht("FORCE_COLOR")!==void 0)switch(ht("FORCE_COLOR")){case"":case"1":case"true":return wt;case"2":return ti;case"3":return an;default:return ya}if(ht("NODE_DISABLE_COLORS")!==void 0&&ht("NODE_DISABLE_COLORS")!==""||ht("NO_COLOR")!==void 0&&ht("NO_COLOR")!==""||ht("TERM")==="dumb")return ya;if(ht("TMUX"))return an;if("TF_BUILD"in En&&"AGENT_NAME"in En)return wt;if("CI"in En){for(const{0:r,1:n}of wC)if(r in En)return n;return ht("CI_NAME")==="codeship"?ti:ya}if("TEAMCITY_VERSION"in En)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(ht("TEAMCITY_VERSION"))!==null?wt:ya;switch(ht("TERM_PROGRAM")){case"iTerm.app":return!ht("TERM_PROGRAM_VERSION")||/^[0-2]\./.exec(ht("TERM_PROGRAM_VERSION"))!==null?ti:an;case"HyperTerm":case"MacTerm":return an;case"Apple_Terminal":return ti}if(ht("COLORTERM")==="truecolor"||ht("COLORTERM")==="24bit")return an;if(ht("TERM")){if(/truecolor/.exec(ht("TERM"))!==null)return an;if(/^xterm-256/.exec(ht("TERM"))!==null)return ti;const r=ht("TERM").toLowerCase();if(cg[r])return cg[r];if(xC.some(n=>n.exec(r)!==null))return wt}return ht("COLORTERM")?wt:ya}const ni={reset:"\x1B[0m",bright:"\x1B[1m",dim:"\x1B[2m",fg:{red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m"}},rh=["info","success","warn","error","debug"];function CC(r,n){return rh.indexOf(n)<=rh.indexOf(r)}const PC={info:ni.fg.blue,success:ni.fg.green,warn:ni.fg.yellow,error:ni.fg.red,debug:ni.fg.magenta},EC=(r,n,s)=>{const l=new Date().toISOString();return s?`${ni.dim}${l}${ni.reset} ${PC[r]}${r.toUpperCase()}${ni.reset} ${ni.bright}[Better Auth]:${ni.reset} ${n}`:`${l} ${r.toUpperCase()} [Better Auth]: ${n}`},kC=r=>{const n="error",s=SC()!==1,l=(d,f,h=[])=>{if(!CC(n,d))return;const y=EC(d,f,s);{d==="error"?console.error(y,...h):d==="warn"?console.warn(y,...h):console.log(y,...h);return}};return{...Object.fromEntries(rh.map(d=>[d,(...[f,...h])=>l(d,f,h)])),get level(){return n}}};kC();class TC extends Error{constructor(n,s){super(n),this.name="BetterAuthError",this.message=n,this.cause=s,this.stack=""}}function bC(r){try{return(new URL(r).pathname.replace(/\/+$/,"")||"/")!=="/"}catch{throw new TC(`Invalid base URL: ${r}. Please provide a valid base URL.`)}}function Td(r,n="/api/auth"){if(bC(r))return r;const s=r.replace(/\/+$/,"");return!n||n==="/"?s:(n=n.startsWith("/")?n:`/${n}`,`${s}${n}`)}function LC(r,n,s,l){if(r)return Td(r,n);{const d=En.BETTER_AUTH_URL||En.NEXT_PUBLIC_BETTER_AUTH_URL||En.PUBLIC_BETTER_AUTH_URL||En.NUXT_PUBLIC_BETTER_AUTH_URL||En.NUXT_PUBLIC_AUTH_URL||(En.BASE_URL!=="/"?En.BASE_URL:void 0);if(d)return Td(d,n)}if(typeof window<"u"&&window.location)return Td(window.location.origin,n)}let jn=[],_r=0;const pu=4;let ky=r=>{let n=[],s={get(){return s.lc||s.listen(()=>{})(),s.value},lc:0,listen(l){return s.lc=n.push(l),()=>{for(let f=_r+pu;f<jn.length;)jn[f]===l?jn.splice(f,pu):f+=pu;let d=n.indexOf(l);~d&&(n.splice(d,1),--s.lc||s.off())}},notify(l,d){let f=!jn.length;for(let h of n)jn.push(h,s.value,l,d);if(f){for(_r=0;_r<jn.length;_r+=pu)jn[_r](jn[_r+1],jn[_r+2],jn[_r+3]);jn.length=0}},off(){},set(l){let d=s.value;d!==l&&(s.value=l,s.notify(d))},subscribe(l){let d=s.listen(l);return l(s.value),d},value:r};return s};const MC=5,mu=6,gu=10;let NC=(r,n,s,l)=>(r.events=r.events||{},r.events[s+gu]||(r.events[s+gu]=l(d=>{r.events[s].reduceRight((f,h)=>(h(f),f),{shared:{},...d})})),r.events[s]=r.events[s]||[],r.events[s].push(n),()=>{let d=r.events[s],f=d.indexOf(n);d.splice(f,1),d.length||(delete r.events[s],r.events[s+gu](),delete r.events[s+gu])}),RC=1e3,AC=(r,n)=>NC(r,s=>{let l=n(s);l&&r.events[mu].push(l)},MC,s=>{let l=r.listen;r.listen=(...f)=>(!r.lc&&!r.active&&(r.active=!0,s()),l(...f));let d=r.off;return r.events[mu]=[],r.off=()=>{d(),setTimeout(()=>{if(r.active&&!r.lc){r.active=!1;for(let f of r.events[mu])f();r.events[mu]=[]}},RC)},()=>{r.listen=l,r.off=d}});const IC=typeof window>"u",OC=(r,n,s,l)=>{const d=ky({data:null,error:null,isPending:!0,isRefetching:!1,refetch:y=>f(y)}),f=y=>{const g=typeof l=="function"?l({data:d.get().data,error:d.get().error,isPending:d.get().isPending}):l;s(n,{...g,query:{...g?.query,...y?.query},async onSuccess(_){var x;d.set({data:_.data,error:null,isPending:!1,isRefetching:!1,refetch:d.value.refetch}),await((x=g?.onSuccess)==null?void 0:x.call(g,_))},async onError(_){var x,C;const{request:E}=_,N=typeof E.retry=="number"?E.retry:(x=E.retry)==null?void 0:x.attempts,R=E.retryAttempt||0;N&&R<N||(d.set({error:_.error,data:null,isPending:!1,isRefetching:!1,refetch:d.value.refetch}),await((C=g?.onError)==null?void 0:C.call(g,_)))},async onRequest(_){var x;const C=d.get();d.set({isPending:C.data===null,data:C.data,error:null,isRefetching:!0,refetch:d.value.refetch}),await((x=g?.onRequest)==null?void 0:x.call(g,_))}}).catch(_=>{d.set({error:_,data:null,isPending:!1,isRefetching:!1,refetch:d.value.refetch})})};r=Array.isArray(r)?r:[r];let h=!1;for(const y of r)y.subscribe(()=>{IC||(h?f():AC(d,()=>{const g=setTimeout(()=>{h||(f(),h=!0)},0);return()=>{d.off(),y.off(),clearTimeout(g)}}))});return d},DC={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},jC=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,dg={true:!0,false:!1,null:null,undefined:void 0,nan:Number.NaN,infinity:Number.POSITIVE_INFINITY,"-infinity":Number.NEGATIVE_INFINITY},zC=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/;function BC(r){return r instanceof Date&&!isNaN(r.getTime())}function VC(r){const n=zC.exec(r);if(!n)return null;const[,s,l,d,f,h,y,g,_,x,C]=n;let E=new Date(Date.UTC(parseInt(s,10),parseInt(l,10)-1,parseInt(d,10),parseInt(f,10),parseInt(h,10),parseInt(y,10),g?parseInt(g.padEnd(3,"0"),10):0));if(_){const N=(parseInt(x,10)*60+parseInt(C,10))*(_==="+"?-1:1);E.setUTCMinutes(E.getUTCMinutes()+N)}return BC(E)?E:null}function FC(r,n={}){const{strict:s=!1,warnings:l=!1,reviver:d,parseDates:f=!0}=n;if(typeof r!="string")return r;const h=r.trim();if(h.length>0&&h[0]==='"'&&h.endsWith('"')&&!h.slice(1,-1).includes('"'))return h.slice(1,-1);const y=h.toLowerCase();if(y.length<=9&&y in dg)return dg[y];if(!jC.test(h)){if(s)throw new SyntaxError("[better-json] Invalid JSON");return r}if(Object.entries(DC).some(([g,_])=>{const x=_.test(h);return x&&l&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${g} pattern`),x})&&s)throw new Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(h,(g,_)=>{if(g==="__proto__"||g==="constructor"&&_&&typeof _=="object"&&"prototype"in _){l&&console.warn(`[better-json] Dropping "${g}" key to prevent prototype pollution`);return}if(f&&typeof _=="string"){const x=VC(_);if(x)return x}return d?d(g,_):_})}catch(g){if(s)throw g;return r}}function UC(r,n={strict:!0}){return FC(r,n)}const $C={id:"redirect",name:"Redirect",hooks:{onSuccess(r){var n,s;if((n=r.data)!=null&&n.url&&(s=r.data)!=null&&s.redirect&&typeof window<"u"&&window.location&&window.location)try{window.location.href=r.data.url}catch{}}}};function ZC(r){const n=ky(!1);return{session:OC(n,"/get-session",r,{method:"GET"}),$sessionSignal:n}}const HC=(r,n)=>{var s,l,d,f,h,y,g;const _="credentials"in Request.prototype,x=LC(r?.baseURL,r?.basePath)??"/api/auth",C=((s=r?.plugins)==null?void 0:s.flatMap(le=>le.fetchPlugins).filter(le=>le!==void 0))||[],E={id:"lifecycle-hooks",name:"lifecycle-hooks",hooks:{onSuccess:(l=r?.fetchOptions)==null?void 0:l.onSuccess,onError:(d=r?.fetchOptions)==null?void 0:d.onError,onRequest:(f=r?.fetchOptions)==null?void 0:f.onRequest,onResponse:(h=r?.fetchOptions)==null?void 0:h.onResponse}},{onSuccess:N,onError:R,onRequest:T,onResponse:b,...j}=r?.fetchOptions||{},z=yC({baseURL:x,..._?{credentials:"include"}:{},method:"GET",jsonParser(le){return le?UC(le,{strict:!1}):null},customFetchImpl:fetch,...j,plugins:[E,...j.plugins||[],...r!=null&&r.disableDefaultFetchPlugins?[]:[$C],...C]}),{$sessionSignal:U,session:G}=ZC(z),q=r?.plugins||[];let B={},ie={$sessionSignal:U,session:G},re={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"};const Ce=[{signal:"$sessionSignal",matcher(le){return le==="/sign-out"||le==="/update-user"||le.startsWith("/sign-in")||le.startsWith("/sign-up")||le==="/delete-user"||le==="/verify-email"}}];for(const le of q)le.getAtoms&&Object.assign(ie,(y=le.getAtoms)==null?void 0:y.call(le,z)),le.pathMethods&&Object.assign(re,le.pathMethods),le.atomListeners&&Ce.push(...le.atomListeners);const Ae={notify:le=>{ie[le].set(!ie[le].get())},listen:(le,Ve)=>{ie[le].subscribe(Ve)},atoms:ie};for(const le of q)le.getActions&&Object.assign(B,(g=le.getActions)==null?void 0:g.call(le,z,Ae,r));return{get baseURL(){return x},pluginsActions:B,pluginsAtoms:ie,pluginPathMethods:re,atomListeners:Ce,$fetch:z,$store:Ae}};function WC(r){return typeof r=="object"&&r!==null&&"get"in r&&typeof r.get=="function"&&"lc"in r&&typeof r.lc=="number"}function GC(r,n,s){const l=n[r],{fetchOptions:d,query:f,...h}=s||{};return l||(d!=null&&d.method?d.method:h&&Object.keys(h).length>0?"POST":"GET")}function KC(r,n,s,l,d){function f(h=[]){return new Proxy(function(){},{get(y,g){if(typeof g!="string"||g==="then"||g==="catch"||g==="finally")return;const _=[...h,g];let x=r;for(const C of _)if(x&&typeof x=="object"&&C in x)x=x[C];else{x=void 0;break}return typeof x=="function"||WC(x)?x:f(_)},apply:async(y,g,_)=>{const x="/"+h.map(z=>z.replace(/[A-Z]/g,U=>`-${U.toLowerCase()}`)).join("/"),C=_[0]||{},E=_[1]||{},{query:N,fetchOptions:R,...T}=C,b={...E,...R},j=GC(x,s,C);return await n(x,{...b,body:j==="GET"?void 0:{...T,...b?.body||{}},query:N||b?.query,method:j,async onSuccess(z){var U;if(await((U=b?.onSuccess)==null?void 0:U.call(b,z)),!d)return;const G=d.filter(q=>q.matcher(x));if(G.length)for(const q of G){const B=l[q.signal];if(!B)return;const ie=B.get();setTimeout(()=>{B.set(!ie)},10)}}})}})}return f()}function qC(r){return r.charAt(0).toUpperCase()+r.slice(1)}function YC(r){const{pluginPathMethods:n,pluginsActions:s,pluginsAtoms:l,$fetch:d,atomListeners:f,$store:h}=HC(r);let y={};for(const[_,x]of Object.entries(l))y[`use${qC(_)}`]=x;const g={...s,...y,$fetch:d,$store:h};return KC(g,d,n,l,f)}const XC=()=>({id:"anonymous",$InferServerPlugin:{},pathMethods:{"/sign-in/anonymous":"POST"}}),_a="__EDGESPARK_CLIENT__";function QC(){const r=globalThis;return r[_a]||(r[_a]={}),r[_a].snapshots||(r[_a].snapshots={}),r[_a]}function Ty(r){if(typeof window>"u"||typeof fetch>"u"){const n=`[EDGESPARK_CLIENT] ${r} is browser-only. Detected non-browser runtime; run in a browser or provide a client-side environment before calling ${r}.`;throw console.warn(n),new Error(n)}}function JC(r,n,s,l){if(n)for(const d of l){const f=s[d],h=n[d];if(!(f===void 0||h===void 0)&&!tP(h,f))throw eP(r,d,h,f)}}function eP(r,n,s,l){const d=`[EDGESPARK_CLIENT] ${r} conflict on "${n}": existing=${hg(s)}, incoming=${hg(l)}. Destroy the existing instance before reinitializing.`;return new Error(d)}function tP(r,n){if(r===n)return!0;if(typeof r=="object"&&typeof n=="object")try{return JSON.stringify(r)===JSON.stringify(n)}catch{return!1}return!1}function hg(r){if(typeof r=="function")return r.name||"[function]";try{return JSON.stringify(r)}catch{return String(r)}}function nP(){if(typeof window>"u")return null;const r=window.__YW_CONFIG__;if(!r)return null;if(typeof r=="string")try{return JSON.parse(r)}catch{return null}return typeof r=="object"?r:null}function po(){const r=nP();return r?.environment==="staging"}function iP(){if(typeof window>"u")return!1;try{return window.self!==window.top}catch{return!0}}function rP(){return po()&&iP()}const by="EDGESPARK_TOKEN_SYNC",sh="_es_sync";function Ly(r,n){if(po()&&window.opener)try{const s={type:by,token:r,origin:n};window.opener.postMessage(s,"*")}catch{}}function sP(r){if(!po())return()=>{};const n=s=>{const l=s.data;!l||l.type!==by||typeof l.token!="string"||typeof l.origin!="string"||r(l.token,l.origin)};return window.addEventListener("message",n),()=>window.removeEventListener("message",n)}function oP(r){if(!po()||typeof window>"u"||!window.opener)return;const n=new URL(window.location.href);if(n.searchParams.get(sh)!=="1")return;n.searchParams.delete(sh),window.history.replaceState({},"",n.toString());const s=r(),l=Object.entries(s);l.length!==0&&l.forEach(([d,f])=>{Ly(f,d)})}function aP(r){if(!po())return r;try{const n=new URL(r);return n.searchParams.set(sh,"1"),n.toString()}catch{return r}}const My="EDGESPARK_SESSION_TOKEN",lP="default-origin";function uP(r){const n=r||{};return{key:n.key||My,persist:n.persist||"session",hasCustomStorage:!!n.storage}}function cP(r){const n=r||{},s=n.key||My,l=n.persist||"session",d=new Set,f=n.serialize||(b=>b),h=n.deserialize||(b=>b),y=fP(),g=dP(l,n.storage);let _=g?hP(g,s,h,y):{};const x=b=>{d.forEach(j=>{try{j.origin===b&&j.listener()}catch{}})},C=()=>{if(!g)return;const b={byOrigin:{}};if(Object.entries(_).forEach(([j,z])=>{z&&(b.byOrigin[j]=f(z))}),Object.keys(b.byOrigin).length===0){g.removeItem(s);return}g.setItem(s,JSON.stringify(b))},E=(b=y)=>_[b]||null,N=(b,j=y)=>{_[j]!==b&&(_[j]=b,g&&C(),x(j),Ly(b,j))},R=(b=y)=>{delete _[b],C(),x(b)},T=()=>{d.forEach(b=>{try{b.listener()}catch{}})};return sP((b,j)=>{_[j]=b,g&&C(),T()}),oP(()=>({..._})),{getToken:E,setToken:N,clear:R,subscribe(b,j=y){const z={origin:j,listener:b};return d.add(z),()=>d.delete(z)}}}function Ny(r){var n;Ty("TokenStore");const s=QC(),l=uP(r);if(s.tokenStore)return JC("TokenStore",(n=s.snapshots)==null?void 0:n.tokenStore,l,["key","persist","hasCustomStorage"]),s.tokenStore;const d=cP(r);return s.tokenStore=d,s.snapshots&&(s.snapshots.tokenStore=l),d}function dP(r,n){if(n)return n;if(r==="session")return fg(()=>window.sessionStorage);if(r==="local")return fg(()=>window.localStorage)}function fg(r){return{getItem(n){try{return r().getItem(n)}catch{return null}},setItem(n,s){try{r().setItem(n,s)}catch{}},removeItem(n){try{r().removeItem(n)}catch{}}}}function hP(r,n,s,l){try{const d=r.getItem(n);if(!d)return{};try{const h=JSON.parse(d);if(h&&typeof h=="object"&&h.byOrigin&&typeof h.byOrigin=="object"){const y={};return Object.entries(h.byOrigin).forEach(([g,_])=>{try{y[g]=s(_)}catch{y[g]=_}}),y}}catch{}const f=s(d);return f?{[l]:f}:{}}catch{return{}}}function fP(){var r;try{if(typeof window<"u"&&(r=window.location)!=null&&r.origin)return window.location.origin}catch{}return lP}const pP="[HTTP-CALL]",mP=512,gP=new Set(["authorization","cookie","set-cookie","set-auth-token"]);function oh(r){const n=new Headers(r||{}),s={},l=[];let d=!1;return n.forEach((f,h)=>{const y=h.toLowerCase();gP.has(y)?(l.push(y),s[h]=`[redacted len=${f.length}]`,y==="authorization"&&(d=!0)):s[h]=f}),{headers:s,meta:{redactedHeaders:l,hasAuthHeader:d}}}function ah(r,n=mP){if(r==null)return{};const s=r.length;return s<=n?{bodySample:r,bodyLength:s,bodyTruncated:!1}:{bodySample:r.slice(0,n),bodyLength:s,bodyTruncated:!0}}function Ry(r){return r==null?{}:typeof r=="string"?ah(r):r instanceof URLSearchParams?ah(r.toString()):r instanceof FormData?{bodySample:"[omitted FormData]",bodyTruncated:!0}:r instanceof Blob?{bodySample:"[omitted Blob]",bodyLength:r.size,bodyTruncated:!0}:r.arrayBuffer?{bodySample:"[omitted binary]",bodyTruncated:!0}:{bodySample:"[uninspectable body]",bodyTruncated:!0}}async function Ay(r){try{const n=await r.clone().text();return ah(n)}catch{return{bodySample:"[uninspectable body]",bodyTruncated:!0}}}function vP(r){if(r)return r.split(`
`).slice(0,5).join(`
`)}function lh(r){const{requestId:n,start:s,input:l,init:d,res:f,error:h,responseBody:y}=r,g=Date.now()-s,_=typeof l=="string"?l:l.toString(),x=(d.method||"GET").toUpperCase(),C=!!(f!=null&&f.ok)&&!h,E={stage:"request-complete",requestId:n,ts:s,durationMs:g,success:C,request:{method:x,url:_,credentials:d.credentials,headers:oh(d.headers),...Ry(d.body)}};if(f&&(E.response={status:f.status,ok:f.ok,headers:oh(f.headers),...y||{}}),h){const N=h;E.error={message:N?.message,name:N?.name,stackSample:vP(N?.stack)}}return E}function vu(r,n){if(typeof console>"u")return;const s=`${pP} [${r.toUpperCase()}]`;switch(r){case"error":console.error(s,n);break;case"warn":console.warn(s,n);break;case"info":console.info(s,n);break;default:console.debug(s,n)}}const Pa={debug:r=>vu("debug",r),info:r=>vu("info",r),warn:r=>vu("warn",r),error:r=>vu("error",r),redactHeaders:oh,sampleRequestBody:Ry,sampleResponseBody:Ay,buildCompleteEvent:lh},bd="__EDGESPARK_AUTH__",zu="/api/_es/auth",Iy="data-edgespark-auth",J={root:"edgespark-auth",section:"edgespark-auth__section",fields:"edgespark-auth__fields",field:"edgespark-auth__field",label:"edgespark-auth__label",input:"edgespark-auth__input",btn:"edgespark-auth__btn",btnPrimary:"edgespark-auth__btn edgespark-auth__btn--primary",btnOAuth:"edgespark-auth__btn edgespark-auth__btn--oauth",btnOAuthProvider:r=>`edgespark-auth__btn edgespark-auth__btn--oauth edgespark-auth__btn--${r}`,link:"edgespark-auth__link",error:"edgespark-auth__error",warning:"edgespark-auth__warning",info:"edgespark-auth__info",divider:"edgespark-auth__divider",providers:"edgespark-auth__providers",icon:"edgespark-auth__icon",iconProvider:r=>`edgespark-auth__icon edgespark-auth__icon--${r}`,header:"edgespark-auth__header",headerTitle:"edgespark-auth__header-title",headerSubtitle:"edgespark-auth__header-subtitle",logo:"edgespark-auth__logo",highlight:"edgespark-auth__highlight",codeInput:"edgespark-auth__code-input",codeInputDigit:"edgespark-auth__code-input-digit",spinner:"edgespark-auth__spinner",footer:"edgespark-auth__footer",footerText:"edgespark-auth__footer-text",backButton:"edgespark-auth__back-button",guestLink:"edgespark-auth__guest-link",emailIcon:"edgespark-auth__email-icon",iframeModalOverlay:"edgespark-auth__iframe-modal-overlay",iframeModalClose:"edgespark-auth__iframe-modal-close",iframeModalCard:"edgespark-auth__iframe-modal-card",iframeModalHeader:"edgespark-auth__iframe-modal-header",iframeModalIcon:"edgespark-auth__iframe-modal-icon",iframeModalTitle:"edgespark-auth__iframe-modal-title",iframeModalContent:"edgespark-auth__iframe-modal-content",iframeModalBlur:"edgespark-auth__iframe-modal-blur",iframeModalMessage:"edgespark-auth__iframe-modal-message",iframeModalAction:"edgespark-auth__iframe-modal-action",iframeModalActionIcon:"edgespark-auth__iframe-modal-action-icon",skeleton:"edgespark-auth__skeleton",skeletonItem:"edgespark-auth__skeleton-item",skeletonTitle:"edgespark-auth__skeleton-title",skeletonSubtitle:"edgespark-auth__skeleton-subtitle",skeletonInput:"edgespark-auth__skeleton-input",skeletonButton:"edgespark-auth__skeleton-button"};function yP(r,n){try{const s=new URL(r).search;if(!s||s==="?")return null;const l=s.slice(1).split("&");for(const d of l){if(!d)continue;const[f,...h]=d.split("=");if(f===n)return h.join("=")??null}return null}catch{return null}}function _P(r,n){if(typeof window>"u")return null;try{return typeof r=="string"?new URL(r,n||window.location.origin).origin:r instanceof URL?r.origin:r instanceof Request?new URL(r.url,n||window.location.origin).origin:null}catch{return null}}const wP="set-auth-token";function xP(){return`${Date.now()}-${Math.random().toString(16).slice(2)}`}function pg(r){return(typeof r=="string"?r:r.toString()).includes(zu)}function SP(r){return(typeof r=="string"?r:r.toString()).includes(`${zu}/sign-out`)}function Oy(r={}){const n=wP,s=r.tokenStore,l=r.defaultCredentials||"include",d=r.baseOrigin;return async(f,h={})=>{const y=new Headers(h.headers||{}),g=_P(f,d);if(s){const N=g?s.getToken(g):null;N&&y.set("authorization",`Bearer ${N}`)}const _={...h,credentials:h.credentials||l,headers:y},x=po(),C=x?xP():"",E=Date.now();try{const N=await fetch(f,_);if(x){const R=await Ay(N),T=lh({requestId:C,start:E,input:f,init:_,res:N,responseBody:R});N.ok||pg(f)&&N.status<500?Pa.info(T):Pa.warn(T)}if(s&&g){const R=N.headers.get(n);R&&s.setToken(R,g),N.ok&&SP(f)&&s.clear(g)}return N}catch(N){if(x){const R=lh({requestId:C,start:E,input:f,init:_,error:N}),T=N?.code||N?.name;pg(f)&&T?Pa.info(R):Pa.warn(R)}throw N}}}const CP=/^https?:\/\//i;function PP(r,n){return typeof r!="string"||CP.test(r)?r:r.startsWith("/")?`${n.replace(/\/$/,"")}${r}`:`${n.replace(/\/$/,"")}/${r}`}function EP(r){Ty("createHttpClient");const{baseUrl:n,fetchCredentials:s}=r,l=new URL(n).origin,d=Ny({persist:"local"}),f=Oy({tokenStore:d,defaultCredentials:s,baseOrigin:l});return async(h,y={})=>{const g=PP(h,n);return f(g,y)}}class kP extends Error{constructor(n,s,l){super(s),this.name="AuthError",this.code=n,this.meta=l}}const Sr=(r,n,s)=>new kP(r,n,s),TP={config:"/config"};function Dy(r){return typeof r=="string"?r:""}function bP(r){const n=Dy(r);return n?n+zu:""}function LP(r,n){return bP(n)+r}function MP(r){if(!r||typeof r!="object")throw Sr("CONFIG_INVALID","Config must be an object");if(typeof r.disableSignUp!="boolean"||typeof r.enableAnonymous!="boolean")throw Sr("CONFIG_INVALID","Config missing global flags");if(!r.providerEmailPassword||typeof r.providerEmailPassword.enabled!="boolean")throw Sr("CONFIG_INVALID","Email/password provider missing");if(!r.providerGoogle||typeof r.providerGoogle.enabled!="boolean")throw Sr("CONFIG_INVALID","Google provider missing")}async function NP(r){var n,s;const l=Dy(r);if(!l)throw Sr("BASE_URL_UNAVAILABLE","baseUrl must be provided before fetching config");const d=globalThis,f=(n=d[bd])==null?void 0:n.config;if(f&&uh(f))return f;const h=LP(TP.config,l);let y;try{y=await fetch(h,{method:"GET"})}catch(C){throw Sr("CONFIG_NOT_FOUND","Failed to fetch auth config",{cause:C})}if(!y.ok)throw new Error(`HTTP ${y.status} while fetching ${h}`);const g=await y.json(),_=RP(g);MP(_);const x={config:_,version:(s=d[bd])==null?void 0:s.version,lastFetchedAt:new Date().toISOString()};return d[bd]=x,_}function uh(r){if(!r||typeof r!="object"||typeof r.disableSignUp!="boolean"||typeof r.enableAnonymous!="boolean")return!1;const n=r.providerEmailPassword,s=r.providerGoogle;return!(!n||typeof n!="object"||typeof n.enabled!="boolean"||!s||typeof s!="object"||typeof s.enabled!="boolean")}function RP(r){if(uh(r))return r;if(r&&typeof r=="object"&&uh(r.data))return r.data;throw Sr("CONFIG_INVALID","Invalid auth config structure")}function AP(r){const n=[];return r.providerGoogle&&n.push(IP(r.providerGoogle)),{emailPassword:r.providerEmailPassword,oauthProviders:n,disableSignUp:r.disableSignUp,enableAnonymous:r.enableAnonymous}}function Ld(r){var n;return!!((n=r.emailPassword)!=null&&n.enabled)}function mg(r){return r.oauthProviders.filter(n=>n.enabled)}function IP(r){return{id:"google",enabled:!!(r!=null&&r.enabled),config:r}}function Md(r){return!r||typeof r!="string"?!1:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.trim())}function gg(r,n=6){return!r||typeof r!="string"?!1:r.length===n&&/^\d+$/.test(r)}function Nd(r,n){return r===n}function Rd(r){const{level:n,context:s,message:l,reason:d,suggestion:f,rawCallbackUrl:h,fallbackUrl:y,fallbackApplied:g,success:_}=r,x={stage:"callback-url",ts:Date.now(),success:typeof _=="boolean"?_:n==="info",context:s,message:l,reason:d,suggestion:f,rawCallbackUrl:h,fallbackUrl:y,fallbackApplied:g};Pa[n](x)}function OP(r){try{const n=new URL(r);return n.protocol==="http:"||n.protocol==="https:"}catch{return!1}}function Li(r,n){if(typeof window>"u"||typeof window.location>"u"){Rd({level:"warn",context:n,message:"callbackUrl resolution failed; no browser location available",reason:"window is undefined",suggestion:"Call from a browser runtime or pass an absolute URL with protocol",rawCallbackUrl:r,fallbackApplied:!1,success:!1});return}const s=window.location.href,l=r?.trim();return l?OP(l)?new URL(l).toString():(Rd({level:"warn",context:n,message:"callbackUrl invalid; using current location as fallback",reason:"URL must include http/https protocol",suggestion:"Use a full URL starting with https:// or http://",rawCallbackUrl:r,fallbackUrl:s,fallbackApplied:!0,success:!0}),s):(Rd({level:"info",context:n,message:"callbackUrl not provided; using current location",reason:"Missing callbackUrl",suggestion:"Provide a full URL including protocol (e.g. https://example.com)",rawCallbackUrl:r,fallbackUrl:s,fallbackApplied:!0,success:!0}),s)}const DP="https://public.youware.com/youbase/auth";function jy(r){const n=encodeURIComponent(r||"");return`${DP}/${n}.png`}const jP="Sign in with {provider}",zP="{provider} sign-up needs to be completed in a new tab due to preview page limitations.",BP="Preview in New Tab",vg="edgespark-auth-iframe-modal-styles";class VP{constructor(n){this.overlay=null,this.options=n,this.injectStyles()}mount(n=document.body){this.overlay&&this.destroy();const{providerId:s,providerName:l,onClose:d}=this.options,f=this.options.titleTemplate||jP,h=this.options.messageTemplate||zP,y=this.options.actionButtonText||BP,g=f.replace(/{provider}/g,l),_=h.replace(/{provider}/g,l),x=document.createElement("div");x.className=J.iframeModalOverlay;const C=document.createElement("button");C.className=J.iframeModalClose,C.type="button",C.innerHTML=this.getCloseIconSvg(),C.addEventListener("click",()=>{d()}),x.appendChild(C);const E=document.createElement("div");E.className=J.iframeModalCard;const N=document.createElement("div");N.className=J.iframeModalHeader;const R=document.createElement("span");R.className=J.iframeModalIcon,R.style.backgroundImage=`url(${jy(s)})`,N.appendChild(R);const T=document.createElement("span");T.className=J.iframeModalTitle,T.textContent=g,N.appendChild(T),E.appendChild(N);const b=document.createElement("div");b.className=J.iframeModalContent;const j=this.createBackgroundLayer();b.appendChild(j);const z=document.createElement("div");z.className=J.iframeModalBlur;const U=document.createElement("p");U.className=J.iframeModalMessage,U.textContent=_,z.appendChild(U);const G=document.createElement("button");G.className=J.iframeModalAction,G.type="button";const q=document.createElement("span");q.className=J.iframeModalActionIcon,q.innerHTML=this.getArrowIconSvg(),G.appendChild(q);const B=document.createTextNode(y);G.appendChild(B),G.addEventListener("click",()=>{const ie=aP(window.location.href);window.open(ie,"_blank")}),z.appendChild(G),b.appendChild(z),E.appendChild(b),x.appendChild(E),n.appendChild(x),this.overlay=x,document.body.style.overflow="hidden"}destroy(){this.overlay&&this.overlay.parentElement&&this.overlay.parentElement.removeChild(this.overlay),this.overlay=null,document.body.style.overflow=""}injectStyles(){if(document.getElementById(vg))return;const n=document.createElement("style");n.id=vg,n.textContent=`
      /* Iframe OAuth Modal  */
      .${J.iframeModalOverlay} {
        position: fixed;
        inset: 0;
        background: #f6f5f8;
        z-index: 9999;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .${J.iframeModalClose} {
        position: absolute;
        top: 24px;
        right: 24px;
        width: 32px;
        height: 32px;
        border: none;
        background: transparent;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: background-color 0.2s;
      }

      .${J.iframeModalClose}:hover {
        background: rgba(0, 0, 0, 0.06);
      }

      .${J.iframeModalClose} svg {
        width: 20px;
        height: 20px;
        color: rgba(0, 0, 0, 0.6);
      }

      .${J.iframeModalCard} {
        width: 878px;
        max-width: 90vw;
        background: white;
        border-radius: 30px;
        overflow: hidden;
        box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      }

      .${J.iframeModalHeader} {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 16px 20px;
        height: 64px;
        box-sizing: border-box;
        border-bottom: 1px solid rgba(0, 0, 0, 0.06);
      }

      .${J.iframeModalIcon} {
        width: 24px;
        height: 24px;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        flex-shrink: 0;
      }

      .${J.iframeModalTitle} {
        font-size: 14px;
        font-weight: 580;
        color: rgba(0, 0, 0, 0.95);
        line-height: 1.4;
        letter-spacing: -0.21px;
      }

      .${J.iframeModalContent} {
        position: relative;
        min-height: 335px;
      }

      .${J.iframeModalBlur} {
        position: absolute;
        inset: 0;
        background: rgba(255, 255, 255, 0.8);
        backdrop-filter: blur(5px);
        -webkit-backdrop-filter: blur(5px);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 32px;
        padding: 88px;
        box-sizing: border-box;
      }

      .${J.iframeModalMessage} {
        font-size: 16px;
        font-weight: 580;
        color: rgba(0, 0, 0, 0.95);
        text-align: center;
        max-width: 390px;
        line-height: 1.4;
        letter-spacing: -0.16px;
        margin: 0;
      }

      .${J.iframeModalAction} {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        padding: 0 16px 0 12px;
        height: 36px;
        background: #2c2c2c;
        color: rgba(255, 255, 255, 0.9);
        border: none;
        border-radius: 9999px;
        font-size: 14px;
        font-weight: 580;
        cursor: pointer;
        transition: background-color 0.2s;
        line-height: 1.4;
        letter-spacing: -0.21px;
      }

      .${J.iframeModalAction}:hover {
        background: #1a1a1a;
      }

      .${J.iframeModalActionIcon} {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 10.667px;
        height: 10.667px;
      }

      .${J.iframeModalActionIcon} svg {
        width: 100%;
        height: 100%;
      }

      /*  */
      .edgespark-auth__iframe-modal-bg {
        position: absolute;
        top: 40px;
        left: 0;
        right: 0;
        bottom: 0;
        display: flex;
        gap: 48px;
        padding: 0 28px;
        z-index: 1;
      }

      .edgespark-auth__iframe-modal-bg-header {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 4px;
      }

      .edgespark-auth__iframe-modal-bg-title {
        font-size: 34px;
        font-weight: 600;
        color: rgba(0, 0, 0, 0.95);
        line-height: 1.2;
      }

      .edgespark-auth__iframe-modal-bg-subtitle {
        font-size: 14px;
        font-weight: 420;
        color: rgba(0, 0, 0, 0.4);
        line-height: 1.3;
        letter-spacing: 0.042px;
      }

      .edgespark-auth__iframe-modal-bg-form {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }

      .edgespark-auth__iframe-modal-bg-input {
        height: 64px;
        border: 1px solid rgba(0, 0, 0, 0.95);
        border-radius: 12px;
        box-sizing: border-box;
      }

      .edgespark-auth__iframe-modal-bg-input-small {
        width: 127px;
        height: 20px;
        background: rgba(0, 0, 0, 0.95);
        border-radius: 12px;
        opacity: 0.2;
      }

      .edgespark-auth__iframe-modal-bg-input-medium {
        height: 32px;
        background: rgba(0, 0, 0, 0.95);
        border-radius: 12px;
        opacity: 0.2;
      }

      .edgespark-auth__iframe-modal-bg-button {
        position: absolute;
        bottom: 30px;
        right: 28px;
        width: 100px;
        height: 48px;
        background: #0d0d0d;
        border-radius: 9999px;
        opacity: 0.15;
      }

      /*  */
      .${J.iframeModalBlur} {
        z-index: 2;
      }

      /* ==========  ========== */
      @media (max-width: 768px) {
        .${J.iframeModalCard} {
          width: 100%;
          max-width: 100%;
          height: 100%;
          border-radius: 0;
        }

        .${J.iframeModalClose} {
          top: 16px;
          right: 16px;
        }

        .${J.iframeModalContent} {
          min-height: calc(100vh - 64px);
        }

        .${J.iframeModalBlur} {
          padding: 40px 24px;
        }

        .${J.iframeModalMessage} {
          font-size: 14px;
          max-width: 100%;
        }

        /*  */
        .edgespark-auth__iframe-modal-bg {
          flex-direction: column;
          gap: 24px;
          padding: 0 20px;
          top: 24px;
        }

        .edgespark-auth__iframe-modal-bg-header {
          flex: none;
        }

        .edgespark-auth__iframe-modal-bg-title {
          font-size: 24px;
        }

        .edgespark-auth__iframe-modal-bg-subtitle {
          font-size: 12px;
        }

        .edgespark-auth__iframe-modal-bg-form {
          flex: none;
        }

        .edgespark-auth__iframe-modal-bg-input {
          height: 48px;
        }

        .edgespark-auth__iframe-modal-bg-input-small {
          width: 80px;
          height: 16px;
        }

        .edgespark-auth__iframe-modal-bg-input-medium {
          height: 24px;
        }

        .edgespark-auth__iframe-modal-bg-button {
          bottom: 20px;
          right: 20px;
          width: 80px;
          height: 40px;
        }
      }
    `,document.head.appendChild(n)}createBackgroundLayer(){const n=document.createElement("div");n.className="edgespark-auth__iframe-modal-bg";const s=document.createElement("div");s.className="edgespark-auth__iframe-modal-bg-header";const l=document.createElement("div");l.className="edgespark-auth__iframe-modal-bg-title",l.textContent="Sign in",s.appendChild(l);const d=document.createElement("div");d.className="edgespark-auth__iframe-modal-bg-subtitle",d.textContent="Sign up to Continue",s.appendChild(d),n.appendChild(s);const f=document.createElement("div");f.className="edgespark-auth__iframe-modal-bg-form";const h=document.createElement("div");h.className="edgespark-auth__iframe-modal-bg-input",f.appendChild(h);const y=document.createElement("div");y.className="edgespark-auth__iframe-modal-bg-input-small",f.appendChild(y);const g=document.createElement("div");g.className="edgespark-auth__iframe-modal-bg-input-medium",f.appendChild(g),n.appendChild(f);const _=document.createElement("div");return _.className="edgespark-auth__iframe-modal-bg-button",n.appendChild(_),n}getCloseIconSvg(){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </svg>`}getArrowIconSvg(){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
      <line x1="7" y1="17" x2="17" y2="7"></line>
      <polyline points="7 7 17 7 17 17"></polyline>
    </svg>`}}class FP{constructor(n){this.options=n,this.listeners=new Set,this.countdownInterval=null,this.iframeModal=null,this.tokenUnsubscribe=null,this.state={flow:"sign-in",mode:"email-password",error:null,data:{},loading:!1}}getState(){return{...this.state}}subscribe(n){return this.listeners.add(n),()=>this.listeners.delete(n)}setState(n){this.state={...this.state,...n},this.notifyListeners()}notifyListeners(){this.listeners.forEach(n=>{try{n(this.getState())}catch(s){console.error("Listener error:",s)}})}transitionTo(n,s){this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null);let l;(n==="verify-code"||n==="verify-email"||n==="set-new-password")&&(l=60);const d={...s||{}};d.email===void 0&&this.state.data.email&&(d.email=this.state.data.email),d.name===void 0&&this.state.data.name&&(d.name=this.state.data.name),this.setState({flow:n,error:null,errorMessage:void 0,oauthLoadingProvider:void 0,data:d,resendCountdown:l}),(n==="verify-code"||n==="verify-email"||n==="set-new-password")&&setTimeout(()=>{this.state.resendCountdown||(this.state.resendCountdown=60),this.startCountdownTimer()},0)}updateData(n){this.state={...this.state,data:{...this.state.data,...n}}}setError(n,s){this.setState({error:n,errorMessage:s||this.getErrorMessage(n),loading:!1})}clearError(){this.setState({error:null,errorMessage:void 0})}getErrorMessage(n){if(!n)return"";const{errors:s}=this.options.labels;switch(n){case"INVALID_EMAIL":case"INVALID_CODE":case"CODE_EXPIRED":case"PASSWORD_MISMATCH":case"ACCOUNT_EXISTS":case"ACCOUNT_NOT_FOUND":case"WRONG_PASSWORD":case"EMAIL_NOT_VERIFIED":case"EMAIL_MISMATCH":case"GENERIC_ERROR":return s?.[n]||this.options.labels.common.unknownError;default:return this.options.labels.common.unknownError}}async handleSignIn(){var n,s,l,d,f;const{email:h,password:y}=this.state.data;if(!h||!Md(h)){this.setError("INVALID_EMAIL");return}if(!y){this.setError("GENERIC_ERROR",this.options.labels.errors.required);return}this.setState({loading:!0,error:null,anonymousLoading:!1});try{const g=(s=(n=this.options.config.emailPassword)==null?void 0:n.config)==null?void 0:s.requireEmailVerification,_=Li(this.resolveEmailCallback(g),g?"emailVerification":"emailPassword"),x={email:h,password:y};_&&(x.callbackURL=_);const C=await this.options.authClient.signIn.email(x);if(C.error){await this.handleBetterAuthError(C.error,{email:h});return}if(this.setState({loading:!1}),(f=(d=this.options).onLogin)==null||f.call(d,(l=C.data)==null?void 0:l.user),_&&this.redirectTo(_))return;this.transitionTo("success")}catch(g){await this.handleBetterAuthError(g,{email:h})}}async handleSignUp(){var n,s,l;const{email:d,password:f,confirmPassword:h}=this.state.data;if(!d||!Md(d)){this.setError("INVALID_EMAIL");return}if(!h||!Nd(f||"",h)){this.setError("PASSWORD_MISMATCH");return}this.setState({loading:!0,error:null,anonymousLoading:!1});try{const y=(n=this.options.redirects)==null?void 0:n.emailVerification,g=Li(y,"emailVerification"),_={name:d.split("@")[0]||"User",email:d,password:f};g&&(_.callbackURL=g);const x=await this.options.authClient.signUp.email(_);if(x.error){await this.handleBetterAuthError(x.error,{email:d});return}this.setState({loading:!1}),(l=(s=this.options.config.emailPassword)==null?void 0:s.config)!=null&&l.requireEmailVerification?this.transitionTo("verify-email",{email:d}):this.transitionTo("sign-in")}catch(y){await this.handleBetterAuthError(y,{email:d})}}async handleOAuthSignIn(n){var s,l,d,f,h,y;if(rP()){this.showIframeOAuthModal(n);return}this.setState({oauthLoadingProvider:n,error:null});try{const g=await this.options.authClient.signIn.social({provider:n,callbackURL:Li((l=(s=this.options.redirects)==null?void 0:s.oauth)==null?void 0:l.success,"oauth.success"),newUserCallbackURL:Li((f=(d=this.options.redirects)==null?void 0:d.oauth)==null?void 0:f.newUser,"oauth.newUser"),errorCallbackURL:Li((y=(h=this.options.redirects)==null?void 0:h.oauth)==null?void 0:y.error,"oauth.error")});if(g.error){await this.handleBetterAuthError(g.error),this.setState({oauthLoadingProvider:void 0});return}}catch(g){await this.handleBetterAuthError(g),this.setState({oauthLoadingProvider:void 0})}}showIframeOAuthModal(n){this.destroyIframeModal(),this.setState({oauthLoadingProvider:n,error:null});const s=n.charAt(0).toUpperCase()+n.slice(1),l=this.options.labels.iframeModal;this.iframeModal=new VP({providerId:n,providerName:s,titleTemplate:l?.titleTemplate,messageTemplate:l?.messageTemplate,actionButtonText:l?.actionButton,onClose:()=>{this.destroyIframeModal(),this.setState({oauthLoadingProvider:void 0})}}),this.iframeModal.mount(),this.options.onAuthStateChange&&(this.tokenUnsubscribe=this.options.onAuthStateChange(async()=>{var d,f,h;this.destroyIframeModal(),this.setState({oauthLoadingProvider:void 0});try{const y=await this.options.authClient.getSession();(d=y?.data)!=null&&d.user&&this.options.onLogin&&this.options.onLogin(y.data.user);const g=Li((h=(f=this.options.redirects)==null?void 0:f.oauth)==null?void 0:h.success,"oauth.success");if(g&&this.redirectTo(g))return}catch{}}))}destroyIframeModal(){this.tokenUnsubscribe&&(this.tokenUnsubscribe(),this.tokenUnsubscribe=null),this.iframeModal&&(this.iframeModal.destroy(),this.iframeModal=null)}async handleResendPasswordResetCode(){const{email:n}=this.state.data;if(!n){this.setError("GENERIC_ERROR",this.options.labels.errors.required);return}try{const s=await this.options.authClient.forgetPassword.emailOtp({email:n});if(s.error){await this.handleBetterAuthError(s.error);return}this.startResendCountdown(60)}catch(s){await this.handleBetterAuthError(s)}}async handleAnonymousSignIn(){var n,s,l,d;if(!this.options.config.enableAnonymous){this.setError("GENERIC_ERROR",this.options.labels.common.unknownError);return}this.setState({anonymousLoading:!0,error:null,loading:this.state.loading});try{const f=Li((n=this.options.redirects)==null?void 0:n.anonymous,"anonymous"),h=await this.options.authClient.signIn.anonymous(f?{callbackURL:f}:{});if(h!=null&&h.error){await this.handleBetterAuthError(h.error),this.setState({anonymousLoading:!1});return}if(this.setState({anonymousLoading:!1}),(d=(l=this.options).onLogin)==null||d.call(l,(s=h?.data)==null?void 0:s.user),f&&this.redirectTo(f))return;this.transitionTo("success")}catch(f){this.setState({anonymousLoading:!1}),await this.handleBetterAuthError(f)}}async handleResendVerificationEmail(){var n,s,l,d,f;const{email:h}=this.state.data;if(!h){this.setError("GENERIC_ERROR",this.options.labels.errors.required);return}this.setState({loading:!0,error:null,anonymousLoading:!1});try{const y=await this.options.authClient.sendVerificationEmail({email:h,callbackURL:Li((n=this.options.redirects)==null?void 0:n.emailVerification,"emailVerification")});if(y!=null&&y.error){this.setError("GENERIC_ERROR",y.error.message),(l=(s=this.options).onError)==null||l.call(s,y.error);return}this.setState({loading:!1}),this.startResendCountdown(60)}catch(y){this.setError("GENERIC_ERROR",y?.message),(f=(d=this.options).onError)==null||f.call(d,y)}}async handleVerifyCode(){var n,s,l,d,f;const{email:h,code:y}=this.state.data;if(!y||!gg(y)){this.setError("INVALID_CODE",this.options.labels.verifyCode.invalidCode);return}this.setState({loading:!0,error:null,anonymousLoading:!1});try{await new Promise(_=>setTimeout(_,1e3)),this.setState({loading:!1});const g=await this.options.authClient.getSession();(l=(s=this.options).onLogin)==null||l.call(s,(n=g?.data)==null?void 0:n.user),this.transitionTo("success")}catch(g){this.setError("GENERIC_ERROR",g?.message),(f=(d=this.options).onError)==null||f.call(d,g)}}async handleSendPasswordReset(){var n,s,l,d;const{email:f}=this.state.data;if(!f||!Md(f)){this.setError("INVALID_EMAIL");return}this.setState({loading:!0,error:null,anonymousLoading:!1});try{const h=await this.options.authClient.forgetPassword.emailOtp({email:f});if(h.error){this.setError("GENERIC_ERROR",h.error.message),(s=(n=this.options).onError)==null||s.call(n,h.error),this.setState({loading:!1});return}this.setState({loading:!1}),this.transitionTo("set-new-password",{email:f})}catch(h){this.setError("GENERIC_ERROR",h?.message),(d=(l=this.options).onError)==null||d.call(l,h),this.setState({loading:!1})}}async handleSetNewPassword(){var n,s,l,d;const{email:f,code:h,password:y,confirmPassword:g}=this.state.data;if(!h||!gg(h)){this.setError("INVALID_CODE",this.options.labels.verifyCode.invalidCode);return}if(!Nd(y||"",g||"")){this.setError("PASSWORD_MISMATCH");return}this.setState({loading:!0,error:null,anonymousLoading:!1});try{const _=await this.options.authClient.emailOtp.resetPassword({email:f,otp:h,password:y});if(_.error){const x=_.error.code||_.error.name;x==="INVALID_OTP"?this.setError("INVALID_CODE",this.options.labels.verifyCode.invalidCode):x==="OTP_EXPIRED"?this.setError("CODE_EXPIRED",this.options.labels.verifyCode.codeExpired):x==="TOO_MANY_ATTEMPTS"?this.setError("GENERIC_ERROR",this.getErrorMessageByCode(x,_.error.message)):this.setError("GENERIC_ERROR",_.error.message),(s=(n=this.options).onError)==null||s.call(n,_.error),this.setState({loading:!1});return}this.setState({loading:!1}),this.transitionTo("success",{successType:"password-reset"})}catch(_){this.setError("GENERIC_ERROR",_?.message),(d=(l=this.options).onError)==null||d.call(l,_),this.setState({loading:!1})}}async handleChangePassword(n=!1){var s,l,d,f,h,y,g;const{currentPassword:_,newPassword:x,confirmPassword:C}=this.state.data;if(!_){this.setError("GENERIC_ERROR",this.options.labels.errors.required);return}if(!Nd(x||"",C||"")){this.setError("PASSWORD_MISMATCH");return}this.setState({loading:!0,error:null,anonymousLoading:!1});try{const E=await this.options.authClient.changePassword({currentPassword:_,newPassword:x,revokeOtherSessions:n});if(E!=null&&E.error){this.setError("GENERIC_ERROR",E.error.message),(l=(s=this.options).onError)==null||l.call(s,E.error);return}this.setState({loading:!1});const N=await this.options.authClient.getSession();(h=(f=this.options).onLogin)==null||h.call(f,(d=N?.data)==null?void 0:d.user),this.transitionTo("success",{successType:"password-changed"})}catch(E){this.setError("GENERIC_ERROR",E?.message),(g=(y=this.options).onError)==null||g.call(y,E)}}resolveEmailCallback(n){var s,l;return n?(s=this.options.redirects)==null?void 0:s.emailVerification:(l=this.options.redirects)==null?void 0:l.emailPassword}redirectTo(n){return!n||typeof window>"u"?!1:(window.location.assign(n),!0)}startResendCountdown(n=60){this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null),this.state={...this.state,resendCountdown:n},this.notifyCountdownUpdate(),this.startCountdownTimer()}startCountdownTimer(){this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null),!(typeof window>"u")&&(this.countdownInterval=window.setInterval(()=>{const n=this.state.resendCountdown||0;n<=1?(this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=null),this.state={...this.state,resendCountdown:void 0},this.notifyCountdownUpdate()):(this.state={...this.state,resendCountdown:n-1},this.notifyCountdownUpdate())},1e3))}notifyCountdownUpdate(){const n=this.getState();this.listeners.forEach(s=>{try{s({...n,resendCountdown:this.state.resendCountdown})}catch(l){console.error("Listener error:",l)}})}async handleBetterAuthError(n,s){var l,d,f,h,y;const g=n&&typeof n=="object"&&n.code||"UNKNOWN",_=n&&typeof n=="object"&&n.message||this.options.labels.common.unknownError;switch(g==="UNKNOWN"&&console.error("[EDGESPARK_AUTH] Missing error code",{code:n?.code,message:_,error:n}),g){case"EMAIL_NOT_VERIFIED":this.setError("GENERIC_ERROR",this.getErrorMessageByCode(g,_)),this.transitionTo("verify-email",{email:s?.email}),this.startResendCountdown(60);try{await this.options.authClient.sendVerificationEmail({email:s?.email,callbackURL:Li((l=this.options.redirects)==null?void 0:l.emailVerification,"emailVerification")})}catch(x){(f=(d=this.options).onError)==null||f.call(d,x)}break;case"USER_ALREADY_EXISTS":case"USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL":this.setError("GENERIC_ERROR",this.getErrorMessageByCode(g,_));break;case"USER_NOT_FOUND":case"ACCOUNT_NOT_FOUND":case"CREDENTIAL_ACCOUNT_NOT_FOUND":this.setError("GENERIC_ERROR",this.getErrorMessageByCode(g,_));break;case"INVALID_EMAIL_OR_PASSWORD":case"INVALID_PASSWORD":case"INVALID_TOKEN":this.setError("GENERIC_ERROR",this.getErrorMessageByCode(g,_));break;case"INVALID_EMAIL":this.setError("GENERIC_ERROR",this.getErrorMessageByCode(g,_));break;case"PASSWORD_TOO_SHORT":case"PASSWORD_TOO_LONG":this.setError("GENERIC_ERROR",this.getErrorMessageByCode(g,_));break;default:this.setError("GENERIC_ERROR",this.getErrorMessageByCode(g,_))}(y=(h=this.options).onError)==null||y.call(h,n)}getErrorMessageByCode(n,s){var l,d;return((d=(l=this.options.labels)==null?void 0:l.errors)==null?void 0:d[n])||s||this.options.labels.common.unknownError}}class wr{constructor(n){if(this.config=n,this.element=document.createElement("div"),this.element.className=J.header,n.showLogo){const l=this.createLogo();this.element.appendChild(l)}const s=document.createElement("h1");if(s.className=J.headerTitle,s.textContent=n.title,this.element.appendChild(s),n.subtitle){const l=this.createSubtitle();this.element.appendChild(l)}}createLogo(){const n=document.createElement("div");return n.className=J.logo,n}createSubtitle(){const n=document.createElement("div");if(n.className=J.headerSubtitle,this.config.highlightedText){const s=this.config.subtitle.split(this.config.highlightedText);if(s.length>1){n.textContent=s[0];const l=document.createElement("span");l.className=J.highlight,l.textContent=this.config.highlightedText,n.appendChild(l);const d=document.createTextNode(s[1]);n.appendChild(d)}else n.textContent=this.config.subtitle}else n.textContent=this.config.subtitle;return n}update(n){if(n.title){const s=this.element.querySelector(`.${J.headerTitle}`);s&&(s.textContent=n.title)}if(n.subtitle!==void 0){const s=this.element.querySelector(`.${J.headerSubtitle}`);if(s&&s.remove(),n.subtitle){this.config.subtitle=n.subtitle,this.config.highlightedText=n.highlightedText;const l=this.createSubtitle();this.element.appendChild(l)}}}destroy(){}}class zn{constructor(n){this.config=n,this.cleanup=[],this.element=document.createElement("div"),this.element.className=J.field;const s=document.createElement("label");s.className=J.label,s.textContent=n.label,this.input=document.createElement("input"),this.input.className=J.input,this.input.type=n.type,this.input.name=n.name,this.input.required=n.required??!1,this.input.disabled=n.disabled??!1,this.input.value=n.value||"";const l=n.placeholder??n.label;l&&(this.input.placeholder=l),n.autocomplete&&(this.input.autocomplete=n.autocomplete),this.errorDiv=document.createElement("div"),this.errorDiv.className=J.error,this.errorDiv.style.display="none",n.error&&(this.errorDiv.textContent=n.error,this.errorDiv.style.display="block"),this.element.appendChild(s),this.element.appendChild(this.input),this.element.appendChild(this.errorDiv),this.bindEvents()}bindEvents(){const n=s=>{s.target};this.input.addEventListener("input",n),this.cleanup.push(()=>this.input.removeEventListener("input",n))}getValue(){return this.input.value.trim()}setValue(n){this.input.value=n}setError(n){this.errorDiv.textContent=n,this.errorDiv.style.display="block",this.input.classList.add("error")}clearError(){this.errorDiv.style.display="none",this.input.classList.remove("error")}setDisabled(n){this.input.disabled=n}focus(){this.input.focus()}destroy(){this.cleanup.forEach(n=>{try{n()}catch{}}),this.cleanup=[]}}class yg{constructor(n){this.inputs=[],this.cleanup=[],this.config=n,this.element=document.createElement("div"),this.element.className=J.codeInput;for(let s=0;s<n.length;s++){const l=this.createInput(s);this.inputs.push(l),this.element.appendChild(l)}n.value&&this.setValue(n.value)}createInput(n){const s=document.createElement("input");s.className=J.codeInputDigit,s.type="text",s.maxLength=1,s.pattern="[0-9]",s.inputMode="numeric",s.disabled=this.config.disabled??!1;const l=h=>{const y=h.target,g=y.value;if(g&&!/^\d$/.test(g)){y.value="";return}g&&n<this.inputs.length-1&&this.inputs[n+1].focus(),this.updateValue()},d=h=>{h.key==="Backspace"&&!s.value&&n>0&&this.inputs[n-1].focus()},f=h=>{var y;h.preventDefault();const g=(y=h.clipboardData)==null?void 0:y.getData("text");if(!g)return;const _=g.replace(/\D/g,"").slice(0,this.config.length);this.setValue(_);const x=Math.min(_.length,this.inputs.length-1);this.inputs[x].focus()};return s.addEventListener("input",l),s.addEventListener("keydown",d),s.addEventListener("paste",f),this.cleanup.push(()=>{s.removeEventListener("input",l),s.removeEventListener("keydown",d),s.removeEventListener("paste",f)}),s}updateValue(){const n=this.inputs.map(s=>s.value).join("");this.config.onChange(n),n.length===this.config.length&&this.config.onComplete&&this.config.onComplete(n)}getValue(){return this.inputs.map(n=>n.value).join("")}setValue(n){n.slice(0,this.config.length).split("").forEach((s,l)=>{this.inputs[l]&&(this.inputs[l].value=s)})}setError(n){this.inputs.forEach(s=>{n?s.classList.add("error"):s.classList.remove("error")})}setDisabled(n){this.inputs.forEach(s=>{s.disabled=n})}clear(){this.inputs.forEach(n=>{n.value=""}),this.inputs[0].focus()}focus(){const n=this.inputs.findIndex(s=>!s.value);n>=0?this.inputs[n].focus():this.inputs[0].focus()}destroy(){this.cleanup.forEach(n=>{try{n()}catch{}}),this.cleanup=[]}}class Mi{constructor(n){if(this.cleanup=[],this.isLoading=!1,this.config=n,this.originalText=n.text,this.element=document.createElement("button"),this.element.type="button",this.element.className=this.getClassName(),this.element.disabled=n.disabled??!1,n.icon){const l=document.createElement("span");l.className=n.icon,this.element.appendChild(l)}const s=document.createElement("span");s.textContent=n.text,this.element.appendChild(s),this.bindEvents(),n.loading&&this.setLoading(!0)}getClassName(){const n=J.btn;switch(this.config.variant){case"primary":return J.btnPrimary;case"oauth":return J.btnOAuth;default:return n}}bindEvents(){const n=async()=>{if(!(this.isLoading||this.element.disabled))try{this.setLoading(!0),await this.config.onClick()}catch(s){console.error("Button onClick error:",s)}finally{this.setLoading(!1)}};this.element.addEventListener("click",n),this.cleanup.push(()=>this.element.removeEventListener("click",n))}setLoading(n){if(this.isLoading=n,n){this.element.disabled=!0,this.element.innerHTML="";const s=document.createElement("span");s.className=J.spinner,this.element.appendChild(s);const l=document.createElement("span");l.textContent=this.config.text,this.element.appendChild(l)}else{if(this.element.disabled=this.config.disabled??!1,this.element.innerHTML="",this.config.icon){const l=document.createElement("span");l.className=this.config.icon,this.element.appendChild(l)}const s=document.createElement("span");s.textContent=this.originalText,this.element.appendChild(s)}}setText(n){this.originalText=n;const s=this.element.querySelector("span:last-child");s&&(s.textContent=n)}setDisabled(n){this.config.disabled=n,this.isLoading||(this.element.disabled=n)}destroy(){this.cleanup.forEach(n=>{try{n()}catch{}}),this.cleanup=[]}}function UP(r){return new Promise(n=>{const s=r.animate([{transform:"translateX(0)"},{transform:"translateX(-10px)"},{transform:"translateX(10px)"},{transform:"translateX(-10px)"},{transform:"translateX(10px)"},{transform:"translateX(0)"}],{duration:400,easing:"ease-in-out"});s.onfinish=()=>n()})}class no{constructor(n){this.config=n,this.element=document.createElement("div"),this.element.className=this.getClassName(),this.element.style.display=n.visible?"block":"none",n.message&&(this.element.textContent=n.message)}getClassName(){const n=J.error;return this.config.type==="warning"?`${n} ${J.warning}`:this.config.type==="info"?`${n} ${J.info}`:n}setMessage(n,s=!0){this.config.message=n,this.element.textContent=n,this.show(),s&&UP(this.element)}show(){this.config.visible=!0,this.element.style.display="block"}hide(){this.config.visible=!1,this.element.style.display="none"}setType(n){this.config.type=n,this.element.className=this.getClassName()}destroy(){}}class _g{constructor(n="or"){this.text=n,this.element=document.createElement("div"),this.element.className=J.divider,this.element.textContent=n}setText(n){this.text=n,this.element.textContent=n}destroy(){}}class wg{constructor(n,s,l){this.provider=n,this.labels=s,this.onClick=l,this.cleanup=[],this.element=document.createElement("button"),this.element.type="button",this.element.className=J.btnOAuthProvider(n.id);const d=document.createElement("span");d.className=J.iconProvider(n.id),d.style.backgroundImage=`url(${jy(n.id)})`,this.element.appendChild(d);const f=document.createElement("span");f.className="edgespark-auth__btn-text";const h=`${n.id}BtnName`,y=this.labels[h];f.textContent=y||`${this.labels.buttonTextPrefix} ${n.name}`,this.element.appendChild(f),this.bindEvents()}bindEvents(){const n=async()=>{try{this.setLoading(!0),await this.onClick()}catch(s){console.error("OAuth button click error:",s),this.setLoading(!1)}};this.element.addEventListener("click",n),this.cleanup.push(()=>this.element.removeEventListener("click",n))}setLoading(n){this.element.disabled=n;const s=this.element.querySelector(`.${J.icon}`);if(n){if(this.element.classList.add("loading"),s&&(s.style.display="none"),!this.element.querySelector(`.${J.spinner}`)){const l=document.createElement("span");l.className=J.spinner,this.element.insertBefore(l,this.element.firstChild)}}else{this.element.classList.remove("loading"),s&&(s.style.display="");const l=this.element.querySelector(`.${J.spinner}`);l&&l.remove()}}setLoadingState(n){this.setLoading(n)}setDisabled(n){this.element.disabled=n;const s=this.element.querySelector(`.${J.icon}`);if(n){if(this.element.classList.add("loading"),s&&(s.style.display="none"),!this.element.querySelector(`.${J.spinner}`)){const l=document.createElement("span");l.className=J.spinner,this.element.insertBefore(l,this.element.firstChild)}}else{this.element.classList.remove("loading"),s&&(s.style.display="");const l=this.element.querySelector(`.${J.spinner}`);l&&l.remove()}}destroy(){this.cleanup.forEach(n=>{try{n()}catch{}}),this.cleanup=[]}}class xg{constructor(n){this.options=n,this.components=[]}createView(){this.cleanup();const{state:n}=this.options;switch(n.flow){case"sign-in":return this.buildSignInView();case"sign-up":return this.buildSignUpView();case"verify-email":return this.buildVerifyEmailView();case"verify-code":return this.buildVerifyCodeView();case"reset-password":return this.buildResetPasswordView();case"set-new-password":return this.buildSetNewPasswordView();case"change-password":return this.buildChangePasswordView();case"success":return this.buildSuccessView();default:return this.buildSignInView()}}buildSignInView(){var n,s;const l=document.createElement("div"),{labels:d,state:f,config:h}=this.options,y=d.signIn.emailPlaceholder||d.signIn.emailLabel,g=d.signIn.passwordPlaceholder||d.signIn.passwordLabel,_=new wr({title:d.signIn.title,subtitle:d.signIn.subtitle});f.error&&_.element.classList.add("has-error-below"),this.components.push(_),l.appendChild(_.element);const x=document.createElement("div");x.className=J.section,f.error&&x.classList.add("has-error");const C=new no({message:f.errorMessage||"",visible:!!f.error});this.components.push(C),x.appendChild(C.element);const E=document.createElement("div");E.className=J.fields;const N=new zn({type:"email",name:"email",label:d.signIn.emailLabel,placeholder:y,value:f.data.email||"",autocomplete:"email",required:!0,disabled:!!f.oauthLoadingProvider});this.components.push(N),E.appendChild(N.element);const R=new zn({type:"password",name:"password",label:d.signIn.passwordLabel,placeholder:g,value:f.data.password||"",autocomplete:"current-password",required:!0,disabled:!!f.oauthLoadingProvider});this.components.push(R),E.appendChild(R.element),x.appendChild(E);const T=d.signIn.emailOnlyButton||d.signIn.loginButton,b=new Mi({text:T,onClick:async()=>{this.options.onStateChange({data:{...f.data,email:N.getValue(),password:R.getValue()}}),await this.options.onAction("signIn")},variant:"primary",fullWidth:!0,loading:f.loading,disabled:!!f.oauthLoadingProvider||!!f.anonymousLoading});this.components.push(b),x.appendChild(b.element);const j=mg(h);if(Ld(h)&&j.length>0){const U=new _g(d.common.orText);this.components.push(U),x.appendChild(U.element)}if(j.length>0){const U=document.createElement("div");U.className=J.providers,j.forEach(G=>{const q=!!f.loading||!!f.anonymousLoading,B=new wg({id:G.id,name:G.id,enabled:G.enabled&&!q},d.oauth,async()=>{await this.options.onAction("oauthSignIn",{provider:G.id})});f.oauthLoadingProvider===G.id&&B.setLoadingState(!0),q&&f.oauthLoadingProvider!==G.id&&B.element.setAttribute("disabled","true"),this.components.push(B),U.appendChild(B.element)}),x.appendChild(U)}const z=document.createElement("div");if(z.className=J.footer,!h.disableSignUp&&Ld(h)){const U=document.createElement("span");U.className=J.footerText,d.signIn.signUpPrompt&&U.append(document.createTextNode(`${d.signIn.signUpPrompt} `));const G=document.createElement("a");G.className=J.link,G.textContent=d.signIn.toggleToSignUp,G.href="#",G.addEventListener("click",q=>{q.preventDefault(),this.options.onAction("switchToSignUp")}),U.appendChild(G),z.appendChild(U)}if((s=(n=h.emailPassword)==null?void 0:n.config)!=null&&s.requirePasswordResetEmailVerification){const U=document.createElement("a");U.className=J.link,U.textContent=d.signIn.forgotPassword,U.href="#",U.addEventListener("click",G=>{G.preventDefault(),this.options.onAction("switchToResetPassword")}),z.appendChild(U)}return x.appendChild(z),l.appendChild(x),l}buildSignUpView(){const n=document.createElement("div"),{labels:s,state:l,config:d}=this.options,f=new wr({title:s.signUp.title,subtitle:s.signUp.subtitle});l.error&&f.element.classList.add("has-error-below"),this.components.push(f),n.appendChild(f.element);const h=document.createElement("div");h.className=J.section,l.error&&h.classList.add("has-error");const y=new no({message:l.errorMessage||"",visible:!!l.error});this.components.push(y),h.appendChild(y.element);const g=document.createElement("div");g.className=J.fields;const _=s.signUp.emailPlaceholder||s.signUp.emailLabel,x=new zn({type:"email",name:"email",label:s.signUp.emailLabel,placeholder:_,value:l.data.email||"",autocomplete:"email",required:!0,disabled:!!l.oauthLoadingProvider});this.components.push(x),g.appendChild(x.element);const C=s.signUp.passwordPlaceholder||s.signUp.passwordLabel,E=new zn({type:"password",name:"password",label:s.signUp.passwordLabel,placeholder:C,value:l.data.password||"",autocomplete:"new-password",required:!0,disabled:!!l.oauthLoadingProvider});this.components.push(E),g.appendChild(E.element);const N=s.signUp.confirmPasswordPlaceholder||s.signUp.confirmPasswordLabel,R=new zn({type:"password",name:"confirmPassword",label:s.signUp.confirmPasswordLabel,placeholder:N,value:l.data.confirmPassword||"",autocomplete:"new-password",required:!0,disabled:!!l.oauthLoadingProvider});this.components.push(R),g.appendChild(R.element),h.appendChild(g);const T=new Mi({text:s.signUp.signUpButton,onClick:async()=>{this.options.onStateChange({data:{...l.data,email:x.getValue(),password:E.getValue(),confirmPassword:R.getValue()}}),await this.options.onAction("signUp")},variant:"primary",fullWidth:!0,loading:l.loading,disabled:!!l.oauthLoadingProvider});this.components.push(T),h.appendChild(T.element);const b=mg(d);if(Ld(d)&&b.length>0){const G=new _g(s.common.orText);this.components.push(G),h.appendChild(G.element)}if(b.length>0){const G=document.createElement("div");G.className=J.providers,b.forEach(q=>{const B=new wg({id:q.id,name:q.id,enabled:q.enabled},s.oauth,async()=>{await this.options.onAction("oauthSignIn",{provider:q.id})});l.oauthLoadingProvider===q.id&&B.setLoadingState(!0),this.components.push(B),G.appendChild(B.element)}),h.appendChild(G)}const j=document.createElement("div");j.className=J.footer;const z=document.createElement("span");z.className=J.footerText,s.signUp.toggleToSignIn&&z.append(document.createTextNode(`${s.signUp.toggleToSignIn} `));const U=document.createElement("a");return U.className=J.link,U.textContent=s.signUp.toggleToSignInLink||"Sign in now.",U.href="#",U.addEventListener("click",G=>{G.preventDefault(),this.options.onAction("switchToSignIn")}),z.appendChild(U),j.appendChild(z),h.appendChild(j),n.appendChild(h),n}buildVerifyEmailView(){const n=document.createElement("div"),{labels:s,state:l}=this.options,d=new wr({title:s.verifyEmail.title,subtitle:s.verifyEmail.subtitle||s.verifyEmail.checkInbox});this.components.push(d),n.appendChild(d.element);const f=document.createElement("div");f.className=J.emailIcon;const h=document.createElement("div");h.style.width="50px",h.style.height="10px",h.style.backgroundImage=`url("data:image/svg+xml,%3Csvg width='50' height='10' viewBox='0 0 50 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='5' cy='5' r='2' fill='%23D1D5DB'/%3E%3Ccircle cx='25' cy='5' r='2' fill='%23D1D5DB'/%3E%3Ccircle cx='45' cy='5' r='2' fill='%23D1D5DB'/%3E%3C/svg%3E")`,h.style.backgroundRepeat="no-repeat",h.style.backgroundPosition="center",f.appendChild(h);const y=document.createElementNS("http://www.w3.org/2000/svg","svg");y.setAttribute("xmlns","http://www.w3.org/2000/svg"),y.setAttribute("width","59"),y.setAttribute("height","48"),y.setAttribute("viewBox","0 0 59 48"),y.setAttribute("fill","none"),y.style.flexShrink="0";const g=document.createElementNS("http://www.w3.org/2000/svg","path");g.setAttribute("d","M5.33333 6.66667V2.64907C5.33333 1.18603 6.54749 0 7.97813 0H56.0219C57.4827 0 58.6667 1.18653 58.6667 2.64907V45.3509C58.6667 46.8139 57.4525 48 56.0219 48H7.97813C6.51747 48 5.33333 46.8136 5.33333 45.3509V42.6667H53.3333V11.4667L32 30.6667L5.33333 6.66667ZM0 18.6667H13.3333V24H0V18.6667ZM0 32H21.3333V37.3333H0V32Z"),g.setAttribute("fill","black"),g.setAttribute("fill-opacity","0.06"),y.appendChild(g),f.appendChild(y);const _=document.createElement("div");_.style.width="50px",_.style.height="10px",_.style.backgroundImage=`url("data:image/svg+xml,%3Csvg width='50' height='10' viewBox='0 0 50 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='5' cy='5' r='2' fill='%23D1D5DB'/%3E%3Ccircle cx='25' cy='5' r='2' fill='%23D1D5DB'/%3E%3Ccircle cx='45' cy='5' r='2' fill='%23D1D5DB'/%3E%3C/svg%3E")`,_.style.backgroundRepeat="no-repeat",_.style.backgroundPosition="center",f.appendChild(_),n.appendChild(f);const x=document.createElement("div");x.className=J.section;const C=new Mi({text:s.verifyEmail.resendButton,onClick:async()=>{await this.options.onAction("resendVerificationEmail")},variant:"oauth",disabled:!!l.resendCountdown,fullWidth:!0,loading:l.loading}),E=C.element.querySelector("span");if(E&&(E.classList.add("edgespark-auth__countdown-text"),l.resendCountdown)){const N=(s.verifyEmail.resendButtonWithCountdown||s.verifyEmail.resendButton).replace("{seconds}",String(l.resendCountdown));E.textContent=N}return this.components.push(C),x.appendChild(C.element),n.appendChild(x),n}buildVerifyCodeView(){const n=document.createElement("div"),{labels:s,state:l}=this.options,d=l.data.email||"",f=new wr({title:s.verifyCode.title,subtitle:`${s.verifyCode.sentTo} ${d}`,highlightedText:d});this.components.push(f),n.appendChild(f.element);const h=new yg({length:6,value:l.data.code||"",onChange:C=>{this.options.onStateChange({data:{...l.data,code:C}})},onComplete:async C=>{this.options.onStateChange({data:{...l.data,code:C}}),await this.options.onAction("verifyCode")},error:!!l.error,disabled:l.loading});this.components.push(h),n.appendChild(h.element);const y=new no({message:l.errorMessage||"",visible:!!l.error});this.components.push(y),n.appendChild(y.element);const g=new Mi({text:s.verifyCode.verifyButton,onClick:async()=>{await this.options.onAction("verifyCode")},variant:"primary",fullWidth:!0,loading:l.loading});this.components.push(g),n.appendChild(g.element);const _=document.createElement("div");_.className=J.footer;const x=new Mi({text:l.resendCountdown?s.verifyCode.resendCountdown.replace("{seconds}",String(l.resendCountdown)):s.verifyCode.resendCode,onClick:async()=>{await this.options.onAction("resendCode")},variant:"oauth",fullWidth:!0,disabled:!!l.resendCountdown});return this.components.push(x),_.appendChild(x.element),n.appendChild(_),n}buildResetPasswordView(){const n=document.createElement("div"),{labels:s,state:l}=this.options,d=new wr({title:s.resetPassword.title,subtitle:s.resetPassword.subtitle});l.error&&d.element.classList.add("has-error-below"),this.components.push(d),n.appendChild(d.element);const f=document.createElement("div");f.className=J.section,l.error&&f.classList.add("has-error");const h=new no({message:l.errorMessage||"",visible:!!l.error});this.components.push(h),f.appendChild(h.element);const y=document.createElement("div");y.className=J.fields;const g=new zn({type:"email",name:"email",label:s.resetPassword.emailLabel,placeholder:s.resetPassword.emailLabel,value:l.data.email||"",autocomplete:"email",required:!0});this.components.push(g),y.appendChild(g.element);const _=new Mi({text:s.resetPassword.sendResetButton,onClick:async()=>{this.options.onStateChange({data:{...l.data,email:g.getValue()}}),await this.options.onAction("sendPasswordReset")},variant:"primary",fullWidth:!0,loading:l.loading});return this.components.push(_),y.appendChild(_.element),f.appendChild(y),n.appendChild(f),n}buildSetNewPasswordView(){const n=document.createElement("div"),{labels:s,state:l}=this.options,d=l.data.email||"",f=new wr({title:s.setNewPassword.title,subtitle:s.setNewPassword.subtitle||"A code has send to"}),h=f.element.querySelector(`.${J.headerSubtitle}`);if(h){h.innerHTML="",h.append(document.createTextNode(`${s.setNewPassword.subtitle||"A code has send to"} `));const R=document.createElement("span");R.className=J.highlight,R.textContent=`${d}`,h.appendChild(R),h.append(document.createTextNode(". "));const T=document.createElement("span");T.className="edgespark-auth__countdown-text";const b=l.resendCountdown;if(b!=null&&b>0){const j=Math.floor(b/60),z=b%60,U=`${String(j).padStart(2,"0")}:${String(z).padStart(2,"0")}`;T.textContent=`Resend in ${U}`}else{T.textContent="";const j=document.createElement("a");j.className=J.link,j.textContent=s.setNewPassword.resendCode||"Resend",j.href="#",j.addEventListener("click",async z=>{z.preventDefault(),await this.options.onAction("resendPasswordResetCode")}),T.appendChild(j)}h.appendChild(T)}l.error&&f.element.classList.add("has-error-below"),this.components.push(f),n.appendChild(f.element);const y=document.createElement("div");y.className=J.section,l.error&&y.classList.add("has-error");const g=new no({message:l.errorMessage||"",visible:!!l.error});this.components.push(g),y.appendChild(g.element);const _=new yg({length:6,value:l.data.code||"",onChange:R=>{this.options.onStateChange({data:{...l.data,code:R}})},onComplete:R=>{this.options.onStateChange({data:{...l.data,code:R}})}});this.components.push(_),y.appendChild(_.element);const x=document.createElement("div");x.className=J.fields;const C=new zn({type:"password",name:"password",label:s.setNewPassword.newPasswordLabel,placeholder:s.setNewPassword.newPasswordLabel,value:l.data.password||"",autocomplete:"new-password",required:!0});this.components.push(C),x.appendChild(C.element);const E=new zn({type:"password",name:"confirmPassword",label:s.setNewPassword.confirmPasswordLabel,placeholder:s.setNewPassword.confirmPasswordLabel,value:l.data.confirmPassword||"",autocomplete:"new-password",required:!0});this.components.push(E),x.appendChild(E.element),y.appendChild(x);const N=new Mi({text:s.setNewPassword.setPasswordButton,onClick:async()=>{this.options.onStateChange({data:{...l.data,code:_.getValue(),password:C.getValue(),confirmPassword:E.getValue()}}),await this.options.onAction("setNewPassword")},variant:"primary",fullWidth:!0,loading:l.loading});return this.components.push(N),y.appendChild(N.element),n.appendChild(y),n}buildChangePasswordView(){const n=document.createElement("div"),{labels:s,state:l}=this.options,d=new wr({title:s.changePassword.title});this.components.push(d),n.appendChild(d.element);const f=document.createElement("div");f.className=J.fields;const h=new zn({type:"password",name:"currentPassword",label:s.changePassword.currentPasswordLabel,value:l.data.currentPassword||"",autocomplete:"current-password",required:!0});this.components.push(h),f.appendChild(h.element);const y=new zn({type:"password",name:"newPassword",label:s.changePassword.newPasswordLabel,value:l.data.newPassword||"",autocomplete:"new-password",required:!0});this.components.push(y),f.appendChild(y.element);const g=new zn({type:"password",name:"confirmPassword",label:s.changePassword.confirmPasswordLabel,value:l.data.confirmPassword||"",autocomplete:"new-password",required:!0});this.components.push(g),f.appendChild(g.element),n.appendChild(f);const _=new no({message:l.errorMessage||"",visible:!!l.error});this.components.push(_),n.appendChild(_.element);const x=new Mi({text:s.changePassword.changeButton,onClick:async()=>{this.options.onStateChange({data:{...l.data,currentPassword:h.getValue(),newPassword:y.getValue(),confirmPassword:g.getValue()}}),await this.options.onAction("changePassword")},variant:"primary",fullWidth:!0,loading:l.loading});return this.components.push(x),n.appendChild(x.element),n}buildSuccessView(){const n=document.createElement("div"),{labels:s,state:l}=this.options,d=l.data.successType||"sign-in";let f,h,y,g;switch(d){case"password-changed":f=s.success.passwordChanged||"Password Updated",h=s.success.passwordChangedMessage||"You can now sign in with your new password.",y=s.success.backToSignIn||"Back to Sign In",g="switchToSignIn";break;case"password-reset":f=s.success.passwordReset||"Password Reset",h=s.success.passwordResetMessage||"Your password has been reset successfully.",y=s.success.continueButton,g="switchToSignIn";break;case"email-verified":f=s.success.emailVerified||"Email Verified",h=s.success.emailVerifiedMessage||"Your email has been verified successfully.",y=s.success.continueButton,g="continue";break;case"sign-up":f=s.success.title,h=s.success.signUpComplete,y=s.success.continueButton,g="continue";break;default:f=s.success.title,h=s.success.signInComplete,y=s.success.continueButton,g="continue"}const _=new wr({title:f,subtitle:h});l.error&&_.element.classList.add("has-error-below"),this.components.push(_),n.appendChild(_.element);const x=document.createElement("div");x.className=J.section;const C=new Mi({text:y,onClick:()=>{this.options.onAction(g)},variant:"primary",fullWidth:!0});return this.components.push(C),x.appendChild(C.element),n.appendChild(x),n}cleanup(){this.components.forEach(n=>{if(n&&typeof n.destroy=="function")try{n.destroy()}catch(s){console.error("Component cleanup error:",s)}}),this.components=[]}}const Ad={common:{orText:"OR",loadingText:"Loading...",requiredError:"This field is required",unknownError:"Something went wrong",backButton:"Back",continueButton:"Continue",confirmButton:"Confirm"},signIn:{title:"Welcome",subtitle:"Sign in to Continue",emailLabel:"Email",emailPlaceholder:"Enter your email",passwordLabel:"Password",passwordPlaceholder:"Enter your password",loginButton:"Continue with email",forgotPassword:"Forget Password",toggleToSignUp:"Sign up now",emailOnlyButton:"Continue with email",signUpPrompt:"Dont have an account?",guestPrompt:"Not ready to sign up yet?",guestLinkText:"Continue with Temporary Account"},signUp:{title:"Welcome",subtitle:"Sign up to Continue",nameLabel:"Name",emailLabel:"Email",emailPlaceholder:"Enter your email",passwordLabel:"Password",passwordPlaceholder:"Enter new password",confirmPasswordLabel:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",signUpButton:"Continue with email",toggleToSignIn:"Already have an account?",toggleToSignInLink:"Sign in now."},verifyEmail:{title:"Check Your Inbox",subtitle:"We've sent a sign-in link to your email. Click it to get started.",sentTo:"We sent an email to",checkInbox:"Check your inbox and click the verification link to continue",notReceived:"Didn't receive the email?",resendButton:"Resend Email",resendButtonWithCountdown:"Resend Email ({seconds}s)",changeEmail:"Change email address",emailSent:"Verification email sent successfully"},verifyCode:{title:"Enter verification code",sentTo:"We sent a verification code to",codeLabel:"Verification code",verifyButton:"Verify",invalidCode:"Invalid verification code",codeExpired:"Verification code has expired",resendCode:"Resend code",resendCountdown:"Resend in {seconds}s",codeSent:"Verification code sent successfully"},resetPassword:{title:"Reset password",subtitle:"Enter your email to receive reset instructions",emailLabel:"Email",sendResetButton:"Send reset link",backToSignIn:"Back to sign in",emailSent:"Password reset email sent",instructions:"We'll send you an email with instructions to reset your password"},setNewPassword:{title:"Set New Password",subtitle:"A code has send to",newPasswordLabel:"Enter new password",confirmPasswordLabel:"Confirm new password",setPasswordButton:"Set New Password",resendCode:"Resend",resendCountdown:"Resend in {seconds}"},changePassword:{title:"Change password",currentPasswordLabel:"Current password",newPasswordLabel:"New password",confirmPasswordLabel:"Confirm new password",changeButton:"Change password"},errors:{INVALID_EMAIL:"Invalid email",INVALID_CODE:"Invalid verification code",CODE_EXPIRED:"Verification code expired",PASSWORD_MISMATCH:"Passwords do not match",GENERIC_ERROR:"Something went wrong",USER_NOT_FOUND:"User not found",FAILED_TO_CREATE_USER:"Failed to create user",FAILED_TO_CREATE_SESSION:"Failed to create session",FAILED_TO_UPDATE_USER:"Failed to update user",FAILED_TO_GET_SESSION:"Failed to get session",INVALID_PASSWORD:"Invalid password",INVALID_EMAIL_OR_PASSWORD:"Invalid email or password",SOCIAL_ACCOUNT_ALREADY_LINKED:"Social account already linked",PROVIDER_NOT_FOUND:"Provider not found",INVALID_TOKEN:"Invalid token",ID_TOKEN_NOT_SUPPORTED:"id_token not supported",FAILED_TO_GET_USER_INFO:"Failed to get user info",USER_EMAIL_NOT_FOUND:"User email not found",EMAIL_NOT_VERIFIED:"Email not verified",PASSWORD_TOO_SHORT:"Password too short",PASSWORD_TOO_LONG:"Password too long",USER_ALREADY_EXISTS:"User already exists",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"User already exists. Use another email.",EMAIL_CAN_NOT_BE_UPDATED:"Email can not be updated",CREDENTIAL_ACCOUNT_NOT_FOUND:"Credential account not found",SESSION_EXPIRED:"Session expired. Re-authenticate to perform this action.",FAILED_TO_UNLINK_LAST_ACCOUNT:"You can't unlink your last account",ACCOUNT_NOT_FOUND:"Account not found",USER_ALREADY_HAS_PASSWORD:"User already has a password. Provide that to delete the account.",TOO_MANY_ATTEMPTS:"Too many attempts. Try again later."},oauth:{buttonTextPrefix:"Continue with",googleBtnName:"Continue with Google",githubBtnName:"Continue with GitHub"},success:{title:"Success!",signUpComplete:"Your account has been created successfully",signInComplete:"Welcome back!",passwordReset:"Password reset successfully",passwordResetMessage:"Your password has been reset successfully.",passwordChanged:"Password Updated",passwordChangedMessage:"You can now sign in with your new password.",emailVerified:"Email verified successfully",emailVerifiedMessage:"Your email has been verified successfully.",continueButton:"Continue",backToSignIn:"Back to Sign In"},iframeModal:{titleTemplate:"Sign in with {provider}",messageTemplate:"{provider} sign-up needs to be completed in a new tab due to preview page limitations.",actionButton:"Preview in New Tab"}};function $P(r,n){return n?{common:{...r.common,...n.common},signIn:{...r.signIn,...n.signIn},signUp:{...r.signUp,...n.signUp},verifyEmail:{...r.verifyEmail,...n.verifyEmail},verifyCode:{...r.verifyCode,...n.verifyCode},resetPassword:{...r.resetPassword,...n.resetPassword},setNewPassword:{...r.setNewPassword,...n.setNewPassword},changePassword:{...r.changePassword,...n.changePassword},errors:{...r.errors,...n.errors},oauth:{...r.oauth,...n.oauth},success:{...r.success,...n.success},iframeModal:{...r.iframeModal,...n.iframeModal}}:r}class ZP{constructor(n){this.container=n.container,this.labels=$P(Ad,n.labels||{}),this.config=n.config,this.authClient=n.authClient,this.onLogin=n.onLogin,this.onError=n.onError,this.redirects=n.redirects,this.onAuthStateChange=n.onAuthStateChange}render(){if(!(this.container instanceof HTMLElement))throw Sr("UI_INVALID_CONTAINER","Container must be an HTMLElement");this.container.innerHTML="";const n=document.createElement("div");n.setAttribute(Iy,""),this.root=n,this.container.appendChild(n),this.flowManager=new FP({authClient:this.authClient,config:this.config,labels:this.labels,onLogin:this.onLogin,onError:this.onError,redirects:this.redirects,onAuthStateChange:this.onAuthStateChange}),this.viewFactory=new xg({labels:this.labels,config:this.config,state:this.flowManager.getState(),onAction:this.handleAction.bind(this),onStateChange:s=>{s.data&&this.flowManager.updateData(s.data)}}),this.lastState=this.flowManager.getState(),this.unsubscribe=this.flowManager.subscribe(s=>{if(this.isCountdownOnlyChange(s)){this.updateCountdownDisplay(s.resendCountdown),this.lastState=s;return}this.lastState=s,this.renderView()}),this.renderView(),this.onAuthStateChange&&(this.tokenUnsubscribe=this.onAuthStateChange(async()=>{var s;try{const l=await this.authClient.getSession();(s=l?.data)!=null&&s.user&&this.onLogin&&this.onLogin(l.data.user)}catch{}}))}renderView(){if(!this.root)return;const n=this.flowManager.getState(),s=document.activeElement;let l=null;if(s&&this.root.contains(s)){const h=s;if(l={name:h.name,type:h.type},h.classList.contains(J.codeInputDigit)){const y=h.closest(`.${J.codeInput}`);if(y){const g=y.querySelectorAll(`.${J.codeInputDigit}`);l.index=Array.from(g).indexOf(h)}}}this.root.innerHTML="";const d=document.createElement("div");d.className=J.root,this.viewFactory=new xg({labels:this.labels,config:this.config,state:n,onAction:this.handleAction.bind(this),onStateChange:h=>{h.data&&this.flowManager.updateData(h.data)}});const f=this.viewFactory.createView();if(d.appendChild(f),this.root.appendChild(d),n.flow==="sign-in"&&this.config.enableAnonymous){const h=document.createElement("div");h.className=J.guestLink;const y=this.labels.signIn.guestPrompt||Ad.signIn.guestPrompt,g=this.labels.signIn.guestLinkText||Ad.signIn.guestLinkText;y&&h.append(document.createTextNode(`${y} `));const _=document.createElement("a");_.className=J.link,_.textContent=g,_.href="#",_.addEventListener("click",async x=>{x.preventDefault();const C=this.flowManager.getState();C.loading||C.oauthLoadingProvider||C.anonymousLoading||await this.handleAction("signInAnonymous")}),h.appendChild(_),this.root.appendChild(h)}l&&setTimeout(()=>{var h,y;let g=null;if(l?.index!==void 0){const _=(h=this.root)==null?void 0:h.querySelector(`.${J.codeInput}`);if(_){const x=_.querySelectorAll(`.${J.codeInputDigit}`);x[l.index]&&(g=x[l.index])}}else if(l!=null&&l.name){const _=(y=this.root)==null?void 0:y.querySelector(`input[name="${l.name}"][type="${l.type}"]`);_&&(g=_)}if(g&&(g.focus(),g instanceof HTMLInputElement)){const _=g.value.length;g.setSelectionRange(_,_)}},0)}updateCountdownDisplay(n){var s;if(!this.root)return;const l=this.flowManager.getState(),d=this.root.querySelector(".edgespark-auth__countdown-text");if(d){if(l.flow==="verify-email"){const f=this.root.querySelector(".edgespark-auth__btn--oauth");if(n!==void 0&&n>0){const h=((s=this.labels.verifyEmail.resendButtonWithCountdown)==null?void 0:s.replace("{seconds}",String(n)))||`Resend Email (${n}s)`;d.textContent=h,f&&f.setAttribute("disabled","true")}else d.textContent=this.labels.verifyEmail.resendButton,f&&f.removeAttribute("disabled");return}if(n!==void 0&&n>0){const f=Math.floor(n/60),h=n%60,y=`${String(f).padStart(2,"0")}:${String(h).padStart(2,"0")}`;l.flow==="set-new-password"?d.textContent=`Resend in ${y}`:l.flow==="verify-code"&&(d.textContent=this.labels.verifyCode.resendCountdown.replace("{seconds}",String(n)))}else{d.innerHTML="";const f=document.createElement("a");f.className=J.link,l.flow==="set-new-password"?f.textContent=this.labels.setNewPassword.resendCode||"Resend":l.flow==="verify-code"&&(f.textContent=this.labels.verifyCode.resendCode),f.href="#",f.addEventListener("click",async h=>{h.preventDefault(),l.flow==="set-new-password"?await this.handleAction("resendPasswordResetCode"):l.flow==="verify-code"&&await this.handleAction("resendCode")}),d.appendChild(f)}}}async handleAction(n,s){var l,d,f;switch(n){case"signIn":await this.flowManager.handleSignIn();break;case"signUp":await this.flowManager.handleSignUp();break;case"oauthSignIn":await this.flowManager.handleOAuthSignIn(s.provider);break;case"switchToSignIn":this.flowManager.transitionTo("sign-in");break;case"switchToSignUp":this.flowManager.transitionTo("sign-up");break;case"switchToResetPassword":(d=(l=this.config.emailPassword)==null?void 0:l.config)!=null&&d.requirePasswordResetEmailVerification&&this.flowManager.transitionTo("reset-password");break;case"resendVerificationEmail":await this.flowManager.handleResendVerificationEmail(),this.flowManager.startResendCountdown(60);break;case"verifyCode":await this.flowManager.handleVerifyCode();break;case"resendCode":this.flowManager.startResendCountdown(60);break;case"sendPasswordReset":await this.flowManager.handleSendPasswordReset();break;case"setNewPassword":await this.flowManager.handleSetNewPassword();break;case"resendPasswordResetCode":await this.flowManager.handleResendPasswordResetCode();break;case"changePassword":await this.flowManager.handleChangePassword(s?.revokeOtherSessions);break;case"continue":(f=this.onLogin)==null||f.call(this,{action:"continue"});break;case"signInAnonymous":await this.flowManager.handleAnonymousSignIn();break;default:console.warn("Unknown action:",n)}}switchFlow(n){this.flowManager.transitionTo(n)}getCurrentFlow(){return this.flowManager.getState().flow}destroy(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0),this.tokenUnsubscribe&&(this.tokenUnsubscribe(),this.tokenUnsubscribe=void 0),this.viewFactory&&this.viewFactory.cleanup(),this.root&&this.root.parentElement&&this.root.parentElement.removeChild(this.root)}isCountdownOnlyChange(n){return this.lastState?this.shallowEqualStateExceptCountdown(this.lastState,n)&&this.lastState.resendCountdown!==n.resendCountdown:!1}shallowEqualStateExceptCountdown(n,s){const{resendCountdown:l,...d}=n,{resendCountdown:f,...h}=s;return this.shallowEqual(d,h)}shallowEqual(n,s){const l=Object.keys(n),d=Object.keys(s);if(l.length!==d.length)return!1;for(const f of l)if(n[f]!==s[f])return!1;return!0}}class HP{constructor(n){this.root=null,this.container=n.container}render(){this.container.innerHTML="";const n=document.createElement("div");n.setAttribute(Iy,""),this.root=n;const s=document.createElement("div");s.className=J.skeleton;const l=document.createElement("div");l.className=`${J.skeletonItem} ${J.skeletonTitle}`,s.appendChild(l);const d=document.createElement("div");d.className=`${J.skeletonItem} ${J.skeletonSubtitle}`,s.appendChild(d);for(let h=0;h<2;h++){const y=document.createElement("div");y.className=`${J.skeletonItem} ${J.skeletonInput}`,s.appendChild(y)}const f=document.createElement("div");f.className=`${J.skeletonItem} ${J.skeletonButton}`,s.appendChild(f),n.appendChild(s),this.container.appendChild(n)}destroy(){this.root&&this.root.parentElement&&this.root.parentElement.removeChild(this.root),this.root=null}}function WP(r,n){return yP(r,n)}function GP(r,n){try{const s=new URL(r);return s.searchParams.has(n)?(s.searchParams.delete(n),s.search=s.searchParams.toString(),s.toString()):r}catch{return null}}const Sg="es_auth_token";function KP(r){const{baseUrl:n,fetchCredentials:s="include"}=r;if(!n)throw new Error("[EdgeSpark] baseUrl is required");const l=new URL(n).origin,d=Ny({persist:"local"});if(typeof window<"u"){const T=WP(window.location.href,Sg);if(T){d.setToken(T,l);const b=GP(window.location.href,Sg);b&&b!==window.location.href&&window.history.replaceState(null,"",b)}}const f=Oy({tokenStore:d,baseOrigin:l}),h=[XC()],y=YC({baseURL:n,basePath:zu,plugins:h,fetchOptions:{credentials:s,auth:{type:"Bearer",token:()=>d.getToken(l)||void 0},customFetchImpl:f}});let g=null,_=null;const x=async()=>(g||(g=NP(n).then(AP)),g),C=(T={})=>{let b;return T.redirects?b=T.redirects:T.redirectTo&&(b={oauth:{success:T.redirectTo,newUser:T.redirectTo,error:T.redirectTo},emailPassword:T.redirectTo,emailVerification:T.redirectTo,anonymous:T.redirectTo}),{labels:T.labels,redirects:b,onLogin:T.onLogin,onError:T.onError}},E={renderAuthUI:async(T,b={})=>{var j;if(!(T instanceof HTMLElement))throw new Error("[EdgeSpark] Container must be an HTMLElement");_?.destroy();const z=new HP({container:T});z.render();try{const U=await x();z.destroy(),_=new ZP({container:T,labels:b.labels||{},config:U,authClient:y,onAuthStateChange:G=>d.subscribe(G,l),...C(b)}),_.render()}catch(U){throw z.destroy(),(j=b.onError)==null||j.call(b,U),U}},onAuthStateChange:T=>d.subscribe(T,l)},N=new Proxy(y,{get(T,b,j){return b in E?E[b]:Reflect.get(T,b,j)}}),R={fetch:EP({baseUrl:n,fetchCredentials:s})};return{auth:N,api:R,destroy:T=>{_?.destroy(),_=null,g=null,T!=null&&T.clearToken&&d.clear(l)}}}const qP="https://staging--mqr4yu18yguau4idyqmj.youbase.cloud",Kt=KP({baseUrl:qP}),ls={async getNearbyNotes(r,n){return(await(await Kt.api.fetch(`/api/public/nearby-notes?lat=${r}&lng=${n}`)).json()).data||[]},async getPublicNotes(){return(await(await Kt.api.fetch("/api/public/notes")).json()).data||[]},async getMe(){try{const r=await Kt.api.fetch("/api/me");return r.ok?await r.json():null}catch{return null}},async getNotes(){return(await(await Kt.api.fetch("/api/notes")).json()).data||[]},async createNote(r){return(await(await Kt.api.fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json()).data},async getNoteChats(r){return(await(await Kt.api.fetch(`/api/notes/${r}/chats`)).json()).data||[]},async generateSummary(r){return(await(await Kt.api.fetch("/api/ai/summary",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({noteId:r})})).json()).data?.summary||""},async deleteNote(r){await Kt.api.fetch(`/api/notes/${r}`,{method:"DELETE"})}},Cg={sad:"#8BA4C7",happy:"#F4C542",calm:"#A8D5BA",mysterious:"#B695C0",angry:"#E07A5F"},Pg={sad:"",happy:"",calm:"",mysterious:"",angry:""},Eg={sad:"",happy:"",calm:"",mysterious:"",angry:""},zy=r=>Cg[r||"calm"]||Cg.calm,YP=r=>Pg[r||"calm"]||Pg.calm,XP=r=>Eg[r||"calm"]||Eg.calm,QP=pS.divIcon({html:`
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" fill="#FAFAF5" stroke="#333" stroke-width="2"/>
      <circle cx="12" cy="12" r="4" fill="#333"/>
    </svg>
  `,className:"user-location-marker",iconSize:[24,24],iconAnchor:[12,12]});function JP({userLocation:r}){const n=_y();return F.useEffect(()=>{n.dragging.disable(),n.touchZoom.disable(),n.doubleClickZoom.disable(),n.scrollWheelZoom.disable(),n.boxZoom.disable(),n.keyboard.disable(),n.tap&&n.tap.disable(),r&&n.setView([r.lat,r.lng],15)},[r,n]),null}function eE({userLocation:r}){const n=_y();return F.useEffect(()=>{r&&n.setView([r.lat,r.lng],15)},[r,n]),null}function tE({note:r,index:n,containerSize:s,onClick:l}){const d=iS(),f=zy(r.emotion),h=F.useRef(Math.random()*(s.width-60)+30),y=F.useRef(Math.random()*(s.height-60)+30);return F.useEffect(()=>{const g=async()=>{for(;;){const _=(Math.random()-.5)*80,x=(Math.random()-.5)*80,C=Math.max(30,Math.min(s.width-30,h.current+_)),E=Math.max(30,Math.min(s.height-30,y.current+x));h.current=C,y.current=E,await d.start({x:C,y:E,transition:{duration:4+Math.random()*3,ease:"easeInOut"}})}};return s.width>0&&s.height>0&&g(),()=>{d.stop()}},[d,s]),k.jsxs(de.div,{className:"absolute cursor-pointer z-[600]",style:{left:0,top:0,x:h.current,y:y.current},animate:d,initial:{x:h.current,y:y.current,opacity:0,scale:0},whileInView:{opacity:1,scale:1},transition:{opacity:{delay:n*.1,duration:.5},scale:{delay:n*.1,duration:.5}},onClick:g=>{g.stopPropagation(),l(r)},onTouchEnd:g=>{g.stopPropagation(),l(r)},whileTap:{scale:1.2},children:[k.jsx("div",{className:"absolute -inset-6 rounded-full",onClick:g=>{g.stopPropagation(),l(r)},onTouchEnd:g=>{g.stopPropagation(),l(r)}}),k.jsx(de.div,{className:"absolute -inset-4 rounded-full pointer-events-none",style:{background:`radial-gradient(circle, ${f}40 0%, transparent 70%)`},animate:{opacity:[.3,.6,.3],scale:[1,1.2,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),k.jsx(de.div,{className:"absolute -inset-2 rounded-full pointer-events-none",style:{background:`radial-gradient(circle, ${f}60 0%, transparent 70%)`},animate:{opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}}),k.jsx(de.div,{className:"w-6 h-6 rounded-full relative pointer-events-none",style:{backgroundColor:f,boxShadow:`0 0 10px ${f}, 0 0 20px ${f}80`},animate:{opacity:[.8,1,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]})}function nE({note:r,onClose:n}){const s=zy(r.emotion),l=d=>{if(!d)return"";const f=new Date(d*1e3);return`${f.getMonth()+1}${f.getDate()}`};return k.jsxs(de.div,{className:"fixed inset-0 z-[1000] flex items-center justify-center p-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,children:[k.jsx("div",{className:"absolute inset-0 bg-canvas/80 backdrop-blur-sm"}),k.jsxs(de.div,{className:"relative max-w-sm w-full p-6 bg-white/80 backdrop-blur-md rounded-3xl shadow-xl border border-ink/5",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20,opacity:0},onClick:d=>d.stopPropagation(),children:[k.jsx("div",{className:"absolute -top-3 left-6 w-6 h-6 rounded-full",style:{backgroundColor:s,boxShadow:`0 0 20px ${s}`}}),k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsxs("div",{className:"flex items-center gap-2 text-ink-faint text-xs",children:[k.jsx("span",{children:l(r.createdAt)}),r.locationName&&k.jsxs(k.Fragment,{children:[k.jsx("span",{children:""}),k.jsx("span",{children:r.locationName})]})]}),k.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:`${s}20`,color:s},children:[k.jsx("span",{children:XP(r.emotion)}),k.jsx("span",{className:"font-medium",children:YP(r.emotion)})]})]}),r.imageUrl&&k.jsx("div",{className:"mb-4 rounded-xl overflow-hidden",children:k.jsx("img",{src:r.imageUrl,alt:"",className:"w-full h-48 object-cover"})}),k.jsx("p",{className:"text-ink font-serif leading-relaxed",children:r.content}),k.jsx("p",{className:"text-ink-faint/50 text-xs mt-6 text-center",children:""})]})]})}function iE(){const[r,n]=F.useState([]),[s,l]=F.useState(null),[d,f]=F.useState(new Set),[h,y]=F.useState(null),[g,_]=F.useState(!1),[x,C]=F.useState(!1),[E,N]=F.useState({width:0,height:0}),R=F.useRef(null);F.useEffect(()=>{const B=()=>{R.current&&N({width:R.current.offsetWidth,height:R.current.offsetHeight})};return B(),window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]);const T=F.useCallback(()=>{if(C(!0),navigator.geolocation)navigator.geolocation.getCurrentPosition(B=>{const ie={lat:B.coords.latitude,lng:B.coords.longitude};y(ie),_(!0),C(!1),b(ie.lat,ie.lng)},B=>{console.error("Geolocation error:",B);const ie={lat:39.915,lng:116.404};y(ie),_(!0),C(!1),b(ie.lat,ie.lng)},{enableHighAccuracy:!0,timeout:1e4});else{const B={lat:39.915,lng:116.404};y(B),_(!0),C(!1),b(B.lat,B.lng)}},[]);async function b(B,ie){try{const re=await ls.getNearbyNotes(B,ie);n(re.slice(0,30))}catch(re){console.error("Failed to load nearby notes:",re)}}F.useEffect(()=>{T()},[T]);const j=B=>{l(B),f(ie=>new Set(ie).add(B.id))},z=()=>{l(null)},U=r.filter(B=>!d.has(B.id)),G=r.length===0&&g,q=()=>k.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-canvas",children:k.jsxs(de.div,{className:"flex flex-col items-center gap-4",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[k.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-mood-melancholy/30 to-mood-warmth/30 blur-lg"}),k.jsx("p",{className:"text-ink-faint font-serif text-sm",children:"..."})]})});return k.jsxs("div",{className:"relative h-dvh w-full overflow-hidden bg-canvas flex flex-col",children:[k.jsx(de.header,{className:"relative z-[500] px-6 pt-4 pb-3 bg-canvas safe-area-top",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"glass px-4 py-2 rounded-2xl",children:[k.jsx("h1",{className:"font-display text-xl text-ink tracking-wider",children:""}),k.jsx("p",{className:"text-ink-faint text-xs mt-0.5",children:""})]}),k.jsxs(de.div,{className:"glass px-4 py-2 rounded-2xl text-right",animate:{opacity:[.7,1,.7]},transition:{duration:3,repeat:1/0},children:[k.jsx("p",{className:"text-ink-faint text-xs",children:""}),k.jsxs("p",{className:"text-ink text-sm font-serif",children:[U.length," "]})]})]})}),k.jsxs("div",{ref:R,className:"flex-1 relative overflow-hidden",children:[!g&&q(),g&&h&&k.jsxs(xS,{center:[h.lat,h.lng],zoom:15,style:{height:"100%",width:"100%"},zoomControl:!1,attributionControl:!1,children:[k.jsx(PS,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),k.jsx(JP,{userLocation:h}),k.jsx(eE,{userLocation:h}),k.jsx(SS,{position:[h.lat,h.lng],icon:QP,children:k.jsx(CS,{children:""})})]}),k.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-b from-canvas/20 via-transparent to-canvas/20 z-[400]"}),E.width>0&&U.map((B,ie)=>k.jsx(tE,{note:B,index:ie,containerSize:E,onClick:j},B.id)),G&&k.jsx(de.div,{className:"absolute inset-0 flex items-center justify-center z-[500]",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:k.jsx("div",{className:"glass px-6 py-4 rounded-2xl",children:k.jsx("p",{className:"text-ink-faint font-serif text-lg tracking-wider",children:""})})}),k.jsx(de.button,{className:"absolute bottom-4 right-4 z-[600] w-12 h-12 glass rounded-full flex items-center justify-center shadow-lg",whileTap:{scale:.95},onClick:T,disabled:x,children:k.jsx(de.div,{animate:x?{rotate:360}:{rotate:0},transition:x?{duration:1,repeat:1/0,ease:"linear"}:{},children:k.jsx(jS,{className:`w-5 h-5 ${x?"text-ink-faint":"text-ink"}`})})})]}),k.jsx("div",{className:"h-24 bg-canvas safe-area-bottom"}),k.jsx(si,{children:s&&k.jsx(nE,{note:s,onClose:z})})]})}const kg={melancholy:"#B0C4DE",warmth:"#D8BFD8",spark:"#8FBC8F",peace:"#DEB887",joy:"#F4A460",calm:"#DEB887"},Tg={melancholy:"",warmth:"",spark:"",peace:"",joy:"",calm:""};function rE({onBack:r,onOpenChat:n}){const[s,l]=F.useState([]),[d,f]=F.useState(!0),[h,y]=F.useState(!1),[g,_]=F.useState("trace"),[x,C]=F.useState(""),[E,N]=F.useState("calm"),[R,T]=F.useState(!1),[b,j]=F.useState(!1);F.useEffect(()=>{z()},[]);async function z(){try{const B=await ls.getNotes();l(B)}catch(B){console.error("Failed to load notes:",B)}finally{f(!1)}}async function U(){if(x.trim()){j(!0);try{const B=await ls.createNote({content:x.trim(),mood:E,mode:g,isPrivate:R});l([B,...s]),C(""),y(!1),g==="spirit"&&n(B.id)}catch(B){console.error("Failed to create note:",B)}finally{j(!1)}}}async function G(B){try{await ls.deleteNote(B),l(s.filter(ie=>ie.id!==B))}catch(ie){console.error("Failed to delete note:",ie)}}const q=B=>{if(!B)return"";const ie=new Date(B*1e3);return`${ie.getMonth()+1}${ie.getDate()} ${ie.getHours()}:${String(ie.getMinutes()).padStart(2,"0")}`};return k.jsxs("div",{className:"min-h-dvh bg-canvas paper-texture",children:[k.jsx("header",{className:"sticky top-0 z-10 glass safe-area-top",children:k.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[k.jsxs("div",{className:"flex items-center gap-4",children:[k.jsx(de.button,{className:"w-10 h-10 rounded-full bg-ink/5 flex items-center justify-center",onClick:r,whileTap:{scale:.95},children:k.jsx(xy,{className:"w-5 h-5 text-ink"})}),k.jsxs("div",{children:[k.jsx("h1",{className:"font-display text-xl text-ink",children:""}),k.jsx("p",{className:"text-ink-faint text-xs",children:""})]})]}),k.jsx(de.button,{className:"w-10 h-10 rounded-full bg-gradient-to-br from-mood-melancholy to-mood-warmth flex items-center justify-center",onClick:()=>y(!0),whileTap:{scale:.95},children:k.jsx(nh,{className:"w-5 h-5 text-white"})})]})}),k.jsx("div",{className:"px-4 py-6 space-y-4",children:d?k.jsxs("div",{className:"text-center py-16",children:[k.jsx(de.div,{className:"w-8 h-8 mx-auto rounded-full bg-gradient-to-br from-mood-spark/30 to-mood-peace/30",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0}}),k.jsx("p",{className:"text-ink-faint font-serif mt-4",children:"..."})]}):s.length===0?k.jsxs(de.div,{className:"text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[k.jsx(nh,{className:"w-12 h-12 mx-auto text-ink-faint/30 mb-4"}),k.jsx("p",{className:"text-ink-faint font-serif",children:""}),k.jsx("p",{className:"text-ink-faint/60 text-sm mt-1",children:""})]}):k.jsx(si,{children:s.map((B,ie)=>k.jsxs(de.div,{className:"p-4 rounded-2xl bg-white/50 backdrop-blur-sm border border-ink/5",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},transition:{delay:ie*.05},children:[k.jsxs("div",{className:"flex items-center justify-between mb-3",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:kg[B.mood||"calm"]}}),k.jsx("span",{className:"text-ink-faint text-xs",children:Tg[B.mood||"calm"]}),B.mode==="spirit"&&k.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-mood-spark/20 text-mood-spark rounded",children:""}),B.isPrivate===1&&k.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-ink/10 text-ink-faint rounded",children:""})]}),k.jsx("span",{className:"text-ink-faint/50 text-xs",children:q(B.createdAt)})]}),k.jsx("p",{className:"text-ink font-serif text-sm leading-relaxed mb-3",children:B.content}),B.aiSummary&&k.jsxs("div",{className:"p-3 rounded-xl bg-parchment/30 border border-ink/5 mb-3",children:[k.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[k.jsx("div",{className:"w-4 h-4 rounded-full bg-gradient-to-br from-mood-spark to-mood-peace"}),k.jsx("span",{className:"text-xs text-ink-faint",children:""})]}),k.jsx("p",{className:"text-ink/80 text-sm font-serif italic",children:B.aiSummary})]}),k.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-ink/5",children:[B.mode==="spirit"&&k.jsxs(de.button,{className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-mood-spark/10 text-mood-spark text-xs",whileTap:{scale:.95},onClick:()=>n(B.id),children:[k.jsx(Xh,{className:"w-3.5 h-3.5"}),""]}),k.jsx(de.button,{className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-ink/5 text-ink-faint text-xs ml-auto",whileTap:{scale:.95},onClick:()=>G(B.id),children:k.jsx(KS,{className:"w-3.5 h-3.5"})})]})]},B.id))})}),k.jsx(si,{children:h&&k.jsxs(k.Fragment,{children:[k.jsx(de.div,{className:"fixed inset-0 bg-black/30 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>y(!1)}),k.jsx(de.div,{className:"fixed bottom-0 left-0 right-0 bg-canvas rounded-t-3xl z-50 safe-area-bottom",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},children:k.jsxs("div",{className:"p-6",children:[k.jsx("div",{className:"w-10 h-1 bg-ink/10 rounded-full mx-auto mb-6"}),k.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[k.jsx("button",{className:`flex-1 py-2 rounded-full text-sm font-serif transition-colors ${g==="trace"?"bg-ink text-canvas":"bg-ink/5 text-ink"}`,onClick:()=>_("trace"),children:""}),k.jsx("button",{className:`flex-1 py-2 rounded-full text-sm font-serif transition-colors ${g==="spirit"?"bg-gradient-to-r from-mood-spark to-mood-peace text-white":"bg-ink/5 text-ink"}`,onClick:()=>_("spirit"),children:""})]}),k.jsx("textarea",{value:x,onChange:B=>C(B.target.value),placeholder:g==="trace"?"...":"...",className:"w-full h-32 p-4 bg-white/50 rounded-2xl text-ink font-serif text-sm placeholder:text-ink-faint resize-none focus:outline-none border border-ink/5"}),k.jsx("div",{className:"flex items-center gap-2 mt-4 overflow-x-auto pb-2",children:Object.entries(Tg).map(([B,ie])=>k.jsxs("button",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full whitespace-nowrap transition-colors ${E===B?"bg-ink text-canvas":"bg-ink/5 text-ink"}`,onClick:()=>N(B),children:[k.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:kg[B]}}),k.jsx("span",{className:"text-xs",children:ie})]},B))}),k.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-ink/5",children:[k.jsx("span",{className:"text-sm text-ink-faint",children:""}),k.jsx("button",{className:`w-12 h-6 rounded-full transition-colors ${R?"bg-mood-warmth":"bg-ink/10"}`,onClick:()=>T(!R),children:k.jsx(de.div,{className:"w-5 h-5 rounded-full bg-white shadow-sm",animate:{x:R?26:2},transition:{type:"spring",stiffness:500,damping:30}})})]}),k.jsx(de.button,{className:"w-full mt-6 py-3 rounded-full bg-gradient-to-r from-mood-melancholy to-mood-warmth text-white font-serif disabled:opacity-50",onClick:U,disabled:!x.trim()||b,whileTap:{scale:.98},children:b?"...":g==="trace"?"":""})]})})]})})]})}const bg={sad:"#8BA4C7",happy:"#F4C542",calm:"#A8D5BA",mysterious:"#B695C0",angry:"#E07A5F"},Lg={sad:"",happy:"",calm:"",mysterious:"",angry:""},Mg={sad:"",happy:"",calm:"",mysterious:"",angry:""};function sE({onBack:r}){const[n,s]=F.useState([]),[l,d]=F.useState(!0),[f,h]=F.useState(new Set);F.useEffect(()=>{y()},[]);async function y(){try{const R=await ls.getNotes();console.log("[TracesPage] Loaded notes:",R),s(R)}catch(R){console.error("Failed to load notes:",R)}finally{d(!1)}}const g=R=>{if(!R)return"";const T=new Date(R*1e3),b=T.getFullYear(),j=T.getMonth()+1,z=T.getDate();return`${b}${j}${z}`},_=R=>{h(T=>{const b=new Set(T);return b.has(R)?b.delete(R):b.add(R),b})},x=R=>R.mode==="awaken"&&R.aiSummary,C=R=>bg[R||"calm"]||bg.calm,E=R=>Lg[R||"calm"]||Lg.calm,N=R=>Mg[R||"calm"]||Mg.calm;return k.jsxs("div",{className:"h-dvh overflow-y-auto bg-canvas paper-texture",children:[k.jsx("header",{className:"sticky top-0 z-10 glass safe-area-top",children:k.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[k.jsx(de.button,{className:"w-10 h-10 rounded-full bg-ink/5 flex items-center justify-center",onClick:r,whileTap:{scale:.95},children:k.jsx(xy,{className:"w-5 h-5 text-ink"})}),k.jsxs("div",{children:[k.jsx("h1",{className:"font-display text-xl text-ink",children:""}),k.jsx("p",{className:"text-ink-faint text-xs",children:""})]})]})}),k.jsx("div",{className:"px-4 py-6 space-y-4 pb-24",children:l?k.jsxs("div",{className:"text-center py-16",children:[k.jsx(de.div,{className:"w-8 h-8 mx-auto rounded-full bg-gradient-to-br from-mood-spark/30 to-mood-peace/30",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0}}),k.jsx("p",{className:"text-ink-faint font-serif mt-4",children:"..."})]}):n.length===0?k.jsxs(de.div,{className:"text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[k.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-ink/5 flex items-center justify-center",children:k.jsx(Xh,{className:"w-8 h-8 text-ink-faint/30"})}),k.jsx("p",{className:"text-ink-faint font-serif",children:""}),k.jsx("p",{className:"text-ink-faint/60 text-sm mt-1",children:""})]}):k.jsx(si,{children:n.map((R,T)=>{const b=f.has(R.id),j=x(R),z=C(R.emotion);return k.jsx(de.div,{className:"relative overflow-hidden rounded-2xl bg-white/60 backdrop-blur-sm shadow-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},children:k.jsxs("div",{className:"p-4",children:[k.jsxs("div",{className:"flex items-center justify-between mb-3",children:[k.jsx("p",{className:"text-ink-faint text-xs tracking-wide",children:g(R.createdAt)}),k.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full text-xs",style:{backgroundColor:`${z}20`,color:z},children:[k.jsx("span",{children:N(R.emotion)}),k.jsx("span",{className:"font-medium",children:E(R.emotion)})]})]}),R.imageUrl&&k.jsx("div",{className:"mb-3 rounded-xl overflow-hidden",children:k.jsx("img",{src:R.imageUrl,alt:"",className:"w-full h-40 object-cover"})}),k.jsx("p",{className:"text-ink font-serif leading-relaxed text-base mb-3",children:R.content}),j&&k.jsxs("div",{className:"flex items-center gap-1.5 mb-3",children:[k.jsx("span",{className:"text-mood-warmth",children:""}),k.jsx("span",{className:"text-xs text-mood-warmth/80 tracking-wider",children:""})]}),j&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"border-t border-dashed border-ink/10 my-3"}),k.jsx(de.button,{className:"w-full text-left",onClick:()=>_(R.id),children:k.jsx(si,{mode:"wait",children:b?k.jsxs(de.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsx("p",{className:"text-xs text-ink-faint tracking-wider",children:""}),k.jsx(ig,{className:"w-4 h-4 text-ink-faint rotate-180 transition-transform"})]}),k.jsx("p",{className:"text-ink/80 font-serif text-sm leading-relaxed italic",children:R.aiSummary})]},"expanded"):k.jsxs(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-between",children:[k.jsx("p",{className:"text-ink-faint/50 text-xs",children:""}),k.jsx(ig,{className:"w-4 h-4 text-ink-faint/50"})]},"collapsed")})})]})]})},R.id)})})})]})}const oE={},Ng=r=>{let n;const s=new Set,l=(x,C)=>{const E=typeof x=="function"?x(n):x;if(!Object.is(E,n)){const N=n;n=C??(typeof E!="object"||E===null)?E:Object.assign({},n,E),s.forEach(R=>R(n,N))}},d=()=>n,g={setState:l,getState:d,getInitialState:()=>_,subscribe:x=>(s.add(x),()=>s.delete(x)),destroy:()=>{(oE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},_=n=r(l,d,g);return g},aE=r=>r?Ng(r):Ng;var Id={exports:{}},Od={},Dd={exports:{}},jd={};var Rg;function lE(){if(Rg)return jd;Rg=1;var r=Oa();function n(C,E){return C===E&&(C!==0||1/C===1/E)||C!==C&&E!==E}var s=typeof Object.is=="function"?Object.is:n,l=r.useState,d=r.useEffect,f=r.useLayoutEffect,h=r.useDebugValue;function y(C,E){var N=E(),R=l({inst:{value:N,getSnapshot:E}}),T=R[0].inst,b=R[1];return f(function(){T.value=N,T.getSnapshot=E,g(T)&&b({inst:T})},[C,N,E]),d(function(){return g(T)&&b({inst:T}),C(function(){g(T)&&b({inst:T})})},[C]),h(N),N}function g(C){var E=C.getSnapshot;C=C.value;try{var N=E();return!s(C,N)}catch{return!0}}function _(C,E){return E()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_:y;return jd.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:x,jd}var Ag;function uE(){return Ag||(Ag=1,Dd.exports=lE()),Dd.exports}var Ig;function cE(){if(Ig)return Od;Ig=1;var r=Oa(),n=uE();function s(_,x){return _===x&&(_!==0||1/_===1/x)||_!==_&&x!==x}var l=typeof Object.is=="function"?Object.is:s,d=n.useSyncExternalStore,f=r.useRef,h=r.useEffect,y=r.useMemo,g=r.useDebugValue;return Od.useSyncExternalStoreWithSelector=function(_,x,C,E,N){var R=f(null);if(R.current===null){var T={hasValue:!1,value:null};R.current=T}else T=R.current;R=y(function(){function j(B){if(!z){if(z=!0,U=B,B=E(B),N!==void 0&&T.hasValue){var ie=T.value;if(N(ie,B))return G=ie}return G=B}if(ie=G,l(U,B))return ie;var re=E(B);return N!==void 0&&N(ie,re)?(U=B,ie):(U=B,G=re)}var z=!1,U,G,q=C===void 0?null:C;return[function(){return j(x())},q===null?void 0:function(){return j(q())}]},[x,C,E,N]);var b=d(_,R[0],R[1]);return h(function(){T.hasValue=!0,T.value=b},[b]),g(b),b},Od}var Og;function dE(){return Og||(Og=1,Id.exports=cE()),Id.exports}var hE=dE();const fE=dh(hE),By={},{useDebugValue:pE}=Cu,{useSyncExternalStoreWithSelector:mE}=fE;let Dg=!1;const gE=r=>r;function vE(r,n=gE,s){(By?"production":void 0)!=="production"&&s&&!Dg&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Dg=!0);const l=mE(r.subscribe,r.getState,r.getServerState||r.getInitialState,n,s);return pE(l),l}const yE=r=>{(By?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof r=="function"?aE(r):r,s=(l,d)=>vE(n,l,d);return Object.assign(s,n),s},_E=r=>yE,wE={};function xE(r,n){let s;try{s=r()}catch{return}return{getItem:d=>{var f;const h=g=>g===null?null:JSON.parse(g,void 0),y=(f=s.getItem(d))!=null?f:null;return y instanceof Promise?y.then(h):h(y)},setItem:(d,f)=>s.setItem(d,JSON.stringify(f,void 0)),removeItem:d=>s.removeItem(d)}}const Ia=r=>n=>{try{const s=r(n);return s instanceof Promise?s:{then(l){return Ia(l)(s)},catch(l){return this}}}catch(s){return{then(l){return this},catch(l){return Ia(l)(s)}}}},SE=(r,n)=>(s,l,d)=>{let f={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,j)=>({...j,...b}),...n},h=!1;const y=new Set,g=new Set;let _;try{_=f.getStorage()}catch{}if(!_)return r((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),s(...b)},l,d);const x=Ia(f.serialize),C=()=>{const b=f.partialize({...l()});let j;const z=x({state:b,version:f.version}).then(U=>_.setItem(f.name,U)).catch(U=>{j=U});if(j)throw j;return z},E=d.setState;d.setState=(b,j)=>{E(b,j),C()};const N=r((...b)=>{s(...b),C()},l,d);let R;const T=()=>{var b;if(!_)return;h=!1,y.forEach(z=>z(l()));const j=((b=f.onRehydrateStorage)==null?void 0:b.call(f,l()))||void 0;return Ia(_.getItem.bind(_))(f.name).then(z=>{if(z)return f.deserialize(z)}).then(z=>{if(z)if(typeof z.version=="number"&&z.version!==f.version){if(f.migrate)return f.migrate(z.state,z.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return z.state}).then(z=>{var U;return R=f.merge(z,(U=l())!=null?U:N),s(R,!0),C()}).then(()=>{j?.(R,void 0),h=!0,g.forEach(z=>z(R))}).catch(z=>{j?.(void 0,z)})};return d.persist={setOptions:b=>{f={...f,...b},b.getStorage&&(_=b.getStorage())},clearStorage:()=>{_?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>T(),hasHydrated:()=>h,onHydrate:b=>(y.add(b),()=>{y.delete(b)}),onFinishHydration:b=>(g.add(b),()=>{g.delete(b)})},T(),R||N},CE=(r,n)=>(s,l,d)=>{let f={storage:xE(()=>localStorage),partialize:T=>T,version:0,merge:(T,b)=>({...b,...T}),...n},h=!1;const y=new Set,g=new Set;let _=f.storage;if(!_)return r((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${f.name}', the given storage is currently unavailable.`),s(...T)},l,d);const x=()=>{const T=f.partialize({...l()});return _.setItem(f.name,{state:T,version:f.version})},C=d.setState;d.setState=(T,b)=>{C(T,b),x()};const E=r((...T)=>{s(...T),x()},l,d);d.getInitialState=()=>E;let N;const R=()=>{var T,b;if(!_)return;h=!1,y.forEach(z=>{var U;return z((U=l())!=null?U:E)});const j=((b=f.onRehydrateStorage)==null?void 0:b.call(f,(T=l())!=null?T:E))||void 0;return Ia(_.getItem.bind(_))(f.name).then(z=>{if(z)if(typeof z.version=="number"&&z.version!==f.version){if(f.migrate)return[!0,f.migrate(z.state,z.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,z.state];return[!1,void 0]}).then(z=>{var U;const[G,q]=z;if(N=f.merge(q,(U=l())!=null?U:E),s(N,!0),G)return x()}).then(()=>{j?.(N,void 0),N=l(),h=!0,g.forEach(z=>z(N))}).catch(z=>{j?.(void 0,z)})};return d.persist={setOptions:T=>{f={...f,...T},T.storage&&(_=T.storage)},clearStorage:()=>{_?.removeItem(f.name)},getOptions:()=>f,rehydrate:()=>R(),hasHydrated:()=>h,onHydrate:T=>(y.add(T),()=>{y.delete(T)}),onFinishHydration:T=>(g.add(T),()=>{g.delete(T)})},f.skipHydration||R(),N||E},PE=(r,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((wE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),SE(r,n)):CE(r,n),EE=PE,ch=_E()(EE(r=>({user:null,isChecking:!0,setUser:n=>r({user:n}),setChecking:n=>r({isChecking:n}),reset:()=>r({user:null,isChecking:!1})}),{name:"spirit-auth",partialize:r=>({user:r.user})}));function kE(){const r=F.useRef(null),n=F.useRef(!1),[s,l]=F.useState(!1),{setUser:d}=ch();return F.useEffect(()=>{Kt.auth.getSession().then(f=>{f.data?.user?d({id:f.data.user.id,email:f.data.user.email,name:f.data.user.name||""}):l(!0)})},[d]),F.useEffect(()=>{!s||n.current||!r.current||(n.current=!0,Kt.auth.renderAuthUI(r.current,{redirectTo:"/",onLogin:f=>{d({id:f.id,email:f.email,name:f.name||""})},labels:{signIn:{title:"",subtitle:"",emailPlaceholder:"",passwordPlaceholder:"",loginButton:"",forgotPassword:"",signUpPrompt:"",toggleToSignUp:""},signUp:{title:"",subtitle:"",namePlaceholder:"",emailPlaceholder:"",passwordPlaceholder:"",signUpButton:"",signInPrompt:"",toggleToSignIn:""}}}))},[s,d]),s?k.jsxs("div",{className:"h-dvh w-full flex flex-col items-center justify-center bg-canvas paper-texture overflow-hidden",children:[k.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[k.jsx(de.div,{className:"absolute w-96 h-96 rounded-full opacity-20",style:{background:"radial-gradient(circle, #B0C4DE 0%, transparent 70%)",left:"-10%",top:"10%",filter:"blur(60px)"},animate:{scale:[1,1.2,1],x:[0,30,0]},transition:{duration:20,repeat:1/0,ease:"easeInOut"}}),k.jsx(de.div,{className:"absolute w-80 h-80 rounded-full opacity-20",style:{background:"radial-gradient(circle, #D8BFD8 0%, transparent 70%)",right:"-10%",bottom:"20%",filter:"blur(60px)"},animate:{scale:[1,1.15,1],y:[0,-20,0]},transition:{duration:25,repeat:1/0,ease:"easeInOut"}})]}),k.jsx(de.div,{className:"relative z-10 w-full max-w-md px-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:k.jsx("div",{ref:r,style:{width:"100%",maxWidth:420}})})]}):k.jsx("div",{className:"h-dvh w-full flex items-center justify-center bg-canvas paper-texture",children:k.jsxs(de.div,{className:"flex flex-col items-center gap-4",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[k.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-mood-melancholy/30 to-mood-warmth/30 blur-lg"}),k.jsx("p",{className:"text-ink-faint font-serif text-sm",children:"..."})]})})}function TE({noteId:r,onBack:n}){const[s,l]=F.useState(null),[d,f]=F.useState([]),[h,y]=F.useState(""),[g,_]=F.useState(!0),[x,C]=F.useState(!1),E=F.useRef(null);F.useEffect(()=>{async function R(){try{const b=await(await Kt.api.fetch(`/api/notes/${r}`)).json();l(b.data);const j=await ls.getNoteChats(r);f(j.map((z,U)=>({id:`history-${U}`,role:z.role,content:z.content})))}catch(T){console.error("Failed to load chat data:",T)}finally{_(!1)}}R()},[r]);async function N(R){if(R.preventDefault(),!h.trim()||x)return;const T={id:`user-${Date.now()}`,role:"user",content:h.trim()};f(b=>[...b,T]),y(""),C(!0);try{const b=await Kt.api.fetch("/api/ai/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...d,T].map(q=>({role:q.role,content:q.content})),noteId:r,noteContent:s?.content,locationName:s?.locationName})});if(!b.body)return;const j=b.body.getReader(),z=new TextDecoder;let U="";const G=`assistant-${Date.now()}`;for(f(q=>[...q,{id:G,role:"assistant",content:""}]);;){const{done:q,value:B}=await j.read();if(q)break;const ie=z.decode(B,{stream:!0});U+=ie,f(re=>re.map(Ce=>Ce.id===G?{...Ce,content:U}:Ce))}}catch(b){console.error("Failed to send message:",b)}finally{C(!1)}}return F.useEffect(()=>{E.current?.scrollIntoView({behavior:"smooth"})},[d]),g?k.jsx("div",{className:"h-dvh w-full flex items-center justify-center bg-canvas paper-texture",children:k.jsxs(de.div,{className:"flex flex-col items-center gap-4",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[k.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-mood-spark/30 to-mood-peace/30 blur-lg"}),k.jsx("p",{className:"text-ink-faint font-serif text-sm",children:"..."})]})}):k.jsxs("div",{className:"h-dvh w-full flex flex-col bg-canvas paper-texture",children:[k.jsxs("header",{className:"flex items-center gap-4 px-4 pt-4 pb-3 safe-area-top border-b border-ink/5",children:[k.jsx(de.button,{className:"p-2 -ml-2 rounded-full text-ink",whileTap:{scale:.95},onClick:n,children:k.jsx(NS,{className:"w-5 h-5"})}),k.jsxs("div",{className:"flex-1",children:[k.jsx("h1",{className:"font-display text-lg text-ink",children:""}),s?.locationName&&k.jsx("p",{className:"text-ink-faint text-xs",children:s.locationName})]})]}),s&&k.jsx("div",{className:"px-4 py-3",children:k.jsx(de.div,{className:"p-4 rounded-2xl bg-white/50 backdrop-blur-sm border border-ink/5",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:k.jsx("p",{className:"text-ink text-sm font-serif leading-relaxed line-clamp-3",children:s.content})})}),k.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-4",children:[k.jsx(si,{children:d.map((R,T)=>k.jsx(de.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.05},className:`flex ${R.role==="user"?"justify-end":"justify-start"}`,children:k.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl ${R.role==="user"?"bg-gradient-to-br from-mood-melancholy/20 to-mood-warmth/20 text-ink":"bg-white/60 backdrop-blur-sm border border-ink/5 text-ink"}`,children:[R.role==="assistant"&&k.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[k.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-mood-spark to-mood-peace"}),k.jsx("span",{className:"text-xs text-ink-faint font-serif",children:""})]}),k.jsx("p",{className:"text-sm font-serif leading-relaxed whitespace-pre-wrap",children:R.content})]})},R.id))}),x&&d[d.length-1]?.role==="user"&&k.jsx(de.div,{className:"flex justify-start",initial:{opacity:0},animate:{opacity:1},children:k.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/60 backdrop-blur-sm rounded-2xl border border-ink/5",children:[k.jsx(de.div,{className:"w-2 h-2 rounded-full bg-mood-spark",animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1,repeat:1/0}}),k.jsx("span",{className:"text-xs text-ink-faint",children:"..."})]})}),k.jsx("div",{ref:E})]}),k.jsx("div",{className:"px-4 pb-4 safe-area-bottom",children:k.jsxs("form",{onSubmit:N,className:"flex items-end gap-2 p-2 bg-white/60 backdrop-blur-sm rounded-2xl border border-ink/10",children:[k.jsx("textarea",{value:h,onChange:R=>y(R.target.value),placeholder:"...",rows:1,className:"flex-1 px-3 py-2 bg-transparent text-sm font-serif text-ink placeholder:text-ink-faint resize-none focus:outline-none",style:{maxHeight:120},onInput:R=>{const T=R.target;T.style.height="auto",T.style.height=Math.min(T.scrollHeight,120)+"px"}}),k.jsx(de.button,{type:"submit",disabled:!h.trim()||x,className:"p-2.5 rounded-full bg-gradient-to-br from-mood-melancholy to-mood-warmth text-white disabled:opacity-50 disabled:cursor-not-allowed",whileTap:{scale:.95},children:k.jsx(Sy,{className:"w-4 h-4"})})]})})]})}function bE({isOpen:r,mode:n,onClose:s,onSave:l}){const[d,f]=F.useState("camera"),[h,y]=F.useState(null),[g,_]=F.useState(""),[x,C]=F.useState("awaken"),[E,N]=F.useState(!1),R=F.useRef(null),T=F.useRef(null),b=F.useRef(null),j=F.useRef(null);F.useEffect(()=>{r?(f(n==="camera"?"camera":"input"),y(null),_(""),C("awaken"),N(!1),n==="text"&&setTimeout(()=>T.current?.focus(),100)):U()},[r,n]);const z=F.useCallback(async()=>{try{const re=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"},audio:!1});j.current=re,b.current&&(b.current.srcObject=re)}catch(re){console.error(":",re),R.current?.click()}},[]),U=F.useCallback(()=>{j.current&&(j.current.getTracks().forEach(re=>re.stop()),j.current=null)},[]);F.useEffect(()=>(r&&n==="camera"&&d==="camera"&&z(),()=>{d!=="camera"&&U()}),[r,n,d,z,U]);const G=F.useCallback(()=>{if(!b.current)return;const re=document.createElement("canvas");re.width=b.current.videoWidth,re.height=b.current.videoHeight;const Ce=re.getContext("2d");if(Ce){Ce.drawImage(b.current,0,0);const Ae=re.toDataURL("image/jpeg",.8);y(Ae),U(),f("input"),setTimeout(()=>T.current?.focus(),100)}},[U]),q=re=>{const Ce=re.target.files?.[0];if(Ce){const Ae=new FileReader;Ae.onload=le=>{y(le.target?.result),f("input"),setTimeout(()=>T.current?.focus(),100)},Ae.readAsDataURL(Ce)}},B=async()=>{if(!(!g.trim()&&!h)){N(!0);try{await l({content:g.trim(),imageUrl:h||void 0,spiritMode:x})}catch(re){console.error(":",re),N(!1)}}},ie=()=>{U(),s()};return r?k.jsx(si,{children:k.jsxs(de.div,{className:"fixed inset-0 z-[1000]",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[k.jsx("div",{className:"absolute inset-0 bg-canvas/60 backdrop-blur-xl"}),k.jsx(de.button,{className:"absolute top-4 right-4 safe-area-top z-10 p-3 glass rounded-full",whileTap:{scale:.95},onClick:ie,children:k.jsx(YS,{className:"w-5 h-5 text-ink"})}),n==="camera"&&d==="camera"&&k.jsxs(de.div,{className:"absolute inset-0 flex flex-col",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[k.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[k.jsx("video",{ref:b,autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:k.jsx("div",{className:"w-64 h-64 border-2 border-white/30 rounded-3xl"})})]}),k.jsx("div",{className:"relative z-10 pb-12 pt-6 flex justify-center safe-area-bottom",children:k.jsx(de.button,{className:"w-20 h-20 rounded-full bg-white/90 flex items-center justify-center shadow-xl",whileTap:{scale:.9},onClick:G,children:k.jsx("div",{className:"w-16 h-16 rounded-full border-4 border-ink/20"})})}),k.jsx("input",{ref:R,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:q})]}),(d==="input"||n==="text")&&k.jsxs(de.div,{className:"absolute inset-0 flex flex-col safe-area-top safe-area-bottom",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:[h&&k.jsxs("div",{className:"relative flex-shrink-0 h-[45%] overflow-hidden",children:[k.jsx("img",{src:h,alt:"",className:"w-full h-full object-cover"}),k.jsx("div",{className:"absolute inset-x-0 bottom-0 h-20 bg-gradient-to-t from-canvas/80 to-transparent"})]}),k.jsxs("div",{className:`flex-1 flex flex-col px-6 ${h?"pt-4":"pt-20 justify-center"}`,children:[!h&&k.jsx(de.h2,{className:"text-2xl font-display text-ink text-center mb-8",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:""}),k.jsxs("div",{className:"glass rounded-2xl p-4 flex-shrink-0",children:[k.jsx("textarea",{ref:T,value:g,onChange:re=>_(re.target.value),placeholder:h?"...":"...",className:"w-full bg-transparent text-ink font-serif text-base leading-relaxed resize-none outline-none placeholder:text-ink-faint/50",rows:h?3:6,maxLength:500}),k.jsx("div",{className:"flex justify-end mt-2",children:k.jsxs("span",{className:"text-xs text-ink-faint",children:[g.length,"/500"]})})]}),k.jsxs("div",{className:"mt-auto pb-6 flex items-center justify-between",children:[k.jsxs(de.button,{className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all ${x==="awaken"?"bg-mood-warmth/20 text-ink":"bg-ink/5 text-ink-faint"}`,whileTap:{scale:.95},onClick:()=>C(x==="awaken"?"trace":"awaken"),children:[k.jsx(Xh,{className:`w-4 h-4 ${x==="awaken"?"text-mood-warmth":""}`}),k.jsx("span",{className:"text-sm font-serif",children:x==="awaken"?"":""}),k.jsx("div",{className:`w-8 h-4 rounded-full transition-colors ${x==="awaken"?"bg-mood-warmth":"bg-ink/20"}`,children:k.jsx(de.div,{className:"w-3 h-3 bg-white rounded-full mt-0.5",animate:{x:x==="awaken"?16:2},transition:{type:"spring",stiffness:500,damping:30}})})]}),k.jsxs(de.button,{className:`flex items-center gap-2 px-6 py-3 rounded-full shadow-lg transition-all ${g.trim()||h?"bg-gradient-to-r from-mood-melancholy to-mood-warmth text-white":"bg-ink/10 text-ink-faint"}`,whileTap:{scale:.95},onClick:B,disabled:E||!g.trim()&&!h,children:[E?k.jsx(de.div,{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}):k.jsx(Sy,{className:"w-5 h-5"}),k.jsx("span",{className:"font-serif",children:""})]})]})]})]})]})}):null}function LE({message:r,isVisible:n}){return k.jsx(si,{children:n&&k.jsx(de.div,{className:"fixed top-1/2 left-1/2 z-[2000] -translate-x-1/2 -translate-y-1/2",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:-20},children:k.jsx("div",{className:"px-6 py-3 bg-ink/80 backdrop-blur-sm rounded-full text-white font-serif text-sm shadow-xl",children:r})})})}function ME({isActive:r,onComplete:n}){return F.useEffect(()=>{if(r){const s=setTimeout(n,1500);return()=>clearTimeout(s)}},[r,n]),k.jsx(si,{children:r&&k.jsx(de.div,{className:"fixed inset-0 z-[1500] pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:Array.from({length:20}).map((s,l)=>k.jsx(de.div,{className:"absolute w-4 h-4 rounded-full bg-ink/30",style:{left:`${30+Math.random()*40}%`,top:`${30+Math.random()*40}%`},initial:{scale:1,opacity:.6},animate:{scale:[1,2,0],opacity:[.6,.3,0],x:(Math.random()-.5)*200,y:(Math.random()-.5)*200},transition:{duration:1.2,delay:l*.05,ease:"easeOut"}},l))})})}function NE(){const[r,n]=F.useState("home"),[s,l]=F.useState(null),{user:d,isChecking:f,setUser:h,setChecking:y,reset:g}=ch(),[_,x]=F.useState(!1),[C,E]=F.useState("camera"),[N,R]=F.useState(!1),[T,b]=F.useState(""),[j,z]=F.useState(!1),U=F.useRef(null),G=F.useRef(!1),q=150;F.useEffect(()=>{B()},[]);async function B(){if(ch.getState().user){y(!1);return}try{const Fe=await Kt.auth.getSession();Fe.data?.user&&h({id:Fe.data.user.id,email:Fe.data.user.email,name:Fe.data.user.name||""})}finally{y(!1)}}async function ie(){await Kt.auth.signOut(),g()}function re(Fe){l(Fe),n("chat")}const Ce=F.useCallback(()=>{G.current=!1,U.current=setTimeout(()=>{G.current=!0,E("text"),x(!0)},q)},[]),Ae=F.useCallback(()=>{U.current&&(clearTimeout(U.current),U.current=null),G.current||(E("camera"),x(!0))},[]),le=F.useCallback(()=>{U.current&&(clearTimeout(U.current),U.current=null)},[]),Ve=Fe=>{b(Fe),z(!0),setTimeout(()=>z(!1),2e3)},ze=async Fe=>{try{let Re,ke;try{const ve=await new Promise((Y,O)=>{navigator.geolocation.getCurrentPosition(Y,O,{timeout:5e3})});Re=ve.coords.latitude,ke=ve.coords.longitude}catch{console.log("")}const K=await ls.createNote({content:Fe.content,latitude:Re,longitude:ke,emotion:"calm",mode:Fe.spiritMode,isPrivate:!1});x(!1),Fe.spiritMode==="trace"?(R(!0),Ve("")):(l(K.id),n("chat"))}catch(Re){console.error(":",Re),Ve("")}},be=F.useCallback(()=>{R(!1)},[]);return f?k.jsx("div",{className:"h-dvh w-full flex items-center justify-center bg-canvas paper-texture",children:k.jsxs(de.div,{className:"flex flex-col items-center gap-4",animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},children:[k.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-mood-melancholy/30 to-mood-warmth/30 blur-lg"}),k.jsx("p",{className:"text-ink-faint font-serif text-sm",children:"..."})]})}):d?k.jsxs("div",{className:"relative h-dvh w-full overflow-hidden bg-canvas",children:[k.jsxs(si,{mode:"wait",children:[r==="home"&&k.jsx(de.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"h-full",children:k.jsx(iE,{})},"home"),r==="letters"&&k.jsx(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full",children:k.jsx(rE,{onBack:()=>n("home"),onOpenChat:re})},"letters"),r==="traces"&&k.jsx(de.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full",children:k.jsx(sE,{onBack:()=>n("home")})},"traces"),r==="chat"&&s&&k.jsx(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"h-full",children:k.jsx(TE,{noteId:s,onBack:()=>n("home")})},"chat")]}),r==="home"&&k.jsxs(de.div,{className:"fixed top-0 right-0 safe-area-top z-30 px-4 pt-4 flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[k.jsxs(de.button,{className:"flex items-center gap-1.5 px-3 py-1.5 glass rounded-full text-ink",whileTap:{scale:.95},onClick:()=>{},children:[k.jsx(WS,{className:"w-4 h-4"}),k.jsx("span",{className:"text-xs font-serif",children:""})]}),k.jsx(de.button,{className:"p-2 glass rounded-full text-ink-faint",whileTap:{scale:.95},onClick:ie,children:k.jsx(BS,{className:"w-4 h-4"})})]}),r==="home"&&k.jsx(de.nav,{className:"fixed bottom-0 left-0 right-0 safe-area-bottom z-20",initial:{y:100},animate:{y:0},transition:{delay:.5},children:k.jsxs("div",{className:"flex items-center justify-around px-6 py-2 mx-4 mb-2 glass rounded-full",children:[k.jsx(jg,{icon:k.jsx(FS,{className:"w-5 h-5"}),label:"",isActive:!0,onClick:()=>n("home")}),k.jsxs(de.button,{className:"relative -mt-6 flex flex-col items-center select-none touch-none",whileTap:{scale:.95},onMouseDown:Ce,onMouseUp:Ae,onMouseLeave:le,onTouchStart:Ce,onTouchEnd:Ae,onTouchCancel:le,children:[k.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-mood-melancholy to-mood-warmth flex items-center justify-center shadow-lg",children:k.jsx(nh,{className:"w-6 h-6 text-white"})}),k.jsx("span",{className:"text-xs font-serif text-ink mt-1",children:""})]}),k.jsx(jg,{icon:k.jsx(OS,{className:"w-5 h-5"}),label:"",isActive:!1,onClick:()=>n("traces")})]})}),k.jsx(bE,{isOpen:_,mode:C,onClose:()=>x(!1),onSave:ze}),k.jsx(ME,{isActive:N,onComplete:be}),k.jsx(LE,{message:T,isVisible:j})]}):k.jsx(kE,{})}function jg({icon:r,label:n,isActive:s,onClick:l}){return k.jsxs(de.button,{className:`flex flex-col items-center gap-0.5 px-4 py-2 rounded-full transition-colors ${s?"text-ink":"text-ink-faint"}`,onClick:l,whileTap:{scale:.95},children:[r,k.jsx("span",{className:"text-xs font-serif",children:n})]})}b_.createRoot(document.getElementById("root")).render(k.jsx(F.StrictMode,{children:k.jsx(NE,{})}));
//# sourceMappingURL=index-CjyuM--B.js.map
